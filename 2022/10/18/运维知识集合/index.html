<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/images/剑来大小抠图/bitbug_favicon大.ico"><link rel="icon" href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/images/剑来大小抠图/bitbug_favicon大.ico"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="MuyanGit"><meta name="keywords" content=""><meta name="description" content="1&#96;CentOS 8   的下载与安装 小机灵鬼 14 人赞同了该文章 我下载的是CentOS8 下载地址：http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;centos&#x2F;8.2.2004&#x2F;isos&#x2F;x86_64&#x2F; 在这里面有很多版本，可以根据他们的区别自行下载需要的版本： CentOS-8.2.2004-x86_64-dvd1.iso 标准安装版，一般下载这个就可以了（推荐"><meta property="og:type" content="article"><meta property="og:title" content="运维知识集合"><meta property="og:url" content="http://example.com/2022/10/18/%E8%BF%90%E7%BB%B4%E7%9F%A5%E8%AF%86%E9%9B%86%E5%90%88/index.html"><meta property="og:site_name" content="MuyanGit的博客"><meta property="og:description" content="1&#96;CentOS 8   的下载与安装 小机灵鬼 14 人赞同了该文章 我下载的是CentOS8 下载地址：http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;centos&#x2F;8.2.2004&#x2F;isos&#x2F;x86_64&#x2F; 在这里面有很多版本，可以根据他们的区别自行下载需要的版本： CentOS-8.2.2004-x86_64-dvd1.iso 标准安装版，一般下载这个就可以了（推荐"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-db369eb4969a7044f7ba29c15b9f9ae6_720w-166608864456132.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-dc52076bdc29f18b85d0b9943ab04679_xs-166608864456234.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-065a399eb138c9ffd15137cedbb4af18_720w-166608864456236.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-933b45db5ce3f0dc80294783cac13546_720w-166608864456238.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-6cead87f19b137377e5e0f30b0b0a0a6_720w-166608864456240.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-8510379d281d748f02c536ed7746444d_720w-166608864456242.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-058a1787d8125c1662f15d92e9226b5c_720w.jpeg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-4c086ae248457a4eaa5740e02239dd7f_720w-166608864456345.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-31ffc26a34d9970de04e5d2c4d8635c7_720w-166608864456347.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fb5b2a87cba3f78a3f1ca1d273d62fb8_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-74280d6b09a33500360a19c19821f4b7_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-028132f220e3642be935c104fc677020_720w.jpeg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-c0803aab6b20300380b6e97fcec41e3d_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-58a2f072be1fc293805daf0f97fb2d2d_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-8bf448c25b43d7ed1e51c1e750155c02_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-33db67a671334d6dbf91cc88065f41f0_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-621f39657a46d9663533e40c5d556106_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-04ceb5fee9e68bf669a57439a24b7e23_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-305b16d1d8462e03f54c2e5339248bda_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-47786e4feef95af20e16f8e7cfd84642_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221019185259429.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-cb5dffde89c7c223a4281c00e1a2343d_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-6dfa909b7ca935ee42b4c8d83b802a36_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617775070211.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617775070312.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-699e32f7dea53b07048d37ef3787ef43_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-4e705fe9b875733907df744ede451012_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-1bfb2eb69b0b5e10fe621c9b5b7573ed_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221019185821764.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fae36c69ef89128fa942979b1f347a5f_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221019190112558.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-a65d5a9c95850775af1c694ac2c1fe70_720w.jpeg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-1670e24f4a27ac96178a1463a9c3d0d7_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-eb2904ca077c50a4ec4c982427c39028_720w.jpeg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-3dc9521f823710bf04307647daadd036_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617810326419.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617810326520.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617810326521.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-42f1b80a83c3a4b7bf36aa10c63c5b79_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-9dc9dea76983074317efa8819e5cfbf7_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-46aceaa8267c59798cf13c3a470677d3_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-70f40f834f6f5536e7cfa61c69966e87_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-8d0c3c691bf752d1c15a1b7c24e8757d_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-bdcdb8df47b571f96ec83d6265717bf3_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221019194820241.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-7aba6db9f0ee7e144ec074782112d37f_l.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-f38d51d0c51e2535f9266956789bf996_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-215e1061f0457cd3a2a3eb2ff7890a8b_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-a08cf83ced4f24a850fda2c33a73e326_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-ba27a9eb3093a93dcbab81ec8e8802be_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-ecd23c4780be2f7fe39868f0d0d5cd4e_180x120.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-ae92cb3eddb489af5bb3b5105d42a24d_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-7a09f27c5038b2a750e572acb64645eb_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/640.jpeg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/640-166624082682689.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/640-166624082682790.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-2c521f76c82518a2457e56e8bc1e8283_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-8138fe5ad8c8c6158fbe8f3a20c0ad22_l.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-0340edbacd8b9e40c4cb56f4e85b18a5_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-dc452f6672d6e6c19c7b5314b353b96d_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-07d952018bef07441921d1f9840f042a_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-e216df893d4bed43c96f243fa27a6de0_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-cee61eb6e0243a538a71a2c3043c4102_720w.jpeg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-e337d1d7b2f231ded5c53e5d400b48eb_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps10.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps11.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps12.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps13.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps14.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps15.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221018201232065.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps16.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps17.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps18.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxNzU0NTkx,size_16,color_FFFFFF,t_70.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-11bdc958ee5fce6aaba46cb616ec206e_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-06d676c1844c89d9907a0e777e594e6d_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-4f66a0cda2d17607963f7acdddb18930_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-5a77529ece185d4288343ca5a0e7cee7_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fb66f00507d3232da0ccae692dd71e0b_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-7cc7aadbb7d0bd5caa5da2d0ed591fe4_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-2e7e21be6a224f3794c8b1f0ac4afd74_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-d004c590b54a215219c4b4f139450613_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-35342f232edca970a52826dafecb60d5_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-d7e1b94adbec2eec0f5031ac9169cf4d_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312150421741-510432901.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312150835850-850488750.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312151122706-1585587214.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312151745152-878342291.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312152012380-292423276.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312152334545-909353795.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/20210719162723.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-b4c515dc3511148f41d777798f821911_xs.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-6b3585128e2a581ddd640141a128b16b_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fe887b67be084859cbe96aced2b48d2e_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-369cc048106ba4daac0e3f5a82626896_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-ee85ca83761e88e0d5f214d3bdb5dee9_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-a6c33120e9af8b1533cc7428839cf526_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-53b6feba72c4c28d4659fcf9a2a1d165_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1012369-20200506164726411-2126059166.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1012369-20200506164932873-1608969169.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1012369-20200506165148156-88724778.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1961011-20200312125600032-1919368532.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1961011-20200312125619673-2054563513.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115120910.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115304467.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115458306.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115711231.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115745730.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115830848.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020120114630.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020120225480.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121034093.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121153208.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121325655.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121505122.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121606887.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020145140493.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020151843747.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020161312046.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020161426088.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020162456857.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020134014210.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020134125654.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020134353374.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020134941655.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121725097.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-4812630bc27d642f7cafcd6cdeca3d7a.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-533f6cb014aefa60c88b040e3936ec90_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-160e98e5bf721e0979aa9bbeb64d7b7e_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-71fce4f731838438d189e61cd55b68ec_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fdb4e9ccc996dbc8789ceaa18ea0a25e_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-488f438cee82a6a01996b12caea8de80_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-598025c168ac40187beebd5ca460d0f9_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-0c4ba2ae16bf8ae50b7e54452865f46c_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-f6e3cb68936d13e338b516a6c4a54c08_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-850ef2bba3e63219c70716630bda7f4b_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-dcb2f642852197166b899715332e5d8b_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-a19ce264eabac43e682f05d89af2cf27_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-79bf33489971658116da0c98c5fe7556_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020162844966.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163105689.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163043300.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163704645.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163553259.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163842811.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020164008261.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020164521788.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020164904970.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020165355830.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020165423976.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020165521357.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020173936029.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020174926840.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020174800021.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020175401526.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020175953803.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180709635.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180938422.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180248618.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180431960.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180843274.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020181434307.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020181530914.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020181839304.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020183048198.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020183550191.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020183626238.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020183711905.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020195205307.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020200530263.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020201234099.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020201258296.png"><meta property="article:published_time" content="2022-10-18T10:17:48.000Z"><meta property="article:modified_time" content="2022-10-20T12:18:38.133Z"><meta property="article:author" content="MuyanGit"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-db369eb4969a7044f7ba29c15b9f9ae6_720w-166608864456132.jpg"><title>运维知识集合 - MuyanGit的博客</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var dntVal,Fluid=window.Fluid||{},CONFIG=(Fluid.ctx=Object.assign({},Fluid.ctx),{hostname:"example.com",root:"/",version:"1.9.2",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"wrsI8VLOqU4aU1Bf7ax2ybPp-MdYXbMMI",app_key:"AEijWlUoG3pMbyJKxexAmJtN",server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"});CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.2.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>言念君子，温其如玉。</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="运维知识集合"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-10-18 18:17" pubdate>2022年10月18日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 52k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 436 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">运维知识集合</h1><div class="markdown-body"><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-db369eb4969a7044f7ba29c15b9f9ae6_720w-166608864456132.jpg" srcset="/img/loading.gif" lazyload alt="CentOS8的下载与安装"></p><h1 id="1-96-CentOS-8-的下载与安装"><a href="#1-96-CentOS-8-的下载与安装" class="headerlink" title="1&#96;CentOS 8   的下载与安装"></a>1&#96;CentOS 8 的下载与安装</h1><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/xiao-ji-ling-gui-79-4"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-dc52076bdc29f18b85d0b9943ab04679_xs-166608864456234.jpg" srcset="/img/loading.gif" lazyload alt="小机灵鬼"></a></p><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/xiao-ji-ling-gui-79-4">小机灵鬼</a></p><p>14 人赞同了该文章</p><p>我下载的是CentOS8</p><p>下载地址：<a href="https://link.zhihu.com/?target=http://mirrors.aliyun.com/centos/8.2.2004/isos/x86_64/">http://mirrors.aliyun.com/centos/8.2.2004/isos/x86_64&#x2F;</a></p><p>在这里面有很多版本，可以根据他们的区别自行下载需要的版本：</p><p><a href="https://link.zhihu.com/?target=http://mirrors.aliyun.com/centos/8.2.2004/isos/x86_64/CentOS-8.2.2004-x86_64-dvd1.iso">CentOS-8.2.2004-x86_64-dvd1.iso</a> 标准安装版，一般下载这个就可以了（推荐）</p><p><a href="https://link.zhihu.com/?target=http://mirrors.aliyun.com/centos/8.2.2004/isos/x86_64/CentOS-8.2.2004-x86_64-minimal.iso">CentOS-8.2.2004-x86_64-minimal.iso</a> 精简版，自带的软件最少</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-065a399eb138c9ffd15137cedbb4af18_720w-166608864456236.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>打开Vmware，选择文件-新建虚拟机，在弹出窗口选择自定义</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-933b45db5ce3f0dc80294783cac13546_720w-166608864456238.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>然后会弹出如下页面，直接下一步即可</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-6cead87f19b137377e5e0f30b0b0a0a6_720w-166608864456240.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>安装来源选择稍后安装</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-8510379d281d748f02c536ed7746444d_720w-166608864456242.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>客户机操作系统选择Linux，版本选择CentOS 8 64位</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-058a1787d8125c1662f15d92e9226b5c_720w.jpeg" srcset="/img/loading.gif" lazyload alt="img"></p><p>改一下虚拟机名称和位置，然后点击下一步</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-4c086ae248457a4eaa5740e02239dd7f_720w-166608864456345.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>处理机配置按默认的来就可以了，点击下一步</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-31ffc26a34d9970de04e5d2c4d8635c7_720w-166608864456347.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>虚拟机内存，这里按他配置好的来即可，这里大家容易有一个误区：内存大运行就快，这种想法是错误的！因为如果内存给的过大，可能运行会比较卡。</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fb5b2a87cba3f78a3f1ca1d273d62fb8_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>选择网络连接</p><p>如果你的物理机（电脑）在局域网就选择第一个桥接网络；</p><p>如果物理机处于连网状态（上网），就选择第二个；</p><p>如果物理机是无连网（不使用网络状态），选择第三个。</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-74280d6b09a33500360a19c19821f4b7_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>接下来就下一步下一步就好了</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-028132f220e3642be935c104fc677020_720w.jpeg" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-c0803aab6b20300380b6e97fcec41e3d_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-58a2f072be1fc293805daf0f97fb2d2d_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-8bf448c25b43d7ed1e51c1e750155c02_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-33db67a671334d6dbf91cc88065f41f0_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>点击完成</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-621f39657a46d9663533e40c5d556106_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>接下来就该加载镜像文件了，打开CD&#x2F;DVD</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-04ceb5fee9e68bf669a57439a24b7e23_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>在弹窗里选择使用ISO映像文件，找到之前下载好的.iso文件地址，然后点击确定</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-305b16d1d8462e03f54c2e5339248bda_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>然后在这里点击开启此虚拟机</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-47786e4feef95af20e16f8e7cfd84642_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>开启之后选择第一项 install CentOS8,第二项说的是：“测试安装的光盘镜像并安装CentOS 8 Troubleshooting 修复故障，修复无法正启动的Linux系统时的时候使用。选好之后等待弹出如下窗口，选择使用语言</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221019185259429.png" srcset="/img/loading.gif" lazyload alt="image-20221019185259429"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-cb5dffde89c7c223a4281c00e1a2343d_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>点击有黄色感叹号的地方</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-6dfa909b7ca935ee42b4c8d83b802a36_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>如上图所示，安装向导已经自动提供了“键盘布局”、“时间和日期”、“安装来源”和“软件选择”的选项。</p><p>“安装来源”—-</p><p>在软件选择选项中选择安装的模式。例如“包含图形界面”选项会在安装后的系统中提供图形界面，而如果想安装尽可能少的额外软件，可以选择“最小化安装”。<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617775070211.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p>这里我们选择“包含图形界面”，点击“完成”。<br>Kdump 功能默认是开启的。尽管这是一个强烈建议开启的功能，但也可以点击对应的图标将其关闭。<br>如果想要在安装过程中对网络进行配置，可以点击“网络与主机名”选项。<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617775070312.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p>如果系统连接到启用了 DHCP 功能的调制解调器上，就会在启动网络接口的时候自动获取一个 IP 地址。如果需要配置静态 IP，点击“配置”并指定 IP 的相关信息。除此以外我们还将主机名设置为 “linuxxxxx.com”。</p><p>完成网络配置后，点击“完成”。</p><p>最后我们要配置“安装目标”，指定 CentOS 8 将要安装到哪一个硬盘，以及相关的分区方式。</p><p>存储配置选择自定义-左上角Done</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-699e32f7dea53b07048d37ef3787ef43_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>点击红色框框起来的地方-</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-4e705fe9b875733907df744ede451012_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>这里直接点击完成就可以-左上角Done</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-1bfb2eb69b0b5e10fe621c9b5b7573ed_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221019185821764.png" srcset="/img/loading.gif" lazyload alt="image-20221019185821764"></p><p>点击接受更改</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fae36c69ef89128fa942979b1f347a5f_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>修改密码-root-</p><p>—User Creation-创建合适的用户</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221019190112558.png" srcset="/img/loading.gif" lazyload alt="image-20221019190112558"></p><p>点击安装，然后等着就好了</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-a65d5a9c95850775af1c694ac2c1fe70_720w.jpeg" srcset="/img/loading.gif" lazyload alt="img"></p><p>密码我设置的root，根据个人习惯自行设置</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-1670e24f4a27ac96178a1463a9c3d0d7_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>点击完成配置</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-eb2904ca077c50a4ec4c982427c39028_720w.jpeg" srcset="/img/loading.gif" lazyload alt="img"></p><p>这时候已经没有黄色感叹号了，咱们就可以直接点击重启</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-3dc9521f823710bf04307647daadd036_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>在 GRUB 引导菜单中，选择 CentOS 8 进行启动。<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617810326419.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p>同意 CentOS 8 的许可证，点击“完成”。<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617810326520.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p>在下一个界面，点击“完成配置”。<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NtaWxlX0JvZHk=,size_16,color_FFFFFF,t_70-166617810326521.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p>进入欢迎页面，点击前进按钮</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-42f1b80a83c3a4b7bf36aa10c63c5b79_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>选择跳过</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-9dc9dea76983074317efa8819e5cfbf7_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>这里自己起一个名字就好了</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-46aceaa8267c59798cf13c3a470677d3_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>再输入用一下刚刚设置的密码</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-70f40f834f6f5536e7cfa61c69966e87_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>ok 一切准备就绪，现在就可以使用了</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-8d0c3c691bf752d1c15a1b7c24e8757d_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>登录一下就ok啦</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-bdcdb8df47b571f96ec83d6265717bf3_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>发布于 2020-12-03 16:11</p><h1 id="2-96-一键提交git-bat"><a href="#2-96-一键提交git-bat" class="headerlink" title="2&#96;一键提交git-bat"></a>2&#96;一键提交git-bat</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">@<span class="hljs-built_in">echo</span> off<br>rem 设置默认值<br><span class="hljs-built_in">set</span> content=<span class="hljs-string">&quot;%date% %time%: Updated By MuyanGit&quot;</span><br><span class="hljs-built_in">set</span> /p content= 输入本次提交的内容，不建议省略：<br><br>git add .<br><br>rem 提交更新<br>git commit -m %content%<br><br>rem 推送到服务端<br>rem git push<br><br>git push origin master --force &amp;&amp; <span class="hljs-built_in">echo</span> 执行成功 || <span class="hljs-built_in">echo</span> 执行失败<br><br><br>pause<br></code></pre></td></tr></table></figure><p>bat打印日期</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">echo</span> &quot;<span class="hljs-variable">%date:~0,4%</span><span class="hljs-variable">%date:~5,2%</span><span class="hljs-variable">%date:~8,2%</span>&quot;<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment">#author Oliver</span><br><span class="hljs-comment">#since 2020-09-03 15:24:31</span><br> <br><span class="hljs-comment">#git remote rm origin</span><br><span class="hljs-comment">#replace your git location</span><br><span class="hljs-comment">#git remote add origin &#x27;https://github.com/**********&#x27;</span><br>git pull remote master<br>git add .<br><span class="hljs-comment">#执行shell脚本，可以传一个参数 $1 是git 的提交的msg：./shell.sh &quot;提交代码&quot;</span><br>git commit -m <span class="hljs-variable">$1</span><br>git push origin master --force<br><span class="hljs-comment">#执行成功</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;$?&quot;</span> = <span class="hljs-string">&quot;0&quot;</span> ]<br><span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\033[42;34m push to github success! \033[0m&quot;</span><br><span class="hljs-keyword">else</span><br>   <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\033[41;30m push to github fail! \033[0m&quot;</span><br>   <span class="hljs-built_in">exit</span> 1<br><span class="hljs-keyword">fi</span><br> <br></code></pre></td></tr></table></figure><h1 id="3·centos常用命令"><a href="#3·centos常用命令" class="headerlink" title="3·centos常用命令"></a>3·centos常用命令</h1><h3 id="1-96-history-命令"><a href="#1-96-history-命令" class="headerlink" title="1&#96; history 命令"></a>1&#96; history 命令</h3><blockquote></blockquote><p>随着我在终端中花费越来越多的时间，我感觉就像在不断地寻找新的命令，以使我的日常任务更加高效。GNU 的 <code>history</code> 命令是一个真正改变我日常工作的命令。</p><p>GNU <code>history</code> 命令保存了从该终端会话运行的所有其他命令的列表，然后允许你重放或者重用这些命令，而不用重新输入它们。如果你是一个老玩家，你知道 <code>history</code> 的力量，但对于我们这些半吊子或新手系统管理员来说， <code>history</code> 是一个立竿见影的生产力增益。</p><p>历史 101</p><p>要查看命令历史，请在 Linux 中打开终端程序，然后输入：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-variable">$</span> <span class="hljs-built_in">history</span><br></code></pre></td></tr></table></figure><p>这是我得到的响应：</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span> <span class="hljs-keyword">clear</span><br><br><span class="hljs-symbol">2 </span> ls -al<br><br><span class="hljs-symbol">3 </span> sudo dnf update -y<br><br><span class="hljs-symbol">4 </span> history<br></code></pre></td></tr></table></figure><p><code>history</code> 命令显示自开始会话后输入的命令列表。 <code>history</code> 有趣的地方是你可以使用以下命令重放任意一个命令：</p><p>中间不能有空格</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>!<span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p>提示符中的 <code>!3</code> 告诉 shell 重新运行历史列表中第 3 个命令。我还可以输入以下命令来使用：</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">linuser<span class="hljs-title">@my_linux_box</span>: <span class="hljs-title">!sudo</span> dnf<br></code></pre></td></tr></table></figure><p><code>history</code> 将搜索与你提供的模式相匹配的最后一个命令，并运行它。</p><p>搜索历史</p><p>你还可以输入 <code>!!</code> 重新运行命令历史中的最后一条命令。而且，通过与<code>grep</code> 配对，你可以搜索与文本模式相匹配的命令，或者通过与 <code>tail</code> 一起使用，你可以找到你最后几条执行的命令。例如：</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221019194820241.png" srcset="/img/loading.gif" lazyload alt="image-20221019194820241"></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vim">$ <span class="hljs-keyword">history</span> | <span class="hljs-keyword">grep</span> dnf<br><br><span class="hljs-number">3</span>  sudo dnf <span class="hljs-keyword">update</span> -<span class="hljs-keyword">y</span><br><br><span class="hljs-number">5</span>  <span class="hljs-keyword">history</span> | <span class="hljs-keyword">grep</span> dnf<br><br>$ <span class="hljs-keyword">history</span> | tail -n <span class="hljs-number">3</span><br><br><span class="hljs-number">4</span>  <span class="hljs-keyword">history</span><br><br><span class="hljs-number">5</span>  <span class="hljs-keyword">history</span> | <span class="hljs-keyword">grep</span> dnf<br><br><span class="hljs-number">6</span>  <span class="hljs-keyword">history</span> | tail -n <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p>另一种实现这个功能的方法是输入 <code>Ctrl-R</code> 来调用你的命令历史记录的递归搜索。输入后，提示变为：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">(<span class="hljs-name">reverse-i-search</span>)`<span class="hljs-symbol">&#x27;:</span><br></code></pre></td></tr></table></figure><p>现在你可以开始输入一个命令，并且会显示匹配的命令，按回车键执行。</p><p>更改已执行的命令</p><p><code>history</code> 还允许你使用不同的语法重新运行命令。例如，如果我想改变我以前的命令 <code>history | grep dnf</code> 成 <code>history | grep ssh</code>，我可以在提示符下执行以下命令：</p><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cos">$ <span class="hljs-symbol">^dnf</span><span class="hljs-symbol">^ssh</span>^<br></code></pre></td></tr></table></figure><p><code>history</code> 将重新运行该命令，但用 <code>ssh</code> 替换 <code>dnf</code>，并执行它。</p><p>删除历史</p><p>有时你想要删除一些或全部的历史记录。如果要删除特定命令，请输入 <code>history -d &lt;行号&gt;</code>。要清空历史记录，请执行 <code>history -c</code>。</p><p>历史文件存储在一个你可以修改的文件中。bash shell 用户可以在他们的家目录下找到 <code>.bash_history</code>。</p><p>下一步</p><p>你可以使用 <code>history</code> 做许多其他事情：</p><p>◈ 将历史缓冲区设置为一定数量</p><p>◈ 记录历史中每行的日期和时间</p><p>◈ 防止某些命令被记录在历史记录中</p><p>有关 <code>history</code> 命令的更多信息和其他有趣的事情，请参考 GNU Bash 手册[1]。</p><h3 id="2·-useradd-Centos8用户管理，如何添加用户？"><a href="#2·-useradd-Centos8用户管理，如何添加用户？" class="headerlink" title="2·   useradd  - Centos8用户管理，如何添加用户？"></a>2· useradd - Centos8用户管理，如何添加用户？</h3><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/linuxxue-xi-40"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-7aba6db9f0ee7e144ec074782112d37f_l.jpg" srcset="/img/loading.gif" lazyload alt="学神来啦"></a></p><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/linuxxue-xi-40">学神来啦</a></p><p>linux kali 资料 和笔记 xuegodcn</p><p>1 人赞同了该文章</p><blockquote><p><strong>用户一般来说是指系统的使用者，使用者可以使用这些名称来登录使用计算机，除了使用者之外，一些系统服务也需要含有部分特权的用户账户运行；因此出于安全考虑，用户管理应运而生，它加以明确限制各个用户账户的权限，root在计算机中用拥有至高特权，所以一般只作管理用，非特权用户可以通过SU或SUDO程序来临时获得特权。</strong><br><strong>Linux系统通过用户和用户组实现访问控制，包括对文件访问、设备使用的控制。</strong><br><strong>1人可以拥有很多账户，只不是彼此名称不同，比如root名称已经占用就不能再用了，此外，任意用户可能从属某个用户组，此用户可以加入某些已经存在的组来获得该组的特权。</strong><br><strong>每1个文件的属性中都有一个文件拥有者和所属组。另外，还有三种类型的访问权限：读（read）、写（write）、运行（execute）。我们可以针对文件的属主、属组、而设置相应的访问权限。再次，我们可以通过</strong> <strong>ll</strong>或 stat<strong>命令查询文件属主、属组和权限。</strong></p></blockquote><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# ll | tail-2<br>-rw-------. 1 root root 1374 3月  12 17:34 anaconda-ks.cfg<br>-rw-r--r--. 1 root root 1529 3月  12 18:10 initial-setup-ks.cfg <br>[root@xuegod63 ~]# stat anaconda-ks.cfg <br> 文件：&quot;anaconda-ks.cfg&quot;<br> 大小：1680       块：8          IO 块：4096   普通文件<br>设备：803h/2051d Inode：16797763    硬链接：1<br>权限：(0600/-rw-------)  Uid：(    0/    root)   Gid：(    0/    root)<br></code></pre></td></tr></table></figure><p><strong>用户的分类</strong></p><p>Linux用户三种角色：超级用户，普通用户，虚拟用户。</p><p>超级用户： root 拥有对系统的最高的管理权限，UID&#x3D;0</p><p>普通用户：</p><p>系统用户 UID范围:1-999(centos7&#x2F;8版本) 1-499(centos6版本)</p><p>本地用户 UID范围:1000+(centos7&#x2F;8版本) 500+(centos6版本)</p><p>UID:即每个用户的身份标示,类似于每个人的身份证号码.</p><p>虚拟用户：伪用户 一般不会用来登录系统的，它主要是用于维持某个服务的正常运行.如：ftp，apache</p><p>用户基本信息保存位置：&#x2F;etc&#x2F;passwd</p><p>下图是用户和组的关系：</p><p>一对一：一个用户可以存在一个组中； 一对多：一个用户可以存在多个组中</p><p>多对一：多个用户可以存在一个组中； 多对多：多个用户可以存在多个组中</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-f38d51d0c51e2535f9266956789bf996_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>配置文件</strong></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-215e1061f0457cd3a2a3eb2ff7890a8b_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>用户命令</strong></p><p>命令：useradd</p><p>useradd -d -u “UID” -g “初始组” -G “附加组” -s “登陆的shell” 用户</p><p>-u： 指定uid</p><p>-d： -d 用户主目录路径， 可以指定用户家目录</p><p>-M: 不创建用户的家目录</p><p>-g：设置用户初始组的名称或数字ID；该组必须是存在的；如果没有设置该选项，useradd会根据&#x2F;etc&#x2F;login.defs文件中的USERGROUPS_ENAB环境变量进行设置。默认USERGROUPS_ENAB yes 会用和用户名相同的名字创建群组.</p><p>-G：用户要加入的附加组列表；使用逗号分隔多个组，不要添加空格；如果不设置，用户仅仅加入初始组。(一个用户只允许有一个主组，可以有多个附属组)</p><p>-s：用户默认登录shell的路径；启动过程结束后，默认启动的登录shell在此处设定；请确保使用的shell已经安装，默认是 <a href="https://link.zhihu.com/?target=https://wiki.archlinux.org/index.php/Bash">Bash</a>。有时候需要禁止某些用户执行登录动作，例如用来执行系统服务的用户。</p><p>将shell设置成 &#x2F;sbin&#x2F;nologin 就可以禁止用户登录。</p><blockquote><p>更多技术干货尽在公众号【学神来啦】！</p></blockquote><p><strong>添加登录用户</strong></p><p>例：添加一个名为harry的用户，并使用bash作为登录的shell</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# useradd harry<br>[root@xuegod63 ~]# tail -1 /etc/passwd<br>harry:x:1001:1001::/home/harry:/bin/bash<br></code></pre></td></tr></table></figure><p>说明：此命令会自动创建harry组，并成为harry用户的默认主组，同时默认的登录shell是bash</p><p>用户帐户的全部信息被保存在&#x2F;etc&#x2F;passwd文件。这个文件以如下格式保存了每一个系统帐户的所有信息 (字段以“:”分割)</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-a08cf83ced4f24a850fda2c33a73e326_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>harry:x:1001:1001::&#x2F;home&#x2F;harry:&#x2F;bin&#x2F;bash #每行含意如下：</p><p>harry：用户名</p><p>x：密码占位符</p><p>1001：用户的UID，使用正整数表示，范围可以是0-65535</p><p>1001：用户所属组的GID，它都是用数字来表示的</p><p>用户描述信息：对用户的功能或其它来进行一个简要的描述，此字段会出现在登录用户界面，可以通过点击输入对应密码进行登录，却并不能手动输入此字段代替用户名。</p><p>&#x2F;home&#x2F;harry：用户主目录（shell命令提示符中用“~”表示）</p><p>&#x2F;bin&#x2F;bash：用户登录系统后使用的shell</p><p>例：查看系统中，支持哪些shell</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# cat /etc/shells    #查看系统中，支持哪些shell<br>/bin/sh<br>/bin/bash<br>/usr/bin/sh<br>/usr/bin/bash<br>再安装一种名叫zsh的shell<br>[root@xuegod63 ~]# cat /etc/shells <br>/bin/sh<br>/bin/bash<br>/usr/bin/sh<br>/usr/bin/bash<br>/usr/bin/zsh<br>/bin/zsh<br>[root@xuegod63 ~]# yum install zsh -y<br>[root@xuegod63 ~]# zsh<br>[root@xuegod63]~# cd /etc/sysconfig/network-scripts <br>[root@xuegod63]/etc/sysconfig/network-scripts# 注：zsh这种shell会显示绝对路径的<br></code></pre></td></tr></table></figure><h3 id="指定用户UID"><a href="#指定用户UID" class="headerlink" title="指定用户UID :"></a><strong>指定用户UID :</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">useradd  -u 用户ID<br>[root@xuegod63 ~]# useradd  -u 1100 oracle<br>[root@xuegod63 ~]# id oracle<br>uid=1100(oracle) gid=1100(oracle) 组=1100(oracle)<br>[root@xuegod63 ~]# tail -1 /etc/passwd<br>oracle:x:1100:1100::/home/oracle:/bin/bash<br>[root@xuegod63 ~]# ls -a /home/oracle/ <br>.  ..  .bash_logout  .bash_profile  .bashrc  .mozilla<br></code></pre></td></tr></table></figure><h3 id="指定用户主目录"><a href="#指定用户主目录" class="headerlink" title="指定用户主目录"></a><strong>指定用户主目录</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# useradd  -d /opt/ftp ftp1<br>[root@xuegod63 ~]# ls -a /opt/ftp<br>[root@xuegod63 ~]# tail -1 /etc/passwd<br>ftp1:x:1101:1101::/opt/ftp:/bin/bash<br></code></pre></td></tr></table></figure><h3 id="指定用户的主组"><a href="#指定用户的主组" class="headerlink" title="指定用户的主组"></a><strong>指定用户的主组</strong></h3><p><strong>例：</strong></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# useradd  xuegod<br>[root@xuegod63 ~]# id xuegod<br>uid=1103(xuegod) gid=1103(xuegod) 组=1103(xuegod) <br>[root@xuegod63 ~]# useradd  -g xuegod xuegod2<br>[root@xuegod63 ~]# id xuegod2<br>uid=1104(xuegod2) gid=1103(xuegod) 组=1103(xuegod)<br></code></pre></td></tr></table></figure><h3 id="指定用户的附加组"><a href="#指定用户的附加组" class="headerlink" title="指定用户的附加组"></a><strong>指定用户的附加组</strong></h3><p>我们也可以把这个附属组称为补充组，用户可以有0个或多个附加组的成员</p><p>如果一个组有多个成员，我们是可以在&#x2F;etc&#x2F;group文件中最后一个字段看到的</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# useradd  -G xuegod,oracle,root xuegod3<br>[root@xuegod63 ~]# id xuegod3<br>uid=1105(xuegod3) gid=1105(xuegod3) <br>组=1105(xuegod3),0(root),1001(harry),1103(xuegod)<br>[root@xuegod63 ~]# vim /etc/group<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-ba27a9eb3093a93dcbab81ec8e8802be_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><a href="https://link.zhihu.com/?target=http://mp.weixin.qq.com/s?__biz=MzkxNTI1OTc4MA==&mid=100009974&idx=1&sn=f3e141165ac2c782048f2719700676e9&chksm=41634f1d7614c60b2243a7757959fc703f76385531c386f2604a0044d6b62f2718330a78794c%23rd">这份Linux实战内容火了，完整版mp.weixin.qq.com&#x2F;s?__biz&#x3D;MzkxNTI1OTc4MA&#x3D;&#x3D;&amp;mid&#x3D;100009974&amp;idx&#x3D;1&amp;sn&#x3D;f3e141165ac2c782048f2719700676e9&amp;chksm&#x3D;41634f1d7614c60b2243a7757959fc703f76385531c386f2604a0044d6b62f2718330a78794c#rd<img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-ecd23c4780be2f7fe39868f0d0d5cd4e_180x120.jpg" srcset="/img/loading.gif" lazyload alt="img"></a></p><h3 id="创建用户的另外一个命令"><a href="#创建用户的另外一个命令" class="headerlink" title="创建用户的另外一个命令"></a><strong>创建用户的另外一个命令</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# adduser xuegod4<br>[root@xuegod63 ~]# id xuegod4<br>uid=1106(xuegod4) gid=1106(xuegod4) 组=1106(xuegod4)<br>[root@xuegod63 ~]# which  adduser<br>/usr/sbin/adduser<br>[root@xuegod63 ~]# ll /usr/sbin/adduser <br>lrwxrwxrwx. 1 root root 7 9月  19 2017 /usr/sbin/adduser -&gt; useradd<br>注： adduser是useradd的软链接<br></code></pre></td></tr></table></figure><h3 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a><strong>删除用户</strong></h3><p>语法： userdel [options] 用户名</p><p>选项：-r 删除的时候，会同时删除用户的家目录和&#x2F;var&#x2F;mail下的目录</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# userdel -r  xuegod3<br></code></pre></td></tr></table></figure><h3 id="密码的文件"><a href="#密码的文件" class="headerlink" title="密码的文件"></a><strong>密码的文件</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# head -3  /etc/shadow<br>root:$6$C88LCVx5ZjfBU7xv$cKcdyNeTFmOYTs9NbRZDTA4hGcbMXc/5hQEWZKCtNyLqlBagrjct.pMfs39iEaF1UbEvcOzWZHMDf9Q<br>5KojXM1::0:99999:7:::<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-ae92cb3eddb489af5bb3b5105d42a24d_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>格式如下：</strong></p><p>name 登录名称，这个必须是系统中的有效账户名</p><p>password 已加密密码，分为三个部分，第一部分是表示使用哪种哈希算法；第二部分是用于加密哈希的salt;第三部分是已加密的哈希</p><p>哈希算法：$1表示MD5 ; $6 表示SHA512 ; $5 表示SHA256</p><p>查看帮助说明： man 5 查看文件格式，man 3查看库函数</p><p>man 5 passwd</p><p>man 5 shadow</p><p>man 5 group</p><p>lastchange 最近一次更改密码的日期，以距离1970&#x2F;1&#x2F;1的天数表示</p><p>min-age 不能更改密码的最少天数，最近更改过后几天才可以更改；如果为0表示“最短期限要求”</p><p>maxage 密码过期时间，必须更改密码前的最多天数</p><p>warning 密码即将到期的警告期，以天数表示，0表示“不提供警告”</p><p>inactive 宽限天数，密码到期后</p><p>expire 账号过期时间，以距离1970&#x2F;1&#x2F;1的天数计算 (千年虫)</p><p>blank 预留字段</p><p><strong>给用户添加密码：</strong></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@panda home]# passwd oracle       #交互式修改密码<br>Changing password for user oracle.<br>New password: <br>BAD PASSWORD: The password is shorter than 8 characters<br>Retype new password: <br>passwd: all authentication tokens updated successfully.<br>[root@xuegod63 ~]# echo 123456 | passwd --stdin xuegod  #不交互<br>[root@xuegod63 ~]# echo 123456 | passwd --stdin harry<br></code></pre></td></tr></table></figure><h3 id="添加用户规则"><a href="#添加用户规则" class="headerlink" title="添加用户规则"></a><strong>添加用户规则</strong></h3><p>控制添加用户规则文件的两个文件：&#x2F;etc&#x2F;default&#x2F;useradd 和 &#x2F;etc&#x2F;login.defs</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@panda home]# egrep -v &quot;^$|^#&quot; /etc/login.defs<br>MAIL_DIR /var/spool/mail<br>PASS_MAX_DAYS 99999             #用户密码最长使用时间，多少天后会有提醒<br>PASS_MIN_DAYS 0                  #用户密码最短使用时间，意思是多少天内不能修改密码，0为不限制<br>PASS_MIN_LEN 5                  #用户密码最小长度<br>PASS_WARN_AGE 7                  #密码过期后会提醒多少天，这些天内还没有修改密码的用户，账户会被冻结<br>UID_MIN    1000      #用户ID开始的数字<br>UID_MAX    60000     #用户ID结束的数字<br>SYS_UID_MIN   201<br>SYS_UID_MAX   999<br>GID_MIN    1000<br>GID_MAX    60000     #组ID结束的数字<br>SYS_GID_MIN   201<br>SYS_GID_MAX   999<br>CREATE_HOME  yes      #是否为用户建立home目录<br>UMASK    077<br>USERGROUPS_ENAB yes<br>ENCRYPT_METHOD SHA512  #shadow文件的加密算法<br> <br>[root@panda home]# cat /etc/default/useradd<br>/etc/default/useradd 文件中的内容如下：<br>GROUP=100       #新创建用户时默认初始组的GID号（公共组），现在使用的都<br></code></pre></td></tr></table></figure><p>是私有组机制（根据创建用户名称创建组）</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">HOME=/home     # /home表示用户家目录的位置<br>INACTIVE=-1     #是否启用帐号过期。passwd文件中第７列，-1表示不启用<br>EXPIRE=      #帐号终止日期 shadow中第8字段，你可以直接设定账号在哪个日期后就直接失效，而不理会密码的问题。<br>SHELL=/bin/bash    #默认shell使用哪个<br>SKEL=/etc/skel    #模板目录<br>CREATE_MAIL_SPOOL=yes  #是否创建邮箱文件<br></code></pre></td></tr></table></figure><p>命令：chage 了解一下， 后期记不住时，可以直接vim修改shadow文件</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">-m：密码可更改的最小天数。为0时代表任何时候都可以更改密码<br>-M：密码保持有效的最大天数<br>-W：用户密码到期前，提前收到警告信息的天数<br>-E：帐号到期的日期。过了这天，此帐号将不可用<br>-d：上一次更改的日期，为0表示强制在下次登录时更新密码<br></code></pre></td></tr></table></figure><p>例：修改用户xuegod密码信息：让这个用户xuegod首次登录系统时必须更改其密码</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# chage -d 0 xuegod<br>[root@xuegod63 ~]# ssh xuegod@192.168.1.63<br>...<br>Are you sure you want to continue connecting (yes/no)? yes<br>Warning: Permanently added &#x27;192.168.1.63&#x27; (ECDSA) to the list of known hosts.<br>mk@192.168.1.63&#x27;s password: 123456<br>You must change your password now and login again!  #提示必须改密码<br></code></pre></td></tr></table></figure><p>更改用户 xuegod的密码 。</p><p>互动： 两个用户的UID可以一样吗？</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# vim /etc/passwd  # 改 xuegod uid为0<br>xuegod:x:0:0:xuegod:/home/mk:/bin/bash<br>[root@xuegod63 ~]# su - xuegod<br>上一次登录：二 9月 19 22:03:16 CST 2017:0 上<br>[mk@xuegod63 ~]# id xuegod<br>uid=0(mk) gid=0(root) 组=0(root),10(wheel)<br></code></pre></td></tr></table></figure><p>查看用户相关命令：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">#id  用户和组的信息<br>#whoami　　 #查看当前有效用户名<br>#who        #显示目前登入系统的用户信息。<br>#w           # w命令用于显示已经登陆系统的用户列表<br>#users       #用于显示当前登录系统的所有用户的用户列表<br></code></pre></td></tr></table></figure><h3 id="修改用户信息"><a href="#修改用户信息" class="headerlink" title="修改用户信息"></a><strong>修改用户信息</strong></h3><p>语法：usermod 【参数】用户名</p><p>常用参数：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">-u  UID<br>-d  宿主目录<br>-g  起始组    #只能有一个<br>-G  附加组    #可以有多个<br>-s  登录shell<br>-L       锁定<br></code></pre></td></tr></table></figure><p>例1：修改UID</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[mk@xuegod63 ~]# id oracle<br>uid=1100(oracle) gid=1100(oracle) 组=1100(oracle)<br>[mk@xuegod63 ~]# usermod   -u 1111 oracle<br>[mk@xuegod63 ~]# id oracle<br>uid=1111(oracle) gid=1100(oracle) 组=1100(oracle)<br></code></pre></td></tr></table></figure><p>例2：修改shell</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-7a09f27c5038b2a750e572acb64645eb_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>例3：更改用户主目录</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@panda home]# usermod -m -d /opt/aaa xuegod<br></code></pre></td></tr></table></figure><p>-m选项会自动创建新目录并且移内容到新目录里面</p><p>例4：添加用户描述信息</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# usermod -c &quot;hello world&quot; xuegod<br>[root@xuegod63 ~]# grep xuegod /etc/passwd<br>mk:x:1000:1000:hello world:/opt/aaa:/bin/bash<br></code></pre></td></tr></table></figure><p>总结：如果你记不住命令， 那么直接改vim &#x2F;etc&#x2F;passwd 一样的。</p><h3 id="解决模板文件被删之后显示不正常的问题"><a href="#解决模板文件被删之后显示不正常的问题" class="headerlink" title="解决模板文件被删之后显示不正常的问题"></a><strong>解决模板文件被删之后显示不正常的问题</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@xuegod63 ~]# useradd xuegod88 &amp;&amp; echo 123456 | passwd --stdin xuegod88<br>[root@xuegod63 ~]# echo 123456 | passwd --stdin xuegod88<br>[root@xuegod63 ~]# rm -rf /home/xuegod88/.bash*<br>[root@xuegod63 ~]# su - xuegod88<br>[xuegod88@xuegod63 ~]$ <br>[xuegod88@xuegod63 ~]$<br>-bash-4.2$ exit      #在centos6或7会出现这个不完整的shell提示符，如何处理？<br>[root@xuegod63 ~]# cp /etc/skel/.bash* /home/xuegod88/<br>[root@xuegod63 ~]# chown xuegod88:xuegod88 /home/xuegod88/.bash*<br>[root@xuegod63 ~]# su - xuegod88<br></code></pre></td></tr></table></figure><h5 id="Linux云计算-x2F-LINUX-x2F-Linux运维-x2F-从入门到精通-带你走进Linux的世界www-bilibili-com-video-BV1c44y1h7GL"><a href="#Linux云计算-x2F-LINUX-x2F-Linux运维-x2F-从入门到精通-带你走进Linux的世界www-bilibili-com-video-BV1c44y1h7GL" class="headerlink" title="Linux云计算&#x2F;LINUX&#x2F;Linux运维&#x2F;从入门到精通-带你走进Linux的世界www.bilibili.com/video/BV1c44y1h7GL/"></a><a href="https://link.zhihu.com/?target=https://www.bilibili.com/video/BV1c44y1h7GL/">Linux云计算&#x2F;LINUX&#x2F;Linux运维&#x2F;从入门到精通-带你走进Linux的世界www.bilibili.com/video/BV1c44y1h7GL/</a></h5><h3 id="3·-sed命令"><a href="#3·-sed命令" class="headerlink" title="3· sed		命令"></a>3· sed 命令</h3><p><a href="javascript:void(0);">Linux公社</a> <em>2019-08-25 08:59</em></p><p>Linux流编辑器是在数据中心中运行脚本的一种有用方法。通过这些命令示例，您可以开始熟悉sed。</p><p>想要修改文件而不覆盖原始文件的Linux管理员有很多选择，但最有效的工具之一是流编辑器 - sed。</p><p>流编辑器是大多数Linux发行版的默认部分。它使您能够使用Linux sed命令在操作系统中执行文本文件操作。</p><p>与大多数Linux应用程序一样，sed可以处理管道输入，这使它成为一种有效的脚本工具。您可以将其用作基本的查找和替换工具，如下面的示例命令所示，该命令查找出现的一个实例，并将其替换为两个实例。命令以 &#x2F;g结束。</p><p>sed ‘s&#x2F;one&#x2F;two&#x2F;g’ linuxidc linuxmi</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/640.jpeg" srcset="/img/loading.gif" lazyload alt="图片"></p><p>例如，这个Linux sed命令可以帮助您定位和创建配置文件的新版本。当这些函数作为脚本的一部分运行时，它们是可重复的和一致的，并且您可以快速实现更改。</p><p>但是sed的主要目的是更改文本文件的内容。它使用了一些重要的命令行开关。&#x2F;s表示搜索，该命令以&#x2F;g分隔。-i开关在适当的位置上运行命令——它直接修改文件。</p><p>sed -i ‘s&#x2F;Port 22&#x2F;Port 10000&#x2F;g’ &#x2F;etc&#x2F;ssh&#x2F;sshd_config</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/640-166624082682689.png" srcset="/img/loading.gif" lazyload alt="图片"></p><p>在此示例中，&#x2F;etc&#x2F;ssh&#x2F;sshd_config文件中Secure Shell服务器中使用的端口号从默认端口22更改为端口10000。</p><p><strong>使用Linux sed命令进行文件更改</strong></p><p>可以使用sed编辑文件，但有点不满意。 ad hoc编辑可能会导致问题，因为sed无法访问完整的源代码，也无法识别错误或拼写错误。 此外，这样做会使原始文件处于危险之中，因为一旦您更改了原始代码，就无法恢复原始代码。</p><p>您可以使用-e开关一次指定多个更改。 同样，sshd_config.conf文件使得更改多行变得简单。 下面的脚本可能看起来很复杂，但操作系统只是传递多个sed更改数据包，每个数据包前缀为-e。</p><p>使用sshd_config文件，您可以更改端口号，禁用密码身份验证并一步启用公钥身份验证。</p><p>sed -i -e ‘s&#x2F;Port 22&#x2F;Port 10000&#x2F;g’ -e ‘<br>s&#x2F;PermitRootLogin yes&#x2F;PermitRootLogin no&#x2F;g’ -e ‘<br>s&#x2F;PasswordAuthentication yes&#x2F;PasswordAuthentication no&#x2F;g’ -e ‘<br>s&#x2F;#PasswordAuthentication no&#x2F;#PasswordAuthentication no&#x2F;g’ &#x2F;etc&#x2F;ssh&#x2F;sshd_config</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/640-166624082682790.png" srcset="/img/loading.gif" lazyload alt="图片"></p><p>搜索和替换功能在新的一行; 用\分解命令不起作用，因为sed将其视为特殊字符。</p><p><strong>结合sed中的提示</strong></p><p>您还可以将多个Linux sed命令链接在一起以更改应用程序的位置。 手动修改文件路径有很大的错误空间，但自动化它可以使生活更轻松。</p><p>用作分隔符的反斜杠可能不适用于某些脚本，但sed允许您更改分隔符。 例如，假设您有一个名为example.conf的日志文件，其中包含以下内容：</p><p>logpath &#x3D; &#x2F;var&#x2F;log&#x2F;mylogfile.log</p><p>将此路径更改为&#x2F;my&#x2F;alternate&#x2F;path&#x2F;newlog.log，您可以使用|作为分隔符，因为&#x2F;在文件系统路径中不起作用。</p><p>sed -i ‘s|&#x2F;var&#x2F;log&#x2F;mylogfile.log|&#x2F;my&#x2F;alternate&#x2F;path&#x2F;newlog.log|g’ example.conf</p><p>使用Linux sed命令的其他方法包括使用^＃MyComment为搜索模式添加前缀; 这会搜索以#MyComment开头的行。 您可以在输出端使用它，以便创建一个新行来替换现有的一行。 您还可以使用$字符在行尾查找内容。</p><p>要查看更高级的示例，请使用man sed命令。 它提供了更详细的命令和语法分解。</p><p>发布于 2021-12-02 15:18</p><h3 id="p-命令，用来打印文件内容"><a href="#p-命令，用来打印文件内容" class="headerlink" title="p 命令，用来打印文件内容"></a><strong>p 命令，用来打印文件内容</strong></h3><p>(一) 打印整个文本，n 命令，仅显示 script 处理后的结果，不加 n 命令，会把待处理的信息也输出。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed -n p test.txt<br>tom likes to play football<br>kevin likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(二) 打印第一行到最后一行的内容。1表示第一行， $表示最后一行。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed -n &quot;1,$&quot;p test.txt<br>tom likes to play football<br>kevin likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(三) 过滤带 to 的行， 类似于 grep 命令。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed -n &quot;/to/&quot;p test.txt<br>tom likes to play football<br>kevin likes to eat cabbage<br>frank likes to drink beer<br></code></pre></td></tr></table></figure><p>(四) 打印匹配 kevin 开始，frank 为结束的行。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed -n &quot;/kevin/,/frank/&quot;p test.txt<br>kevin likes to eat cabbage<br>frank likes to drink beer<br></code></pre></td></tr></table></figure><h3 id="s-命令，用于替换"><a href="#s-命令，用于替换" class="headerlink" title="s 命令，用于替换"></a><strong>s 命令，用于替换</strong></h3><p>(一)将 kevin 替换成 kkk。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed  &quot;s/kevin/kkk/g&quot; test.txt<br>tom likes to play football<br>kkk likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(二) 只针对第二行进行判断。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed  &quot;2s/kevin/xxx/g&quot; test.txt<br>tom likes to play football<br>xxx likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(三) 针对多行进行替换。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed  &quot;1,4s/kevin/xxx/g&quot; test.txt<br>tom likes to play football<br>xxx likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(四) 只替换第1个 to 为 tt 。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;s/to/tt/1&quot; test.txt<br>ttm likes to play football<br>kevin likes tt eat cabbage<br>frank likes tt drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(五) 只替换第 2 个 to。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;s/to/tt/2&quot; test.txt<br>tom likes tt play football<br>kevin likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(六) 开头加点东西(注释)。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;s/^/\/\/ /&quot; test.txt<br>// tom likes to play football<br>// kevin likes to eat cabbage<br>// frank likes to drink beer<br>// cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(七) 末尾加点东西。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;s/$/  \/\/ comment /&quot; test.txt<br>tom likes to play football  // comment <br>kevin likes to eat cabbage  // comment <br>frank likes to drink beer  // comment <br>cary doesn&#x27;t like smoking  // comment <br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-2c521f76c82518a2457e56e8bc1e8283_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>欣赏一张美丽的风景照，雪景还真不错哈！！继续往下看。</p><h3 id="c-命令，用于行替换"><a href="#c-命令，用于行替换" class="headerlink" title="c 命令，用于行替换"></a><strong>c 命令，用于行替换</strong></h3><p>(一) 将第二行的内容替换 hehe。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;2 c hehe&quot; test.txt<br>tom likes to play football<br>hehe<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(二) 仅仅替换有 tom 的行。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;/tom/c cat&quot; test.txt<br>cat<br>kevin likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><h3 id="i-命令，-表示行插入"><a href="#i-命令，-表示行插入" class="headerlink" title="i 命令， 表示行插入"></a><strong>i 命令， 表示行插入</strong></h3><p>(一) 在第一行前面插入。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;1 i love you&quot; test.txt<br>love you<br>tom likes to play football<br>kevin likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(二) 在最后一行前面插入。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;$ i love you&quot; test.txt<br>tom likes to play football<br>kevin likes to eat cabbage<br>frank likes to drink beer<br>love you<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><h3 id="a-命令，-用于依附"><a href="#a-命令，-用于依附" class="headerlink" title="a 命令， 用于依附"></a><strong>a 命令， 用于依附</strong></h3><p>(一) 在第一行后依附。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;1 i love you&quot; test.txt<br>love you<br>tom likes to play football<br>kevin likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(二) 在最后一行后依附。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;$ i love you&quot; test.txt<br>tom likes to play football<br>kevin likes to eat cabbage<br>frank likes to drink beer<br>love you<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><h3 id="d-命令，删除所匹配的行"><a href="#d-命令，删除所匹配的行" class="headerlink" title="d 命令，删除所匹配的行"></a><strong>d 命令，删除所匹配的行</strong></h3><p>(一) 删除有kevin的行。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;/kevin/d&quot; test.txt<br>tom likes to play football<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(二) 删除第 1 行。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;1d&quot; test.txt<br>kevin likes to eat cabbage<br>frank likes to drink beer<br>cary doesn&#x27;t like smoking<br></code></pre></td></tr></table></figure><p>(三) 删除第 2-4 行。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">[root]# sed &quot;2,4d&quot; test.txt<br>tom likes to play football<br></code></pre></td></tr></table></figure><h6 id="絮叨"><a href="#絮叨" class="headerlink" title="絮叨"></a><strong>絮叨</strong></h6><h3 id="4·zcat"><a href="#4·zcat" class="headerlink" title="4·	zcat"></a>4·	zcat</h3><h1 id="Linux命令之zcat-16"><a href="#Linux命令之zcat-16" class="headerlink" title="Linux命令之zcat(16)"></a>Linux命令之zcat(16)</h1><p>原创 小农 <a href="javascript:void(0);">码农新锐</a> <em>2022-10-06 14:43</em> <em>发表于北京</em></p><p>收录于合集</p><p>#Linux常用命令19个</p><p>#linux20个</p><h2><a href="#" class="headerlink" title="- "></a>-</h2><h2 id="-1"><a href="#-1" class="headerlink" title="- "></a>-</h2><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><br>zcat命令可以在不真正解压文件的情况下查看到文件内容<span class="hljs-comment">;</span><br>zcat将命令行中列出的文件或由标准输入输入的数据解压，解压后的数据写到标准输出<span class="hljs-comment">;</span><br>zcat解压具有正确标志头的文件，而不管其是否带有.gz后缀<span class="hljs-comment">;</span><br>zcat与运行gunzip -c命令完全相同<br><br></code></pre></td></tr></table></figure><p><strong>1、功能说明</strong></p><p>-</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">用于查看压缩文件的内容<br></code></pre></td></tr></table></figure><p><strong>2、语法格式</strong></p><p>-</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">zcat <span class="hljs-selector-attr">[选项]</span><span class="hljs-selector-attr">[文件]</span><br></code></pre></td></tr></table></figure><p><strong>3、选项解释</strong></p><h2 id="-2"><a href="#-2" class="headerlink" title="- "></a>-</h2><h2 id="-3"><a href="#-3" class="headerlink" title="- "></a>-</h2><h2 id="-4"><a href="#-4" class="headerlink" title="- "></a>-</h2><h2 id="-5"><a href="#-5" class="headerlink" title="- "></a>-</h2><h2 id="-6"><a href="#-6" class="headerlink" title="- "></a>-</h2><p>-</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs diff"><br><span class="hljs-deletion">-S  当后缀不是标准压缩包后缀时使用此选项</span><br><span class="hljs-deletion">-c  将文件内容写到标注输出</span><br><span class="hljs-deletion">-d  执行解压缩操作</span><br><span class="hljs-deletion">-l  显示压缩包中文件的列表</span><br><span class="hljs-deletion">-L  显示软件许可信息</span><br><span class="hljs-deletion">-q  禁用警告信息</span><br><span class="hljs-deletion">-r  在目录上执行递归操作</span><br><span class="hljs-deletion">-t  测试压缩文件的完整性</span><br><span class="hljs-deletion">-V  显示指令的版本信息</span><br><span class="hljs-deletion">-1  更快的压缩速度</span><br><span class="hljs-deletion">-9  更高的压缩比</span><br></code></pre></td></tr></table></figure><p><strong>4、参考实例</strong></p><ul><li><p>显示压缩包内文件的内容</p></li><li></li><li></li></ul><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mel"><br>[root@xiaonong ~]$ zcat <span class="hljs-keyword">spring</span>.<span class="hljs-keyword">log</span><span class="hljs-number">.2022</span><span class="hljs-number">-10</span><span class="hljs-number">-05.0</span>.gz<br>当文件大时，可以配合less、more、head、grep等使用<br></code></pre></td></tr></table></figure><ul><li><p>显示多个压缩包内文件的内容</p></li><li></li></ul><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mel">[root@xiaonong ~]$ zcat <span class="hljs-keyword">spring</span>.<span class="hljs-keyword">log</span><span class="hljs-number">.2022</span><span class="hljs-number">-10</span><span class="hljs-number">-05.0</span>.gz <span class="hljs-keyword">spring</span>.<span class="hljs-keyword">log</span><span class="hljs-number">.2022</span><span class="hljs-number">-10</span><span class="hljs-number">-04.0</span>.gz<br><br></code></pre></td></tr></table></figure><ul><li><p>查看指定文件的压缩信息(压缩大小，未压缩大小，比率 ,压缩率）</p></li><li></li><li></li><li></li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-attr">[root@xiaonong ~]</span>$ zcat -l apache-maven-<span class="hljs-number">3.6</span>.<span class="hljs-number">3</span>-bin<span class="hljs-selector-class">.tar</span><span class="hljs-selector-class">.gz</span><br>compressed  uncompressed  ratio  uncompressed_name<br><span class="hljs-number">9506321</span>     <span class="hljs-number">11326976</span>      <span class="hljs-number">16.1%</span>  apache-maven-<span class="hljs-number">3.6</span>.<span class="hljs-number">3</span>-bin.tar<br></code></pre></td></tr></table></figure><ul><li><p>查看普通文件的内容</p></li><li></li></ul><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal">[root<span class="hljs-variable">@xiaonong</span> ~]<span class="hljs-variable">$ </span>zcat -l apache-maven-<span class="hljs-number">3.6</span>.<span class="hljs-number">3</span>-bin.tar.gz<br></code></pre></td></tr></table></figure><ul><li><p>禁止所有警告</p></li><li></li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-attr">[root@xiaonong ~]</span>$ zcat -<span class="hljs-selector-tag">q</span> apache-maven-<span class="hljs-number">3.6</span>.<span class="hljs-number">3</span>-bin<span class="hljs-selector-class">.tar</span>.gz<br></code></pre></td></tr></table></figure><ul><li><p>测试压缩文件等完整性</p></li><li></li></ul><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal">[root<span class="hljs-variable">@xiaonong</span> ~]<span class="hljs-variable">$ </span>zcat -t apache-maven-<span class="hljs-number">3.6</span>.<span class="hljs-number">3</span>-bin.tar.gz<br></code></pre></td></tr></table></figure><ul><li><p>查看压缩文件的内容，并将内容输入到指定文件</p></li><li></li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-attr">[root@xiaonong ~]</span>$ zcat apache-maven-<span class="hljs-number">3.6</span>.<span class="hljs-number">3</span>-bin<span class="hljs-selector-class">.tar</span><span class="hljs-selector-class">.gz</span> &gt; test.txt<br></code></pre></td></tr></table></figure><ul><li><p>显示指令等版本信息</p></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><figure class="highlight mercury"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs mercury"><br>[root@xiaonong ~]$ zcat -V apache-maven-<span class="hljs-number">3.6</span>.<span class="hljs-number">3</span>-bin.tar.gz<br>gzip <span class="hljs-number">1.5</span><br>Copyright (C) <span class="hljs-number">2007</span>, <span class="hljs-number">2010</span>, <span class="hljs-number">2011</span> Free Software Foundation, Inc.<br>Copyright (C) <span class="hljs-number">1993</span> Jean-loup Gailly.<br>This <span class="hljs-keyword">is</span> free software.  You may redistribute copies of it under the terms of<br>the GNU General Public License &lt;http://www.gnu.org/licenses/gpl.html&gt;.<br>There <span class="hljs-keyword">is</span> NO WARRANTY, to the extent permitted by law.<br><br>Written by Jean-loup Gailly.<br></code></pre></td></tr></table></figure><ul><li><p>显示软件许可信息</p></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><figure class="highlight mercury"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mercury"><br>[root@xiaonong ~]$ zcat -L apache-maven-<span class="hljs-number">3.6</span>.<span class="hljs-number">3</span>-bin.tar.gz<br>gzip <span class="hljs-number">1.5</span><br>Copyright (C) <span class="hljs-number">2007</span>, <span class="hljs-number">2010</span>, <span class="hljs-number">2011</span> Free Software Foundation, Inc.<br>Copyright (C) <span class="hljs-number">1993</span> Jean-loup Gailly.<br>This <span class="hljs-keyword">is</span> free software.  You may redistribute copies of it under the terms of<br>the GNU General Public License &lt;http://www.gnu.org/licenses/gpl.html&gt;.<br>There <span class="hljs-keyword">is</span> NO WARRANTY, to the extent permitted by law.<br></code></pre></td></tr></table></figure><h3 id="5scp"><a href="#5scp" class="headerlink" title="5		scp"></a>5 scp</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-number">1</span>、从服务器上下载文件<br>scp username@servername:<span class="hljs-regexp">/path/</span>filename <span class="hljs-regexp">/var/</span>www/local_dir（本地目录）<br><br> 例如scp root@<span class="hljs-number">192.168</span>.<span class="hljs-number">0.101</span>:<span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/test.txt /</span>var<span class="hljs-regexp">/www/</span>local_dir  把<span class="hljs-number">192.168</span>.<span class="hljs-number">0.101</span>上的<span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/test.txt 的文件下载到/</span>var<span class="hljs-regexp">/www/</span>local_dir（本地目录）<br><br><span class="hljs-number">2</span>、上传本地文件到服务器<br>scp <span class="hljs-regexp">/path/</span>filename username@servername:/path  <br><br>例如scp <span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/test.php  root@192.168.0.101:/</span>var<span class="hljs-regexp">/www/</span>  把本机<span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/目录下的test.php文件上传到192.168.0.101这台服务器上的/</span>var<span class="hljs-regexp">/www/</span>目录中<br><br><span class="hljs-number">3</span>、从服务器下载整个目录<br>scp -r username@servername:<span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/remote_dir/</span>（远程目录） <span class="hljs-regexp">/var/</span>www/local_dir（本地目录）<br><br>例如:scp -r root@<span class="hljs-number">192.168</span>.<span class="hljs-number">0.101</span>:<span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/test  /</span>var<span class="hljs-regexp">/www/</span> <br><br><span class="hljs-number">4</span>、上传目录到服务器<br>scp  -r local_dir username@servername:remote_dir<br>例如：scp -r test  root@<span class="hljs-number">192.168</span>.<span class="hljs-number">0.101</span>:<span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/   把当前目录下的test目录上传到服务器的/</span>var<span class="hljs-regexp">/www/</span> 目录<br><br>文章知识点与官方知识档案匹配，可进一步学习相关知识<br></code></pre></td></tr></table></figure><h1 id="4·-IP修改-力求精简-如无必要，勿增实体"><a href="#4·-IP修改-力求精简-如无必要，勿增实体" class="headerlink" title="4· IP修改-力求精简-如无必要，勿增实体"></a>4· IP修改-力求精简-如无必要，勿增实体</h1><h4 id="1·CentOS-8-如何修改IP地址"><a href="#1·CentOS-8-如何修改IP地址" class="headerlink" title="1·CentOS 8 如何修改IP地址"></a>1·CentOS 8 如何修改IP地址</h4><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/fa-che-ma"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-8138fe5ad8c8c6158fbe8f3a20c0ad22_l.jpg" srcset="/img/loading.gif" lazyload alt="宝藏男孩工作室"></a></p><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/fa-che-ma">宝藏男孩工作室</a></p><p>记录日常生活点滴。所思所想所做所闻所听所看。</p><p>1、首先打开需要编辑网络的配置文件</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-0340edbacd8b9e40c4cb56f4e85b18a5_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>2、编辑配置文件内容</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-dc452f6672d6e6c19c7b5314b353b96d_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>注：文件里的UUID以及带IPv4和IPv6的行可以删除掉，无用~</p><p>3、重启网络 CentOS 8怎么重启网卡呢？</p><p>重启网卡之前一定要重新载入一下配置文件，不然不能立即生效：</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-07d952018bef07441921d1f9840f042a_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>重启网络的命令· 使用下面三条的命令中的一条命令即可：</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs arduino">nmcli c up 网卡名<br><br>nmcli d reapply 网卡名<br><br>nmcli d connect 网卡名<br></code></pre></td></tr></table></figure><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bat">#旧版本的：<br>systemctl restart NetworkManager  #centOS8<br>service network restart   #centOS7<br></code></pre></td></tr></table></figure><p>总结：重启CentOS Linux 8的网卡，先载入新的配置文件，然后再执行重启网卡命令即可。</p><p>注：CentOS 8各个系统版本的网卡名称不一样，可以这样操作 如下图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-e216df893d4bed43c96f243fa27a6de0_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>创作不易，喜欢小编的内容就点歌关注再走吧~ 爱你们❤</p><h3 id="发布于-2022-03-10-19-34"><a href="#发布于-2022-03-10-19-34" class="headerlink" title="发布于 2022-03-10 19:34"></a>发布于 2022-03-10 19:34</h3><h4 id="2·-96-基于RHEL8-x2F-CentOS8的网络IP配置详解"><a href="#2·-96-基于RHEL8-x2F-CentOS8的网络IP配置详解" class="headerlink" title="2·&#96;基于RHEL8&#x2F;CentOS8的网络IP配置详解"></a>2·&#96;基于RHEL8&#x2F;CentOS8的网络IP配置详解</h4><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/fzxiaomange"></a></p><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/fzxiaomange">知乎用户1hi0bK</a></p><p>32 人赞同了该文章</p><blockquote><p>➡ 在rhel8(含centos8)上，没有传统的network.service，在&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;里也看不到任何脚本文件，那么该如何进行网络配置呢。<br>➡ 本文详细阐述基于rhel8的网络配置，包含多种配置方法。<br>➡ 事先声明：本文提及的所有内容，仅适用rhel8&#x2F;centos8，因为不同linux系统的NetworkManager行为存在部分差异。</p></blockquote><p><strong>小慢哥的原创文章，欢迎转载</strong></p><hr><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>▪ rhel8与7的区别</p><p>▪ NetworkManager介绍</p><p>▪ nmcli使用方法</p><p>▪ nmcli常用命令一览</p><p>▪ nmcli connection重点</p><p>▪ nmcli device重点</p><p>▪ 3种网络配置方法</p><p>▪ Tips</p><h2 id="rhel8与7的区别"><a href="#rhel8与7的区别" class="headerlink" title="rhel8与7的区别"></a><strong>rhel8与7的区别</strong></h2><p>在rhel7上，同时支持network.service和NetworkManager.service（简称NM）。默认情况下，这2个服务都有开启，但许多人都会将NM禁用掉。</p><p>在rhel8上，已废弃network.service，因此只能通过NM进行网络配置，包括动态ip和静态ip。换言之，在rhel8上，必须开启NM，否则无法使用网络。</p><blockquote><p>rhel8依然支持network.service，只是默认没安装，详见本文最后的Tips。</p></blockquote><h2 id="NetworkManager介绍"><a href="#NetworkManager介绍" class="headerlink" title="NetworkManager介绍"></a><strong>NetworkManager介绍</strong></h2><p>NetworkManager是2004年Red Hat启动的项目，旨在能够让Linux用户更轻松地处理现代网络需求，尤其是无线网络，能自动发现网卡并配置ip地址。</p><blockquote><p>类似在手机上同时开启wifi和蜂窝网络，自动探测可用网络并连接，无需手动切换。</p></blockquote><p>虽然初衷是针对无线网络，但在服务器领域，NM已大获成功。</p><p><strong>NM能管理各种网络</strong></p><p>▷ 有线网卡、无线网卡</p><p>▷ 动态ip、静态ip</p><p>▷ 以太网、非以太网</p><p>▷ 物理网卡、虚拟网卡</p><p><strong>使用方法</strong></p><p>▷ nmcli：命令行。这是最常用的工具，本文将详细讲解该工具使用。</p><p>▷ nmtui：在shell终端开启文本图形界面。示意图见本文最后的Tips</p><p>▷ Freedesktop applet：如GNOME上自带的网络管理工具</p><p>▷ cockpit：redhat自带的基于web图形界面的”驾驶舱”工具，具有dashborad和基础管理功能。示意图见本文最后的Tips</p><p><strong>为什么要用NM</strong></p><p>▷ 工具齐全：命令行、文本界面、图形界面、web</p><p>▷ 广纳天地：纳管各种网络，有线、无线、物理、虚拟</p><p>▷ 参数丰富：多达200多项配置参数（包括ethtool参数）</p><p>▷ 一统江湖：RedHat系、Suse系、Debian&#x2F;Ubuntu系，均支持</p><p>▷ 大势所趋：下一个大版本的rhel只能通过NM管理网络</p><h2 id="nmcli使用方法"><a href="#nmcli使用方法" class="headerlink" title="nmcli使用方法"></a><strong>nmcli使用方法</strong></h2><p>nmcli使用方法非常类似linux ip命令、cisco交换机命令，并且支持tab补全（详见本文最后的Tips），也可在命令最后通过-h、–help、help查看帮助。在nmcli中有2个命令最为常用：</p><p><strong>nmcli connection</strong></p><p>译作<strong>连接</strong>，可理解为配置文件，相当于ifcfg-ethX。可以简写为nmcli c</p><p><strong>nmcli device</strong></p><p>译作<strong>设备</strong>，可理解为实际存在的网卡（包括物理网卡和虚拟网卡）。可以简写为nmcli d</p><p>在NM里，有2个维度：<strong>连接（connection）</strong>和<strong>设备（device）</strong>，这是多对一的关系。想给某个网卡配ip，首先NM要能纳管这个网卡。设备里存在的网卡（即<code>nmcli d</code>可以看到的），就是NM纳管的。接着，可以为一个设备配置多个连接（即<code>nmcli c</code>可以看到的），每个连接可以理解为一个ifcfg配置文件。同一时刻，一个设备只能有一个连接活跃。可以通过<code>nmcli c up</code>切换连接。</p><p><strong>connection有2种状态</strong>：</p><p>▷ 活跃（带颜色字体）：表示当前该connection生效</p><p>▷ 非活跃（正常字体）：表示当前该connection不生效</p><p><strong>device有4种常见状态</strong>：</p><p>▷ connected：已被NM纳管，并且当前有活跃的connection</p><p>▷ disconnected：已被NM纳管，但是当前没有活跃的connection</p><p>▷ unmanaged：未被NM纳管</p><p>▷ unavailable：不可用，NM无法纳管，通常出现于网卡link为down的时候（比如ip link set ethX down）</p><h2 id="nmcli常用命令一览"><a href="#nmcli常用命令一览" class="headerlink" title="nmcli常用命令一览"></a><strong>nmcli常用命令一览</strong></h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs text"># 查看ip（类似于ifconfig、ip addr）<br>nmcli<br><br># 创建connection，配置静态ip（等同于配置ifcfg，其中BOOTPROTO=none，并ifup启动）<br>nmcli c add type ethernet con-name ethX ifname ethX ipv4.addr 192.168.1.100/24 ipv4.gateway 192.168.1.1 ipv4.method manual<br><br># 创建connection，配置动态ip（等同于配置ifcfg，其中BOOTPROTO=dhcp，并ifup启动）<br>nmcli c add type ethernet con-name ethX ifname ethX ipv4.method auto<br><br># 修改ip（非交互式）<br>nmcli c modify ethX ipv4.addr &#x27;192.168.1.200/24&#x27;<br>nmcli c up ethX<br><br># 修改ip（交互式）<br>nmcli c edit ethX<br>nmcli&gt; goto ipv4.addresses<br>nmcli ipv4.addresses&gt; change<br>Edit &#x27;addresses&#x27; value: 192.168.1.200/24<br>Do you also want to set &#x27;ipv4.method&#x27; to &#x27;manual&#x27;? [yes]: yes<br>nmcli ipv4&gt; save<br>nmcli ipv4&gt; activate<br>nmcli ipv4&gt; quit<br><br># 启用connection（相当于ifup）<br>nmcli c up ethX<br><br># 停止connection（相当于ifdown）<br>nmcli c down<br><br># 删除connection（类似于ifdown并删除ifcfg）<br>nmcli c delete ethX<br><br># 查看connection列表<br>nmcli c show<br><br># 查看connection详细信息<br>nmcli c show ethX<br><br># 重载所有ifcfg或route到connection（不会立即生效）<br>nmcli c reload<br><br># 重载指定ifcfg或route到connection（不会立即生效）<br>nmcli c load /etc/sysconfig/network-scripts/ifcfg-ethX<br>nmcli c load /etc/sysconfig/network-scripts/route-ethX<br><br># 立即生效connection，有3种方法<br>nmcli c up ethX<br>nmcli d reapply ethX<br>nmcli d connect ethX<br><br># 查看device列表<br>nmcli d<br><br># 查看所有device详细信息<br>nmcli d show<br><br># 查看指定device的详细信息<br>nmcli d show ethX<br><br># 激活网卡<br>nmcli d connect ethX<br><br># 关闭无线网络（NM默认启用无线网络）<br>nmcli r all off<br><br># 查看NM纳管状态<br>nmcli n<br><br># 开启NM纳管<br>nmcli n on<br><br># 关闭NM纳管（谨慎执行）<br>nmcli n off<br><br># 监听事件<br>nmcli m<br><br># 查看NM本身状态<br>nmcli<br><br># 检测NM是否在线可用<br>nm-online<br></code></pre></td></tr></table></figure><blockquote><p>本文提及的ifcfg均指代&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ethX及&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;route-ethX</p></blockquote><h2 id="nmcli-connection重点"><a href="#nmcli-connection重点" class="headerlink" title="nmcli connection重点"></a><strong>nmcli connection重点</strong></h2><p><strong>nmcli c show</strong></p><p>▪ 第一列是connection名字，简称con-name（注意con-name不是网卡名）</p><p>▪ 第二列是connection的UUID</p><p>▪ 最后一列才是网卡名（标准说法叫device名），可通过nmcil d查看device</p><p>对connection做操作时需要指定标识，标识可以是con-name、UUID、如果存在ifcfg文件则也可以用ifcfg的完整路径，即&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ethX</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">nmcli c show ethX<br>nmcli c show cae3f1ef-e79a-46c3-8e0c-946b91a65e11<br>nmcli c show /etc/sysconfig/network-scripts/ifcfg-ethX<br></code></pre></td></tr></table></figure><p><strong>nmcli c的con-name</strong></p><p>同时对应ifcfg的文件名以及内容中的NAME&#x3D;，该参数表示连接（connection）的名字，无需和网卡名相同，可以为一个设备（device）创建多个连接，但同一时刻只能有一个连接生效。当有多个连接时候，<code>nmcli c delete</code>删除当前连接，就会自动选择同一个设备的其他连接来顶替生效。可以通过<code>nmcli c up</code>来将指定连接切换生效。</p><blockquote><p>注意：通过nmcli c modify修改con-name，只会对应修改ifcfg文件中的NAME，而不会更改ifcfg文件名。</p></blockquote><p><strong>nmcli c的ipv4.method</strong></p><p>对应ifcfg文件内容的BOOTPROTO，ipv4.method默认为auto，对应为BOOTPROTO&#x3D;dhcp，这种时候如果指定ip，就可能导致网卡同时有dhcp分配的ip和静态ip。设置为manual表示BOOTPROTO&#x3D;none，即只有静态ip。</p><p><strong>例子：创建一个连接（connection）</strong></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">nmcli c add type ethernet con-name ethX-test ifname ethX ipv4.addresses &#x27;192.168.1.100/24,192.168.1.101/32&#x27; ipv4.routes &#x27;10.0.0.0/8 192.168.1.10,192.168.0.0/16 192.168.1.11&#x27; ipv4.gateway 192.168.1.254 ipv4.dns &#x27;8.8.8.8,4.4.4.4&#x27; ipv4.method manual<br></code></pre></td></tr></table></figure><p>▪ type ethernet：创建连接时候必须指定类型，类型有很多，可以通过<code>nmcli c add type -h</code>看到，这里指定为ethernet。</p><p>▪ con-name ethX ifname ethX：第一个ethX表示连接（connection）的名字，这个名字可以任意定义，无需和网卡名相同；第二个ethX表示网卡名，这个ethX必须是在<code>nmcli d</code>里能看到的。</p><p>▪ ipv4.addresses ‘192.168.1.100&#x2F;24,192.168.1.101&#x2F;32’：配置2个ip地址，分别为192.168.1.100&#x2F;24和192.168.1.101&#x2F;32</p><p>▪ ipv4.gateway 192.168.1.254：网关为192.168.1.254</p><p>▪ ipv4.dns ‘8.8.8.8,4.4.4.4’：dns为8.8.8.8和4.4.4.4</p><p>▪ ipv4.method manual：配置静态IP</p><p>对应的ifcfg和dns就是</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs text"># /etc/sysconfig/network-scripts/ifcfg-ethX-test<br>TYPE=Ethernet<br>PROXY_METHOD=none<br>BROWSER_ONLY=no<br>BOOTPROTO=none<br>IPADDR=192.168.1.100<br>PREFIX=24<br>IPADDR1=192.168.1.101<br>PREFIX1=32<br>GATEWAY=192.168.1.254<br>DNS1=8.8.8.8<br>DNS2=4.4.4.4<br>DEFROUTE=yes<br>IPV4_FAILURE_FATAL=no<br>IPV6INIT=yes<br>IPV6_AUTOCONF=yes<br>IPV6_DEFROUTE=yes<br>IPV6_FAILURE_FATAL=no<br>IPV6_ADDR_GEN_MODE=stable-privacy<br>NAME=ethX-test<br>UUID=9a10ad89-437c-4caa-949c-a394a6d28c8d<br>DEVICE=ethX<br>ONBOOT=yes<br><br># /etc/resolv.conf<br>nameserver 8.8.8.8<br>nameserver 4.4.4.4<br></code></pre></td></tr></table></figure><p>此时，通过<code>nmcli c</code>应该可以看到增加了一条连接</p><blockquote><p>注意：如果这是为ethX创建的第一个连接，则自动生效；如果此时已有连接存在，则该连接不会自动生效，可以执行<code>nmcli c up ethX-test</code>来切换生效</p></blockquote><h2 id="nmcli-device重点"><a href="#nmcli-device重点" class="headerlink" title="nmcli device重点"></a><strong>nmcli device重点</strong></h2><p><strong>nmcli d connect ethX</strong></p><p>由NM对指定网卡进行管理，同时刷新该网卡对应的活跃connection（如果之前有修改过connection配置）；如果有connection但是都处于非活跃状态，则自动选择一个connection并将其活跃；如果没有connection，则自动生成一个并将其活跃。</p><p><strong>nmcli d disconnect ethX</strong></p><p>让NM暂时不管理指定网卡，此操作不会变更实际网卡的link状态，只会使对应的connection变成非活跃。若重启系统则又会自动connect。另外，如果手工将该网卡的connection全部删掉，该网卡状态也会自动变为disconnected。</p><p><strong>nmcli d reapply ethX</strong></p><p>专门用于刷新connection，前提是网卡的device处于connected状态，否则会报错。</p><p><strong>nmcli d set ethX autoconnect yes|no managed yes|no</strong></p><p>可以设置是否自动连接和是否自动管理，但经测试只能用于当前开机状态， 如果这2个参数都设置为no，然后重启系统，又会自动恢复成connected和managed yes的状态。所以该命令用途不大。注意事项：如果managed设置为no，那么<code>nmcli c reload</code>会读取配置文件，但是不会立即生效，接着如果执行nmcli c up ethX，就会立即生效，同时managed自动变为yes。</p><blockquote><p>重启系统自动恢复成connected和managed yes的状态，这种逻辑并不实用也不够合理，笔者已将此问题提交给redhat，据回复，这么设计是因为目前没有一个有效的手段来证明“我是我”，比如当网卡重新拔插到其他插槽时候，网卡名有很大可能性会发生变化，因此无法确定关机前设置的是对应开机后的哪个网卡，目前暂无办法解决，笔者将持续跟进。</p></blockquote><h2 id="3种网络配置方法"><a href="#3种网络配置方法" class="headerlink" title="3种网络配置方法"></a><strong>3种网络配置方法</strong></h2><p>在讲3种配置方法前，需要先明白ifcfg和NM connection的关联：虽然network.service被废弃了，但是redhat为了兼容传统的ifcfg，通过NM进行网络配置时候，会自动将connection同步到ifcfg配置文件中。也可以通过<code>nmcli c reload</code>或者<code>nmcli c load /etc/sysconfig/network-scripts/ifcfg-ethX</code>的方式来让NM读取ifcfg配置文件到connection中。因此ifcfg和connection是一对一的关系，另外上面有提到，connection和device是多对一的关系。</p><p><strong>在rhel8上，有3种方法进行网络配置</strong></p><p>▷ 1. 手工配置ifcfg，通过NM来生效</p><p>▷ 2. 通过NM自带工具配ip，比如nmcli</p><p>▷ 3. 手工配置ifcfg，通过传统network.service来生效</p><p><strong>建议：</strong></p><p>推荐使用上述第1种网络配置方法（手工配置ifcfg，通过NM生效），因为这样既兼容了传统的ifcfg配置，又能熟悉nmcli。举例：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs text">cat &gt; /etc/sysconfig/network-scripts/ifcfg-eth0 &lt;&lt;EOF<br>NAME=eth0<br>DEVICE=eth0<br>ONBOOT=yes<br>BOOTPROTO=none<br>TYPE=Ethernet<br>IPADDR=192.168.1.10<br>NETMASK=255.255.255.0<br>GATEWAY=192.168.1.1<br>EOF<br><br>nmcli c reload<br># nmcli c up eth0 # 如果之前没有eth0的connection，则上一步reload后就已经自动生效了<br></code></pre></td></tr></table></figure><p>这么做有2个好处：</p><p>▷ 按官方建议使用NM而不是network.service</p><p>▷ 当还不太熟悉nmcli命令时候，这样最稳妥</p><h6 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a><strong>Tips</strong></h6><p><strong>1.</strong> nmcli命令支持tab补全，但是需要<code>yum install bash-completion</code></p><p><strong>2.</strong> 如果希望NM不要纳管网卡，只有一个办法最彻底最靠谱，就是自己写ifcfg，内容加上<code>NM_CONTROLLED=no</code>，这样该device的状态就会始终保持unmanaged。nmcli c up、nmcli c reload、nmcil c load都不会对其起任何作用。</p><p><strong>3.</strong> NM只能对link状态为up的网卡进行操作，如果手动<code>ip link set ethX down</code>，那么NM就无法对该网卡做任何操作（即使nmcli d connect也没有用）。</p><p><strong>4.</strong> 可以通过<code>yum install network-scripts</code>来安装传统的network.service，不过redhat说了，在下一个rhel的大版本里将彻底废除，因此不建议使用network.service。</p><p><strong>5.</strong> 手工创建新的ifcfg或者在ifcfg里修改ip等配置，NM不会自动读取，需要手工执行<code>nmcli c reload</code>或者<code>nmcli c load /etc/sysconfig/network-scripts/ifcfg-ethX</code>。这一点可能和其他系统的NM行为不太一样，但这种做法实则更适合服务器。</p><p><strong>6.</strong> 不手工配置ifcfg，使用默认的dhcp情况下，网卡的增减是不会自动生成ifcfg，此时nmcli c看到的con-name将类似’System ethX’或者’Wired connection 1’。</p><p><strong>7.</strong> NetworkManager支持3种获取dhcp的方式：dhclient、dhcpcd、internal，当&#x2F;etc&#x2F;NetworkManager&#x2F;NetworkManager.conf配置文件中的[main]部分没配置<code>dhcp=</code>时候，默认使用internal（rhel7&#x2F;centos7默认是dhclient）。internal是NM内部实现的dhcp客户端。</p><p><strong>8.</strong> 关于手动指定网关ip的方法，经过实测，&#x2F;etc&#x2F;sysconfig&#x2F;network中的GATEWAY仅在3种情况下有效：<code>NM_CONTROLLED=no</code>或<code>ipv4.method manual</code>或<code>从ipv4.method manual第一次转到ipv4.method auto时候</code>。建议：当NM_CONTROLLED&#x3D;no时，将网关写在&#x2F;etc&#x2F;sysconfig&#x2F;network（GATEWAY）；当使用NM时候，使用nmcli c命令配置网关（比如<code>nmcli c modify ethX ipv4.gateway 192.168.1.1</code>）。</p><p><strong>9.</strong> NM默认会从dhcp里获取dns信息，并修改&#x2F;etc&#x2F;resolv.conf，如果不想让NM管理&#x2F;etc&#x2F;resolv.conf，则只需在&#x2F;etc&#x2F;NetworkManager&#x2F;NetworkManager.conf里的[main]里增加<code>dns=none</code>即可。</p><p><strong>10.</strong> 如果想让NM不要自动管理新网卡（比如不要给新网卡获取ip地址），则只需在&#x2F;etc&#x2F;NetworkManager&#x2F;NetworkManager.conf里的[main]里增加<code>no-auto-default=*</code>即可，改完后通过<code>systemctl restart NetworkManager</code>或者重启系统来生效。除了手工在NetworkManager.conf里加配置，也可以<code>yum install NetworkManager-config-server</code>，这会生成&#x2F;usr&#x2F;lib&#x2F;NetworkManager&#x2F;conf.d&#x2F;00-server.conf，内容为如下截图。建议使用前者方案，因为后者的ingore-carrier是不被推荐的参数。</p><p><strong>11.</strong> 更多NetworkManager参数详见man NetworkManager.conf</p><p><strong>12.</strong> nmtui示意图:</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-cee61eb6e0243a538a71a2c3043c4102_720w.jpeg" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>13.</strong> cockpit示意图:</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-e337d1d7b2f231ded5c53e5d400b48eb_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><blockquote><p>在rhel8.0 beta时候，必须要先将浏览器语言设置为英语，才可以使用，如果为中文，在登陆后是空白页面。笔者已将该<a href="https://link.zhihu.com/?target=https://bugzilla.redhat.com/show_bug.cgi?id=1653544">bug</a>提交给redhat，据回复会在RHEL8.0正式版修复，笔者将持续跟进。</p></blockquote><p>发布于 2019-02-16 19:02</p><h4 id="3·VMware虚拟机-NAT模式-配置静态ip"><a href="#3·VMware虚拟机-NAT模式-配置静态ip" class="headerlink" title="3·VMware虚拟机 NAT模式 配置静态ip"></a>3·VMware虚拟机 NAT模式 配置静态ip</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps10.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><h6 id="hellocsz-2018-09-10-11-17-57-4002-收藏-1"><a href="#hellocsz-2018-09-10-11-17-57-4002-收藏-1" class="headerlink" title="hellocsz 2018-09-10 11:17:57  4002  收藏 1"></a><a target="_blank" rel="noopener" href="https://me.csdn.net/hellocsz">hellocsz</a> 2018-09-10 11:17:57 <img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps11.jpg" srcset="/img/loading.gif" lazyload alt="img"> 4002 <img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps12.jpg" srcset="/img/loading.gif" lazyload alt="img"> 收藏 1</h6><p>前言：<a target="_blank" rel="noopener" href="http://www.linuxidc.com/topicnews.aspx?tid=2">Ubuntu</a> 16.04 VMware虚拟机 NAT模式 配置静态ip,这个问题困扰我好长时间，桥接的静态ip我会了，然而用NAT 的方式配置集群会更好。（NAT 方式客户机之间的通讯不经过路由器），所以想着换成NAT方式会更好。</p><p>要使用NAT方式设置静态ip ，需要相当多的<a target="_blank" rel="noopener" href="http://lib.csdn.net/base/computernetworks">计算机网络</a>知识了。</p><p>第一先查看你的主机的网卡是否把网络共享给虚拟网卡vmnet8 了吗？ 打开网络共享中心———&gt;更改适配器设置 看下图 然后右击 你用的那个网卡。我用的无线。所以右击 无线网络连接———&gt;属性——&gt;共享——在选择框里选上 vmnet8网卡。 这个作用就是 无线网卡和 虚拟机的网卡对接上 主机 和 虚拟机就是通过vmnet8 这个虚拟网卡进行通讯的。这个 知识很重要。</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps13.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p>。</p><p>1 首先要知道，主机给 vmnet8 网卡分配的ip 看下图。</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps14.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p>这个ip 就是虚拟机 配置静态ip时的网关，记住！！！！！！！这点很重要。</p><p>2 打开vm软件——》编辑——》虚拟网络编辑器</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps15.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><h4 id="4·NAT网关设置为-2-的原因是：按照顺序-1已经占用了–如下图："><a href="#4·NAT网关设置为-2-的原因是：按照顺序-1已经占用了–如下图：" class="headerlink" title="4·NAT网关设置为 2 的原因是：按照顺序 1已经占用了–如下图："></a>4·NAT网关设置为 2 的原因是：按照顺序 1已经占用了–如下图：</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221018201232065.png" srcset="/img/loading.gif" lazyload alt="image-20221018201232065"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps16.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p>最终的效果类似如下(这里面有刚才主机分配的IP)</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps17.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p>3 进行虚拟机配置文件设置</p><p>我的系统是ubuntu 16.04 lts ，<a target="_blank" rel="noopener" href="http://www.linuxidc.com/topicnews.aspx?tid=14">CentOS</a>的系统找相应的网卡配置文件就可以。</p><p>kong@root：sudo &#x2F;etc&#x2F;network&#x2F;interfaces</p><p>进行以下修改</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/wps18.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><h6 id="4-进行dns-设置"><a href="#4-进行dns-设置" class="headerlink" title="4 进行dns 设置"></a>4 进行dns 设置</h6><p>kong@root：sudo vim &#x2F;etc&#x2F;resolvconf&#x2F;resolvconf.d&#x2F;head</p><p>将 nameserver 8.8.8.8 写进去 保存退出 网卡重启。或者虚拟机重启</p><p>然后ping <a target="_blank" rel="noopener" href="http://www.linuxidc.com/">www.linuxidc.com</a> 看看能不能ping通</p><h4 id="5·1-CentOS8开启SSH服务"><a href="#5·1-CentOS8开启SSH服务" class="headerlink" title="5·1 CentOS8开启SSH服务"></a>5·1 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/JoePotter/p/15841141.html">CentOS8开启SSH服务</a></h4><p>1、首先安装SSH服务</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs axapta">yum install openssh-<span class="hljs-keyword">server</span><br></code></pre></td></tr></table></figure><p>Centos8下修改<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=ssh&spm=1001.2101.3001.7020">ssh</a>端口号</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">vi etc<span class="hljs-regexp">/ssh/</span>sshd_config<br><br>然后按 i 进入插入模式<br>将光标移动到<span class="hljs-comment">#Port 20的下面</span><br>输入Port 端口号<br></code></pre></td></tr></table></figure><h6 id="2、启动SSH服务"><a href="#2、启动SSH服务" class="headerlink" title="2、启动SSH服务"></a>2、启动SSH服务</h6><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs bat"><br>#### 遇见的问题 Failed to <span class="hljs-built_in">start</span> sshd.service: Unit sshd.service <span class="hljs-keyword">not</span> found. 转载<br>#sudo apt install openssh-server<br>#systemctl enable ssh.service<br>#service sshd <span class="hljs-built_in">start</span><br><br><br>然后输入<br>setenforce <span class="hljs-number">0</span><br><br>重新启动sshd文件<br>systemctl restart sshd<br>systemctl stop sshd<br>systemctl <span class="hljs-built_in">start</span> sshd<br>systemctl status sshd<br><br><br>备注：<br>关闭防火墙<br>systemctl stop firewalld.service<br>永久关闭<br>systemctl disable firewalld.service <br>······································································································································································································································<br>关闭selinux<br>临时关闭<br>setenforce <span class="hljs-number">0</span><br>sed· -ri &#x27;/^SELINUX=/cSELINUX=disabled&#x27; /etc/sysconfig/selinux<br>#sed -i &#x27;s#SELINUX=enforcing#SELINUX=disabled#g&#x27; /etc/selinux/config<br><br>禁止开机自启，永久关闭<br>进入到/etc/selinux/config 文件<br><br>vi /etc/selinux/config<br>设置SELINUX = disabled<br>最后重启一下 reboot<br>可以用sed命令修改，sed -i &#x27;s#SELINUX=enforcing#SELINUX=disabled#g&#x27; /etc/selinux/config<br><br><br><br>bash semanage: 未找到命令<br>yum -y install policycoreutils-python<br><br>bash netstat 未找到命令 <br>yum -y install <span class="hljs-built_in">net</span>-tools验证netstat命令是否可用...查看全部<br><br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxNzU0NTkx,size_16,color_FFFFFF,t_70.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p>3、查看SSH服务状态</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">systemctl status sshd</span><br></code></pre></td></tr></table></figure><p>4、查看端口</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c">netstat -antp <span class="hljs-string">| grep sshd</span><br><br></code></pre></td></tr></table></figure><p>5、加入开机启动</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">systemctl <span class="hljs-built_in">enable</span> sshd<br><br></code></pre></td></tr></table></figure><p>6.<strong>SSH其他常用命令</strong></p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment">#启动sshd服务</span><br><span class="hljs-params">system</span>ctl start sshd<br> <br><span class="hljs-comment">#停止sshd服务</span><br><span class="hljs-params">system</span>ctl stop sshd<br> <br><span class="hljs-comment">#重启sshd服务</span><br><span class="hljs-params">system</span>ctl restart sshd<br> <br><span class="hljs-comment">#查看sshd服务的状态</span><br><span class="hljs-params">system</span>ctl status sshd<br> <br><span class="hljs-comment">#sshd服务开机启动</span><br><span class="hljs-params">system</span>ctl enable sshd<br> <br><span class="hljs-comment">#sshd服务禁止开机启动</span><br><span class="hljs-params">system</span>ctl disable sshd<br> <br><span class="hljs-comment">#锁定sshd服务</span><br><span class="hljs-params">system</span>ctl mask sshd<br> <br><span class="hljs-comment">#解锁sshd服务</span><br><span class="hljs-params">system</span>ctl unmask sshd<br> <br><span class="hljs-comment">#重新加载sshd服务的配置文件</span><br><span class="hljs-params">system</span>ctl reload sshd<br></code></pre></td></tr></table></figure><p>　　</p><h4 id="5·2-CentOS安装SSH服务及linux集群"><a href="#5·2-CentOS安装SSH服务及linux集群" class="headerlink" title="5·2   CentOS安装SSH服务及linux集群"></a>5·2 CentOS安装SSH服务及linux集群</h4><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/ji-yu-chen-49"></a></p><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/ji-yu-chen-49">姬雨晨</a></p><p>2 人赞同了该文章</p><h6 id="CentOS8-2"><a href="#CentOS8-2" class="headerlink" title="CentOS8.2"></a>CentOS8.2</h6><h3 id="查看SSH是否安装"><a href="#查看SSH是否安装" class="headerlink" title="查看SSH是否安装"></a><strong>查看SSH是否安装</strong></h3><p>rpm -qa | grep ssh</p><p>yum list installed | grep openssh-server</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-11bdc958ee5fce6aaba46cb616ec206e_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-06d676c1844c89d9907a0e777e594e6d_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>卸载SSH：</strong>yum remove openssh-server</p><p><strong>安装SSH：</strong></p><p>yum install openssh-server</p><p>yum install openssh-clinet</p><p><strong>启动ssh服务</strong></p><p>[root@localhost ~]# systemctl stop sshd</p><p>[root@localhost ~]# systemctl start sshd</p><p><strong>查看SSH服务是否正在运行</strong></p><p>[root@localhost ~]# systemctl status sshd</p><p>[root@localhost ~]# ps -e | grep sshd</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-4f66a0cda2d17607963f7acdddb18930_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-5a77529ece185d4288343ca5a0e7cee7_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>使用ssh客户端登录</strong></p><p>命令: ssh name@server</p><p>ssh <a href="mailto:&#114;&#111;&#x6f;&#x74;&#64;&#x31;&#x30;&#46;&#x31;&#x2e;&#49;&#x2e;&#x31;">&#114;&#111;&#x6f;&#x74;&#64;&#x31;&#x30;&#46;&#x31;&#x2e;&#49;&#x2e;&#x31;</a></p><p><strong>开机自启动</strong></p><p><strong>将sshd服务添加之自启动列表中</strong></p><p>[root@localhost ~]# systemctl enable sshd 等价于 systemctl enable sshd.service</p><p><strong>并查看是否开启自启动sshd服务</strong></p><p>systemctl list-unit-files | grep sshd</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fb66f00507d3232da0ccae692dd71e0b_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>SSH的配置文件在&#x2F;etc&#x2F;ssh&#x2F;目录下，</strong></p><p>其中服务端的配置文件是sshd_config , 客户端的配置文件是ssh_config。</p><p>OpenSSH服务器配置 <code>vi /etc/ssh/sshd_config</code> 文件重要参数以及作用</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-7cc7aadbb7d0bd5caa5da2d0ed591fe4_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>3.CentOS集群实现ssh免密钥登陆</strong></p><p><strong>这里使用3台主机</strong></p><p>&#x2F;etc&#x2F;udev&#x2F;rules.d&#x2F;70-persistent-ipoib.rules 网卡信息配置（不用管）</p><p>&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens33 设置自动联网</p><p>&#x2F;etc&#x2F;hosts 设置db1~db3的主机名与ip的绑定，并修改主机的hostname</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-2e7e21be6a224f3794c8b1f0ac4afd74_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>免密钥 :A-B</p><p>生成密钥 :用超级管理员身份执行：su ssh-keygen -t rsa</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-d004c590b54a215219c4b4f139450613_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>私钥留给自己</p><p>ssh-copy-id localhost</p><p>公钥发送给其他节点</p><p>ssh-copy-id bd2</p><p>ssh-copy-id bd3</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-35342f232edca970a52826dafecb60d5_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><h3 id="设置之后服务器之间可免密码直接登录"><a href="#设置之后服务器之间可免密码直接登录" class="headerlink" title="设置之后服务器之间可免密码直接登录"></a>设置之后服务器之间可免密码直接登录</h3><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-d7e1b94adbec2eec0f5031ac9169cf4d_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>centos 空闲一段时间后自动断网</strong></p><p>用客户端工具，例如securecrt连接linux服务器，有的会出现过一段时间没有任何操作，客户端与服务器就断开了连接。 造成这个的原因，主要是因为客户端与服务器之间存在路由器，防火墙以及为了本身的安全性，在超过特定的时间后就会把空闲连接断开。或者是服务器端设置了断开空闲连接。</p><p>服务器端修改&#x2F;etc&#x2F;ssh&#x2F;sshd_config配置文件 ClientAliveInterval 300（默认为0），参数的是意思是每5分钟，服务器向客户端发一个消息，用于保持连接，使用systemctl reload sshd.service 让其修改后生效。如果发现还是有问题，可以试着把300设置小一点，例如60。</p><p><strong>CentOS6.5命令</strong></p><p><strong>开启SSH服务：</strong></p><p>停止SSH服务命令（service sshd stop）；</p><p>重启SSH服务命令（service sshd restart）</p><p><strong>查看SSH服务是否正在运行</strong></p><p>输入命令：service sshd status</p><p>[重启后可输入：netstat -antp | grep sshd 查看是否启动22端口]</p><p><strong>检查sshd是否在本运行级别下设置为开机启动</strong></p><p>输入命令：chkconfig –list sshd</p><p><strong>设置SSH服务为开机启动</strong></p><p>输入命令：chkconfig sshd on 即可</p><p>注：若是 chkconfig sshd off 则禁止SSH开机启动。</p><h4 id="5-96-3-SSH服务默认端口为22，修改默认端口为10022"><a href="#5-96-3-SSH服务默认端口为22，修改默认端口为10022" class="headerlink" title="5&#96;3   SSH服务默认端口为22，修改默认端口为10022"></a>5&#96;3 SSH服务默认端口为22，修改默认端口为10022</h4><h2 id="1-vim-x2F-etc-x2F-ssh-x2F-sshd-config-将port端口修改为10022"><a href="#1-vim-x2F-etc-x2F-ssh-x2F-sshd-config-将port端口修改为10022" class="headerlink" title="1.vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config  将port端口修改为10022"></a>1.vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config 将port端口修改为10022</h2><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312150421741-510432901.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><h2 id="2-重新启动sshd守护进程"><a href="#2-重新启动sshd守护进程" class="headerlink" title="2.重新启动sshd守护进程"></a>2.重新启动sshd守护进程</h2><p>systemctl restart sshd.service 重新启动服务，提示”Bind to port 10022 on 0.0.0.0 failed: Permission denied.”</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312150835850-850488750.png" srcset="/img/loading.gif" lazyload alt="img"></p><p>经查阅资料，发现selinux未关闭所致</p><p>查看selinux状态 getenforce 处于enforcing状态</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312151122706-1585587214.png" srcset="/img/loading.gif" lazyload alt="img"></p><p>关闭selinux setenforce 0 此命令为零时关闭，永久关闭，需要修改&#x2F;etc&#x2F;selinux&#x2F;config配置文件</p><p>可以用sed命令修改，sed -i ‘s#SELINUX&#x3D;enforcing#SELINUX&#x3D;disabled#g’ &#x2F;etc&#x2F;selinux&#x2F;config</p><p>再次重启sshd服务</p><h2 id="3-远程连接主机"><a href="#3-远程连接主机" class="headerlink" title="3.远程连接主机"></a>3.远程连接主机</h2><p>ssh 10.0.0.4 10022 依旧连接失败</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312151745152-878342291.png" srcset="/img/loading.gif" lazyload alt="img"></p><p>检查firewall服务状态，为开启状态。关闭防火墙服务 systemctl stop firewalld.service，永久关闭防火墙，systemctl disable firewalld.service</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312152012380-292423276.png" srcset="/img/loading.gif" lazyload alt="img"></p><p>再次尝试连接主机，连接成功</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2312069-20210312152334545-909353795.png" srcset="/img/loading.gif" lazyload alt="img"></p><h6 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h6><p>影响ssh服务的有selinux和主机防火墙，selinux导致无法正常修改端口，主机防火墙导致网络无法接通。<em><strong>因此在部署服务前，关闭selinux和防火墙</strong></em></p><h3 id="5·4-Centos7-配置-SSH-服务"><a href="#5·4-Centos7-配置-SSH-服务" class="headerlink" title="5·4     Centos7 配置 SSH 服务"></a>5·4 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/liwublog/p/15030976.html">Centos7 配置 SSH 服务</a></h3><h5 id="一、首先确认-Centos7-是否已安装-ssh服务"><a href="#一、首先确认-Centos7-是否已安装-ssh服务" class="headerlink" title="一、首先确认 Centos7 是否已安装 ssh服务"></a>一、首先确认 Centos7 是否已安装 ssh服务</h5><h3 id="一般情况下，centos自带ssh服务"><a href="#一般情况下，centos自带ssh服务" class="headerlink" title="一般情况下，centos自带ssh服务"></a>一般情况下，centos自带ssh服务</h3><p>使用命令行 <code>yum list installed | grep ssh</code> 来查询<br>如果显示：<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/20210719162723.png" srcset="/img/loading.gif" lazyload alt="img"><br>则说明安装ssh服务。</p><h3 id="如果没有安装，则先需要安装ssh服务，"><a href="#如果没有安装，则先需要安装ssh服务，" class="headerlink" title="如果没有安装，则先需要安装ssh服务，"></a>如果没有安装，则先需要安装ssh服务，</h3><p>使用命令行<code>yum install openssh-server</code><br>一路Y确认</p><h2 id="二、配置SSH"><a href="#二、配置SSH" class="headerlink" title="二、配置SSH"></a>二、配置SSH</h2><p>ssh默认端口是22<br>使用 root 用户进入 &#x2F;etc&#x2F;ssh&#x2F; 目录: cd &#x2F;etc&#x2F;ssh&#x2F; （切换到root用户，使用 su 命令）<br>使用 vi&#x2F;vim 打开 sshd_config 文件: vim sshd_config<br>默认是22端口，将配置文件里的 #注释 释放，（想要哪个设置生效，就删除前面的 #）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install openssh-server<br>su                                          #切换到root<br>cd /etc/ssh/<br>vim sshd_config<br><br><br><br>PermitRootLogin         yes		    #是否允许root用户登录<br>PermitEmptyPasswords    no	            #是否允许空密码<br>PasswordAuthentication  yes	            #是否允许密码验证<br>AllowUsers              xxxxx		    #允许xxxxx用户登录<br>ecs<br>wq                                          # 保存退出<br></code></pre></td></tr></table></figure><h2 id="三、-防火墙打开22端口"><a href="#三、-防火墙打开22端口" class="headerlink" title="三、 防火墙打开22端口"></a>三、 防火墙打开22端口</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --zone=public --add-port=22/tcp --permanent	#向防火墙中添加端口<br>--zone 		                            #作用域 		<br>--add-port=80/tcp	                    #添加端口，格式为：端口/通讯协议 <br>--permanent 	                            #永久生效<br>firewall-cmd --reload                       #使防火墙规则生效  <br>firewall-cmd --zone=public --query-port=22/tcp		#查看端口是否添加成功: <br>firewall-cmd --list-ports		    #查看防火墙开放的端口<br></code></pre></td></tr></table></figure><h2 id="四、启用ssh服务"><a href="#四、启用ssh服务" class="headerlink" title="四、启用ssh服务"></a>四、启用ssh服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">service sshd restart 		        #重启ssh服务<br>service sshd start 			#启动ssh服务<br></code></pre></td></tr></table></figure><h2 id="五、检查是否启动ssh服务（以下通用）"><a href="#五、检查是否启动ssh服务（以下通用）" class="headerlink" title="五、检查是否启动ssh服务（以下通用）"></a>五、检查是否启动ssh服务（以下通用）</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">netstat -antup|grep ssh		#查询-antup（列出ssh相关地址。用IP地址显示TCP/UDP连线状况，正在使用Socket的程序识别码和程序名称）<br>netstat -lnp|grep 22            #查询-lnp（用ip显示出正在使用端口22的程序名称或识别码)<br></code></pre></td></tr></table></figure><h2 id="六、-开机启动ssh服务"><a href="#六、-开机启动ssh服务" class="headerlink" title="六、 开机启动ssh服务"></a>六、 开机启动ssh服务</h2><p>用root用户修改</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl enable sshd				        #开机启动sshd服务<br>systemctl list-unit-files |grep ssh	                #检查是否开机启动<br>systemctl stop sshd					#停止sshd服务<br>systemctl disable sshd				        #禁用开机启动sshd服务<br></code></pre></td></tr></table></figure><h2 id="七、更改SSH端口"><a href="#七、更改SSH端口" class="headerlink" title="七、更改SSH端口"></a>七、更改SSH端口</h2><p>用root用户修改<br>将 <code>port</code> 22 改为 8112</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim /etc/ssh/sshd_config                                        #ssh配置文件<br>service sshd restart 						#重启ssh服务<br>netstat -lnp|grep 8112						#检查8112端口是否开启<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">如果无法连接，需修改selinux</span><br>semanage port -l|grep ssh 					#查询selinux给ssh开放了什么端口<br>semanage port -a -t ssh_port_t -p tcp 8112	                #添加8112端口<br>semanage port -l|grep ssh					#检查是否添加成功<br>service sshd restart 						#重启ssh服务<br>netstat -lnp|grep 8112						#检查8112端口是否开启<br></code></pre></td></tr></table></figure><blockquote><p>如果无效，参照第三步放行防火墙</p></blockquote><h1 id="5·-一键快速修改windows系统的IP和DNS"><a href="#5·-一键快速修改windows系统的IP和DNS" class="headerlink" title="5·       一键快速修改windows系统的IP和DNS"></a>5· 一键快速修改windows系统的IP和DNS</h1><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/onme0"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-b4c515dc3511148f41d777798f821911_xs.jpg" srcset="/img/loading.gif" lazyload alt="onme0"></a></p><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/onme0">onme0</a></p><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><p>一键快速修改windows系统的IP和DNS采用执行xx.bat文件方式，那么xx.bat文件该如何编写呢？本期文章向各位小伙伴总结分享。</p><h2 id="2·-实战演练——如何通过命令修改windows系统的IP和DNS"><a href="#2·-实战演练——如何通过命令修改windows系统的IP和DNS" class="headerlink" title="2·     实战演练——如何通过命令修改windows系统的IP和DNS"></a>2· 实战演练——如何通过命令修改windows系统的IP和DNS</h2><p>第1步：采用管理员权限打开命令提示符（CMD），如下图所示（windows10操作系统）；</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-6b3585128e2a581ddd640141a128b16b_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>第2步：在命令提示符中输入“netsh”，然后，输入“interface ip”，如下所示；</p><p>C:\Users\007&gt;netsh</p><p>netsh&gt;</p><p>netsh&gt;interface ip</p><p>netsh interface ipv4&gt;</p><p>第3步：在“netsh interface ipv4&gt;”视图中，输入命令“show interface”查询系统的可用的网卡信息从而获取网卡的名称，如下图所示；</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fe887b67be084859cbe96aced2b48d2e_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>第4步：在“netsh interface ipv4&gt;”视图中，输入命令set address “Ethernet0” dhcp和set dns “Ethernet0” dhcp，配置网卡Ethernet0自动获取IP地址和DNS地址，<strong>默认情况下，永久保存</strong>。如下图所示；</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-369cc048106ba4daac0e3f5a82626896_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>第5步：查看网卡IP地址和DNS地址的配置效果，在“netsh interface ipv4&gt;”视图中，输入命令show address “Ethernet0”和show dns “Ethernet0”，如下图所示；</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-ee85ca83761e88e0d5f214d3bdb5dee9_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>以上是关于windows系统自动获取IP和DNS的配置方式，那么如何配置静态的IP地址和DNS地址呢？</p><p>Windows系统配置静态IP地址和DNS地址的方式，如下图所示；</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-a6c33120e9af8b1533cc7428839cf526_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>备注：</p><p>Windows10系统提供的示例——IP地址配置方式：</p><p>set address name&#x3D;”Wired Ethernet Connection” source&#x3D;dhcp</p><p>set address “Wired Ethernet Connection” static 10.0.0.9 255.0.0.0 10.0.0.1 1</p><p>Windows10系统提供的示例——DNS地址配置方式：</p><p>set dnsservers name&#x3D;”Wired Ethernet Connection” source&#x3D;dhcp</p><p>set dnsservers “Wired Ethernet Connection” static 10.0.0.1 primary</p><h1 id="实战演练——如何一键修改windows系统的IP和DNS"><a href="#实战演练——如何一键修改windows系统的IP和DNS" class="headerlink" title="实战演练——如何一键修改windows系统的IP和DNS"></a>实战演练——如何一键修改windows系统的IP和DNS</h1><h3 id="一键修改Windows系统的IP和DNS——DHCP自动获取"><a href="#一键修改Windows系统的IP和DNS——DHCP自动获取" class="headerlink" title="一键修改Windows系统的IP和DNS——DHCP自动获取"></a>一键修改Windows系统的IP和DNS——DHCP自动获取</h3><p>把以下两条命令复制到文本文档中，并另外为dhcp.bat。<strong>（管理员权限运行dhcp.bat）</strong></p><p>Ethernet0是系统网卡名称，需要通过命令netsh interface ipv4 show interface提前查询获得。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bat">netsh interface ipv4 <span class="hljs-built_in">set</span> address &quot;WLAN&quot; dhcp<br><br>netsh interface ipv4 <span class="hljs-built_in">set</span> dns &quot;WLAN&quot; dhcp<br></code></pre></td></tr></table></figure><p>另存为dhcp.bat方式，如下图所示；</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-53b6feba72c4c28d4659fcf9a2a1d165_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><h3 id="一键修改Windows系统的IP和DNS——静态配置"><a href="#一键修改Windows系统的IP和DNS——静态配置" class="headerlink" title="一键修改Windows系统的IP和DNS——静态配置"></a>一键修改Windows系统的IP和DNS——静态配置</h3><p>把以下两条命令复制到文本文档中，并另外为static.bat。<strong>（管理员权限运行static.bat）。</strong>其中，IP地址：192.168.1.100、掩码：255.255.255.0、网关：192.168.1.254、DNS地址：223.5.5.5。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bat"><span class="hljs-comment">rem pushd C:\WINDOWS\system32</span><br>:: #设置环境变量目录，如bat保存于桌面，无此命令可能无法调用环境变量<br> <br>netsh interface ip <span class="hljs-built_in">set</span> address name=&quot;WLAN&quot; source=static address=<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">10</span> mask=<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">0</span> gateway=<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">1</span><br>#设置静态IP，更改网络连接名称为&quot;WLAN&quot;，ip设置为<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">10</span>，子网为<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">0</span>，网关为<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">1</span><br> <br>netsh interface ip add dns name=&quot;WLAN&quot; address=<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">1</span><br>#设置静态dns为<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">1</span><br>netsh interface ip add dns name=&quot;WLAN&quot; address=<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span><br>#增加静态dns为<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span><br><span class="hljs-built_in">pause</span><br>#批处理最后加上<span class="hljs-built_in">pause</span>，防止bat运行后自动闪退关闭，可以查看是否有运行错误信息<br><br><br><br><br>netsh interface ipv4 <span class="hljs-built_in">set</span> address &quot;WLAN&quot; static <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">10</span> mask=<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">0</span> gateway=<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">1</span><br><br> <br>netsh interface ipv4 <span class="hljs-built_in">set</span> dns &quot;WLAN&quot; address=<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">1</span><br><span class="hljs-comment">@rem 设置静态dns为192.168.1.1</span><br><br>netsh interface ipv4 add dns &quot;WLAN&quot; static <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span><br><span class="hljs-comment">@rem 增加静态dns为192.168.0.1</span><br><br><br></code></pre></td></tr></table></figure><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bat">简写：<br>netsh interface ipv4 <span class="hljs-built_in">set</span> address &quot;WLAN&quot; static <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">0</span>.<span class="hljs-number">170</span> <span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">0</span> <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">1</span><br><br>netsh interface ipv4 <span class="hljs-built_in">set</span> dns &quot;WLAN&quot; static <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span><br><br>netsh interface ipv4 add dns &quot;WLAN&quot; static <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure><p>6&#96;&#96;&#96;桌面版本 centos8 –快捷键</p><h1 id="6-96-CENTOS-8-使用快捷键打开终端"><a href="#6-96-CENTOS-8-使用快捷键打开终端" class="headerlink" title="6&#96;  	CENTOS-8 使用快捷键打开终端"></a>6&#96; <a target="_blank" rel="noopener" href="https://www.cnblogs.com/jack123pep/p/12837390.html">CENTOS-8 使用快捷键打开终端</a></h1><p>右键打开设置&gt;&gt;键盘&gt;&gt;自定义快捷键，然后点+</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1012369-20200506164726411-2126059166.png" srcset="/img/loading.gif" lazyload alt="img"></p><p>名称：随便填写</p><p>命令：*&#x2F;usr&#x2F;bin&#x2F;gnome-terminal*</p><p>快捷键：点击一下Set Shortcut，然后在键盘上按下想要的快捷键</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1012369-20200506164932873-1608969169.png" srcset="/img/loading.gif" lazyload alt="img"></p><p>添加成功</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1012369-20200506165148156-88724778.png" srcset="/img/loading.gif" lazyload alt="img"></p><p>关闭窗口后，使用快捷键即可打开命令行窗口</p><p>7&#96;</p><h1 id="7-96-CentOS7修改主机名的三种方法"><a href="#7-96-CentOS7修改主机名的三种方法" class="headerlink" title="7&#96;		CentOS7修改主机名的三种方法"></a>7&#96; CentOS7修改主机名的三种方法</h1><h2 id="在CentOS7中，有三种定义的主机名"><a href="#在CentOS7中，有三种定义的主机名" class="headerlink" title="在CentOS7中，有三种定义的主机名:"></a>在CentOS7中，有三种定义的主机名:</h2><h3 id="静态的（Static-hostname）"><a href="#静态的（Static-hostname）" class="headerlink" title="静态的（Static hostname）"></a><strong>静态的（Static hostname）</strong></h3><p>“静态”主机名也称为内核主机名，是系统在启动时从&#x2F;etc&#x2F;hostname自动初始化的主机名。</p><h3 id="瞬态的（Tansient-hostname）"><a href="#瞬态的（Tansient-hostname）" class="headerlink" title="瞬态的（Tansient hostname）"></a><strong>瞬态的（Tansient hostname）</strong></h3><p>“瞬态”主机名是在系统运行时临时分配的主机名，例如，通过DHCP或mDNS服务器分配。</p><h3 id="灵活的（Pretty-hostname）"><a href="#灵活的（Pretty-hostname）" class="headerlink" title="灵活的（Pretty hostname）"></a><strong>灵活的（Pretty hostname</strong>）</h3><p>“灵活”主机名也有人叫做“别名”主机名。<br>“灵活”主机名则允许使用自由形式（包括特殊&#x2F;空白字符）的主机名，以展示给终端用户（如xh01@f5）。<br>“静态”主机名和“瞬态”主机名都遵从作为互联网域名同样的字符限制规则。</p><p>在CentOS 7中，有个叫hostnamectl的命令行工具，它允许你查看或修改与主机名相关的配置。</p><h2 id="查看主机名"><a href="#查看主机名" class="headerlink" title="查看主机名:"></a>查看主机名:</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs awk"> <span class="hljs-number">1</span> <span class="hljs-regexp">//</span>查看一下当前主机名的情况，查看全部三种主机名<br> <span class="hljs-number">2</span> <br> <span class="hljs-number">3</span> hostnamectl   <br> <span class="hljs-number">4</span> <br> <span class="hljs-number">5</span> <span class="hljs-regexp">//</span>或者，查看全部三种主机名<br> <span class="hljs-number">6</span> <br> <span class="hljs-number">7</span> hostnamectl status<br> <span class="hljs-number">8</span> <br> <span class="hljs-number">9</span> <span class="hljs-regexp">//</span>只查看静态、瞬态或灵活主机名，分别使用--static，--transient或--pretty选项<br><span class="hljs-number">10</span> <br><span class="hljs-number">11</span> [root@xh00 ~]<span class="hljs-comment"># hostnamectl --static</span><br><span class="hljs-number">12</span> <br><span class="hljs-number">13</span> xh00<br><span class="hljs-number">14</span> <br><span class="hljs-number">15</span> [root@xh00 ~]<span class="hljs-comment"># hostnamectl --transient</span><br><span class="hljs-number">16</span> <br><span class="hljs-number">17</span> xh01<br><span class="hljs-number">18</span> <br><span class="hljs-number">19</span> [root@xh00 ~]<span class="hljs-comment"># hostnamectl --pretty</span><br><span class="hljs-number">20</span> <br><span class="hljs-number">21</span>  <span class="hljs-regexp">//</span>或者，查看到的是瞬态的（Tansient hostname）<br><span class="hljs-number">22</span> <br><span class="hljs-number">23</span> hostname<br><span class="hljs-number">24</span> <br><span class="hljs-number">25</span> <span class="hljs-regexp">//</span>或者查看主机名配置文件，查看到的是静态的（Static hostname）<br><span class="hljs-number">26</span> <br><span class="hljs-number">27</span> cat <span class="hljs-regexp">/etc/</span>hostname<br></code></pre></td></tr></table></figure><p>查看当前Linux操作系统相关信息（内核版本号、硬件架构、主机名称和操作系统类型等）:</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>uname -a            //查看到的是瞬态的（Tansient hostname）<br><span class="hljs-symbol">2 </span><br><span class="hljs-symbol">3 </span>cat /etc/redhat-release        //查看操作系统环境<br></code></pre></td></tr></table></figure><h2 id="修改主机名"><a href="#修改主机名" class="headerlink" title="修改主机名:"></a>修改主机名:</h2><h3 id="方法1：临时有效"><a href="#方法1：临时有效" class="headerlink" title="方法1：临时有效"></a>方法1：临时有效</h3><p>hostname 主机名 &#x2F;&#x2F;只能临时修改的主机名，当重启机器后，主机名称又变回来了。</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>hostname xh01<br></code></pre></td></tr></table></figure><h3 id="方法2：永久生效"><a href="#方法2：永久生效" class="headerlink" title="方法2：永久生效"></a>方法2：永久生效</h3><h4 id="x2F-x2F-永久性的修改主机名称，重启后能保持修改后的。"><a href="#x2F-x2F-永久性的修改主机名称，重启后能保持修改后的。" class="headerlink" title="&#x2F;&#x2F;永久性的修改主机名称，重启后能保持修改后的。"></a>&#x2F;&#x2F;永久性的修改主机名称，重启后能保持修改后的。</h4><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bat">hostnamectl <span class="hljs-built_in">set</span>-hostname  HiCentos7<br>重启之后正常<br></code></pre></td></tr></table></figure><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>hostnamectl set-hostname xxx <br><span class="hljs-symbol">2 </span> <br><span class="hljs-symbol">3 </span>//删除hostname<br><span class="hljs-symbol">4 </span>hostnamectl set-hostname <span class="hljs-string">&quot;&quot;</span><br><span class="hljs-symbol">5 </span>hostnamectl set-hostname <span class="hljs-string">&quot;&quot;</span> --static<br><span class="hljs-symbol">6 </span>hostnamectl set-hostname <span class="hljs-string">&quot;&quot;</span> --pretty<br></code></pre></td></tr></table></figure><h4 id="修改所有三个主机名：静态、瞬态和灵活主机名："><a href="#修改所有三个主机名：静态、瞬态和灵活主机名：" class="headerlink" title="修改所有三个主机名：静态、瞬态和灵活主机名："></a>修改所有三个主机名：静态、瞬态和灵活主机名：</h4><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@localhost</span> ~]<span class="hljs-meta"># hostnamectl set-hostname xh00</span><br>[root<span class="hljs-symbol">@localhost</span> ~]<span class="hljs-meta"># hostnamectl --pretty</span><br>[root<span class="hljs-symbol">@localhost</span> ~]<span class="hljs-meta"># hostnamectl --static</span><br>xh00<br>[root<span class="hljs-symbol">@localhost</span> ~]<span class="hljs-meta"># hostnamectl --transient</span><br>xh00<br></code></pre></td></tr></table></figure><p>就像上面展示的那样，在修改静态&#x2F;瞬态主机名时，任何特殊字符或空白字符会被移除，而提供的参数中的任何大写字母会自动转化为小写。</p><p>一旦修改了静态主机名，&#x2F;etc&#x2F;hostname 将被自动更新。然而，&#x2F;etc&#x2F;hosts 不会更新以保存所做的修改，所以你每次在修改主机名后一定要手</p><p>动更新&#x2F;etc&#x2F;hosts，之后再重启CentOS 7。否则系统再启动时会很慢。</p><h4 id="手动更新-x2F-etc-x2F-hosts"><a href="#手动更新-x2F-etc-x2F-hosts" class="headerlink" title="手动更新&#x2F;etc&#x2F;hosts"></a>手动更新&#x2F;etc&#x2F;hosts</h4><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>vim /etc/hosts<br><span class="hljs-symbol">2 </span><br><span class="hljs-symbol">3 </span>#<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>   localhost localhost.localdomain localhost4 localhost4.localdomain4<br><span class="hljs-symbol">4 </span><br><span class="hljs-symbol">5 </span><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>  qqmm<br><span class="hljs-symbol">6 </span><br><span class="hljs-symbol">7 </span>#::<span class="hljs-number">1</span>         localhost localhost.localdomain localhost6 localhost6.localdomain6<br><span class="hljs-symbol">8 </span><br><span class="hljs-symbol">9 </span>::<span class="hljs-number">1</span>        qqmm<br></code></pre></td></tr></table></figure><h4 id="重启CentOS-7"><a href="#重启CentOS-7" class="headerlink" title="重启CentOS 7"></a>重启CentOS 7</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">reboot -f</span> <br></code></pre></td></tr></table></figure><h4 id="重启之后"><a href="#重启之后" class="headerlink" title="重启之后"></a>重启之后</h4><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>[root@qqmm ~]# hostname<br><span class="hljs-symbol">2 </span><br><span class="hljs-symbol">3 </span>xh01<br><span class="hljs-symbol">4 </span><br><span class="hljs-symbol">5 </span>[root@qqmm ~]# hostnamectl<br><span class="hljs-symbol">6 </span><br><span class="hljs-symbol">7 </span>xh01<br></code></pre></td></tr></table></figure><h4 id="xh01如果你只想修改特定的主机名（静态，瞬态或灵活），你可以使用-static，-transient或-pretty选项。-例如，要永久修改主机名，你可以修改静态主机名："><a href="#xh01如果你只想修改特定的主机名（静态，瞬态或灵活），你可以使用-static，-transient或-pretty选项。-例如，要永久修改主机名，你可以修改静态主机名：" class="headerlink" title="xh01如果你只想修改特定的主机名（静态，瞬态或灵活），你可以使用--static，--transient或--pretty选项。 例如，要永久修改主机名，你可以修改静态主机名："></a>xh01如果你只想修改特定的主机名（静态，瞬态或灵活），你可以使用<code>--static</code>，<code>--transient</code>或<code>--pretty</code>选项。 例如，要永久修改主机名，你可以修改静态主机名：</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart">[root<span class="hljs-meta">@localhost</span> ~]# hostnamectl --<span class="hljs-keyword">static</span> <span class="hljs-keyword">set</span>-hostname xh01<br></code></pre></td></tr></table></figure><p>重启CentOS 7 之后</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@localhost</span> ~]<span class="hljs-meta"># hostnamectl --static</span><br><br>xh01<br><br>[root<span class="hljs-symbol">@localhost</span> ~]<span class="hljs-meta"># hostnamectl --transient</span><br><br>xh01<br><br>[root<span class="hljs-symbol">@localhost</span> ~]<span class="hljs-meta"># hostnamectl --pretty</span><br><br>[root<span class="hljs-symbol">@localhost</span> ~]<span class="hljs-meta"># hostname</span><br><br>xh01<br></code></pre></td></tr></table></figure><h3 id="方法3：永久生效"><a href="#方法3：永久生效" class="headerlink" title="方法3：永久生效"></a>方法3：永久生效</h3><p>修改配置文件&#x2F;etc&#x2F;hostname来实现主机名的修改。把该文件内容hostname name中的name替换成自己想要的主机名重启即可。</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">vim /etc/hostname <br>hostname  HiCentos7<br><br>vi /etc/sysconfig/network 添加IP和hostname对应关系<br><br><span class="hljs-number">10.238.162.33</span> Slave01<br><br>重启reboot生效<br><br></code></pre></td></tr></table></figure><h3 id="方法4：永久生效"><a href="#方法4：永久生效" class="headerlink" title="方法4：永久生效"></a>方法4：永久生效</h3><p>通过nmtui修改，之后重启hostnamed</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nsis">nmcli general hostname servername<br><span class="hljs-params">system</span>ctl restart <span class="hljs-params">system</span>d-hostnamed<br></code></pre></td></tr></table></figure><p>还可以通过nmtui进入图形界面来修改主机名。将光标通过键盘的上下键移动到“设定系统主机名”菜单处，按下回车键。</p><p><a target="_blank" rel="noopener" href="https://img2020.cnblogs.com/i-beta/1961011/202003/1961011-20200312125600032-1919368532.png"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1961011-20200312125600032-1919368532.png" srcset="/img/loading.gif" lazyload alt="img"></a></p><p>此时，屏幕出现“设定主机名”选项卡，输入需要设定的主机名，通过键盘方向键将光标移动到“确定”处，回车键确定即可完成主机名的修改。</p><p><a target="_blank" rel="noopener" href="https://img2020.cnblogs.com/i-beta/1961011/202003/1961011-20200312125619673-2054563513.png"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/1961011-20200312125619673-2054563513.png" srcset="/img/loading.gif" lazyload alt="img"></a></p><p>来源<a target="_blank" rel="noopener" href="https://blog.csdn.net/xuheng8600/article/details/79983927">https://blog.csdn.net/xuheng8600/article/details/79983927</a></p><h1 id="Zabbix–使用"><a href="#Zabbix–使用" class="headerlink" title="Zabbix		–使用"></a>Zabbix –使用</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115120910.png" srcset="/img/loading.gif" lazyload alt="image-20221020115120910"></p><p>自动化-注册发现报警</p><p>监控方便-现成的模板</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115304467.png" srcset="/img/loading.gif" lazyload alt="image-20221020115304467"></p><h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115458306.png" srcset="/img/loading.gif" lazyload alt="image-20221020115346307"></p><h3 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h3><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115711231.png" srcset="/img/loading.gif" lazyload alt="image-20221020115711231"></p><h3 id="部署方式"><a href="#部署方式" class="headerlink" title="部署方式"></a>部署方式</h3><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115745730.png" srcset="/img/loading.gif" lazyload alt="image-20221020115745730"></p><h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020115830848.png" srcset="/img/loading.gif" lazyload alt="image-20221020115830848"></p><h2 id="2·-Zabbix-installation-configuration-安装配置"><a href="#2·-Zabbix-installation-configuration-安装配置" class="headerlink" title="2· 		Zabbix installation configuration 安装配置"></a>2· Zabbix installation configuration 安装配置</h2><h4 id="安全需求"><a href="#安全需求" class="headerlink" title="安全需求"></a>安全需求</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020120114630.png" srcset="/img/loading.gif" lazyload alt="image-20221020120114630"></p><h4 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020120225480.png" srcset="/img/loading.gif" lazyload alt="image-20221020120225480"></p><h5 id="查看版本"><a href="#查看版本" class="headerlink" title="查看版本"></a>查看版本</h5><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs bat"><span class="hljs-function">https://<span class="hljs-title">www.zabbix.com</span>/<span class="hljs-title">download</span>?<span class="hljs-title">zabbix</span>=6.2&amp;<span class="hljs-title">os_distribution</span>=<span class="hljs-title">centos</span>&amp;<span class="hljs-title">os_version</span>=7&amp;<span class="hljs-title">components</span>=<span class="hljs-title">proxy</span>&amp;<span class="hljs-title">db</span>=<span class="hljs-title">mysql</span>&amp;<span class="hljs-title">ws</span>=</span><br><span class="hljs-function"></span><br><span class="hljs-function">查看<span class="hljs-title">CentOS</span>版本方法</span><br><span class="hljs-function">有以下命令可以查看：</span><br><span class="hljs-function"></span><br><span class="hljs-function">命令1：</span><br><span class="hljs-function"><span class="hljs-title">rpm</span> -<span class="hljs-title">q</span> <span class="hljs-title">centos</span>-<span class="hljs-title">release</span></span><br><span class="hljs-function">结果为：</span><br><span class="hljs-function"></span><br><span class="hljs-function"><span class="hljs-title">centos</span>-<span class="hljs-title">release</span>-7-7.1908.0.<span class="hljs-title">el7.centos.x86_64</span></span><br><span class="hljs-function">命令2：</span><br><span class="hljs-function"><span class="hljs-title">lsb_release</span> -<span class="hljs-title">a</span></span><br><span class="hljs-function">这个命令适用于所有的<span class="hljs-title">linux</span>，包括<span class="hljs-title">Redhat</span>、<span class="hljs-title">SuSE</span>、<span class="hljs-title">Debian</span>、<span class="hljs-title">Centos</span>等发行版。</span><br><span class="hljs-function">结果为：</span><br><span class="hljs-function"></span><br><span class="hljs-function"><span class="hljs-title">LSB</span> <span class="hljs-title">Version</span>:    :<span class="hljs-title">core</span>-4.1-<span class="hljs-title">amd64:core</span>-4.1-<span class="hljs-title">noarch</span></span><br><span class="hljs-function"><span class="hljs-title">Distributor</span> <span class="hljs-title">ID</span>: <span class="hljs-title">CentOS</span></span><br><span class="hljs-function"><span class="hljs-title">Description</span>:    <span class="hljs-title">CentOS</span> <span class="hljs-title">Linux</span> <span class="hljs-title">release</span> 7.7.1908 (<span class="hljs-title">Core</span>)</span><br><span class="hljs-function"><span class="hljs-title">Release</span>:        7.7.1908</span><br><span class="hljs-function"><span class="hljs-title">Codename</span>:       <span class="hljs-title">Core</span></span><br><span class="hljs-function">命令3：</span><br><span class="hljs-function">结果为：</span><br><span class="hljs-function"></span><br><span class="hljs-function"><span class="hljs-title">uname</span></span><br><span class="hljs-function">结果为：</span><br><span class="hljs-function"></span><br><span class="hljs-function"><span class="hljs-title">Linux</span></span><br><span class="hljs-function">命令4：</span><br><span class="hljs-function"><span class="hljs-title">name</span> -<span class="hljs-title">a</span></span><br><span class="hljs-function">结果为：</span><br><span class="hljs-function"></span><br><span class="hljs-function"><span class="hljs-title">Linux</span> <span class="hljs-title">localhost</span> 3.10.0-1062.9.1.<span class="hljs-title">el7.x86_64</span> #1 <span class="hljs-title">SMP</span> <span class="hljs-title">Fri</span> <span class="hljs-title">Dec</span> 6 15:49:49 <span class="hljs-title">UTC</span> 2019 <span class="hljs-title">x86_64</span> <span class="hljs-title">x86_64</span> <span class="hljs-title">x86_64</span> <span class="hljs-title">GNU</span>/<span class="hljs-title">Linux</span></span><br><span class="hljs-function">好文要顶 关注我 收藏该文  </span><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121034093.png" srcset="/img/loading.gif" lazyload alt="image-20221020121034093"></p><p>不愿意关闭—nginx官网设置，selinux也是需要设置</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121153208.png" srcset="/img/loading.gif" lazyload alt="image-20221020121153208"></p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121325655.png" srcset="/img/loading.gif" lazyload alt="image-20221020121325655"></p><h4 id="客户端测试机与master在同一个机器"><a href="#客户端测试机与master在同一个机器" class="headerlink" title="客户端测试机与master在同一个机器"></a>客户端测试机与master在同一个机器</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121505122.png" srcset="/img/loading.gif" lazyload alt="image-20221020121505122"></p><h4 id="默认密码-默认80端口"><a href="#默认密码-默认80端口" class="headerlink" title="默认密码-默认80端口"></a>默认密码-默认80端口</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121606887.png" srcset="/img/loading.gif" lazyload alt="image-20221020121606887"></p><h3 id="centos8更换阿里源"><a href="#centos8更换阿里源" class="headerlink" title="centos8更换阿里源"></a>centos8更换阿里源</h3><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs bat"><br><br>码农笔录<br><br>于 <span class="hljs-number">2020</span>-<span class="hljs-number">10</span>-<span class="hljs-number">28</span> <span class="hljs-number">11</span>:<span class="hljs-number">53</span>:<span class="hljs-number">56</span> 发布<br><br><span class="hljs-number">48089</span><br> 收藏 <span class="hljs-number">1</span><br>分类专栏： linux 文章标签： linux centos<br>版权<br><br>linux<br>专栏收录该内容<br><span class="hljs-number">27</span> 篇文章<span class="hljs-number">0</span> 订阅<br>订阅专栏<br>原文连接 https://www.aiprose.com/blog/<span class="hljs-number">134</span><br><br><span class="hljs-number">1</span>.如果是minimal安装，需要先安装wget<br><br><br>yum install -y wget<br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">2</span>.备份旧的配置文件<br><br><br>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup<br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">3</span>.下载阿里的源文件<br><br><br>centos8的<br>wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-<span class="hljs-number">8</span>.repo<br>centos7的<br>wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-<span class="hljs-number">7</span>.repo<br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">4</span>.如果你不是阿里云的服务器，例如自己电脑安装或者虚拟机安装，需要修改地址<br><br>sed -i -e &#x27;/mirrors.cloud.aliyuncs.com/d&#x27; -e &#x27;/mirrors.aliyuncs.com/d&#x27; /etc/yum.repos.d/CentOS-Base.repo<br><span class="hljs-number">1</span><br><span class="hljs-number">5</span>.生成缓存<br><br><br> yum makecache<br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br>文章知识点与<br></code></pre></td></tr></table></figure><h4 id="001—安装脚本–注意提前换源-阿里就行"><a href="#001—安装脚本–注意提前换源-阿里就行" class="headerlink" title="001—安装脚本–注意提前换源-阿里就行"></a>001—安装脚本–注意提前换源-阿里就行</h4><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bat">rpm -ivh http://repo.zabbix.com/zabbix/<span class="hljs-number">3</span>.<span class="hljs-number">4</span>/rhel/<span class="hljs-number">7</span>/x86_64/zabbix-release-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>-<span class="hljs-number">2</span>.el7.noarch.rpm<br>yum -y install zabbix-server-mysql<br>yum -y install zabbix-proxy-mysql<br>yum -y install zabbix-web-mysql<br>yum -y install mariadb-server<br>systemctl <span class="hljs-built_in">start</span> mariadb<br>mysql -uroot -e &quot;create database zabbix&quot;<br>sed  &#x27;s/DBUser=zabbix/DBUser=root/g&#x27; -i /etc/zabbix/zabbix_server.conf <br>zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uroot zabbix<br>setenforce <span class="hljs-number">0</span><br>systemctl <span class="hljs-built_in">start</span> zabbix-server<br><br></code></pre></td></tr></table></figure><p>尝试修改脚本</p><p>···</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs awk">rpm -ivh http:<span class="hljs-regexp">//</span>repo.zabbix.com<span class="hljs-regexp">/zabbix/</span><span class="hljs-number">3.4</span><span class="hljs-regexp">/rhel/</span><span class="hljs-number">7</span><span class="hljs-regexp">/x86_64/</span>zabbix-release-<span class="hljs-number">3.4</span>-<span class="hljs-number">2</span>.el7.noarch.rpm<br>yum -y install zabbix-server-mysql<br>yum -y install zabbix-proxy-mysql<br>yum -y install zabbix-web-mysql<br>yum -y install zabbix-agent<br>yum -y install mariadb-server<br>systemctl start mariadb<br>mysql -uroot -e <span class="hljs-string">&quot;create database zabbix character set utf8 collate utf8_bin;&quot;</span><br>sed  <span class="hljs-string">&#x27;s/DBUser=zabbix/DBUser=root/g&#x27;</span> -i <span class="hljs-regexp">/etc/</span>zabbix/zabbix_server.conf <br>zcat <span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/doc/</span>zabbix-server-mysql*/create.sql.gz | mysql -uroot zabbix<br>setenforce <span class="hljs-number">0</span><br>systemctl start zabbix-server<br></code></pre></td></tr></table></figure><h6 id="检查安装结果"><a href="#检查安装结果" class="headerlink" title="检查安装结果"></a>检查安装结果</h6><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef|<span class="hljs-keyword">grep</span> zabbix<br><br><br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020145140493.png" srcset="/img/loading.gif" lazyload alt="image-20221020145140493"></p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bat">数据库以及配置成功的可以使用这个进行演示<br><br>rpm -ivh http://repo.zabbix.com/zabbix/<span class="hljs-number">3</span>.<span class="hljs-number">4</span>/rhel/<span class="hljs-number">7</span>/x86_64/zabbix-release-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>-<span class="hljs-number">2</span>.el7.noarch.rpm<br>yum -y install zabbix-server-mysql<br>yum -y install zabbix-proxy-mysql<br>yum -y install zabbix-web-mysql<br>yum -y install mariadb-server<br>systemctl <span class="hljs-built_in">start</span> mariadb<br>#mysql -uroot -e &quot;create database zabbix&quot;<br>sed  &#x27;s/DBUser=zabbix/DBUser=root/g&#x27; -i /etc/zabbix/zabbix_server.conf <br>zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uroot zabbix<br>setenforce <span class="hljs-number">0</span><br>systemctl <span class="hljs-built_in">start</span> zabbix-server<br><br></code></pre></td></tr></table></figure><h4 id="002—启动zabbix-server-web-端"><a href="#002—启动zabbix-server-web-端" class="headerlink" title="002—启动zabbix server web 端"></a>002—启动zabbix server web 端</h4><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bat">[root@localhost zabbix-server-mysql-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>.<span class="hljs-number">15</span>]# service httpd <span class="hljs-built_in">start</span><br>systemctl <span class="hljs-built_in">start</span> httpd.service<br>Redirecting to /bin/systemctl <span class="hljs-built_in">start</span> httpd.service<br></code></pre></td></tr></table></figure><p>···</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bat">检查<span class="hljs-number">80</span> 端口是否开启 监听<br>[root@localhost zabbix-server-mysql-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>.<span class="hljs-number">15</span>]# netstat -lntp<br><br>Active Internet connections (only servers)<br>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    <br>tcp        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:<span class="hljs-number">10051</span>           <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:*               LISTEN      <span class="hljs-number">2460</span>/zabbix_server  <br>tcp        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:<span class="hljs-number">3306</span>            <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:*               LISTEN      <span class="hljs-number">2277</span>/mysqld   <br>比如这里有<span class="hljs-number">80</span>端口<br>tcp        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:<span class="hljs-number">80</span>              <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:*               LISTEN      <span class="hljs-number">2744</span>/httpd          <br>tcp        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:<span class="hljs-number">23</span>              <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:*               LISTEN      <span class="hljs-number">768</span>/sshd            <br>tcp        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">127</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>:<span class="hljs-number">25</span>            <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:*               LISTEN      <span class="hljs-number">854</span>/master          <br>tcp6       <span class="hljs-number">0</span>      <span class="hljs-number">0</span> :::<span class="hljs-number">10051</span>                :::*                    LISTEN      <span class="hljs-number">2460</span>/zabbix_server  <br>tcp6       <span class="hljs-number">0</span>      <span class="hljs-number">0</span> :::<span class="hljs-number">23</span>                   :::*                    LISTEN      <span class="hljs-number">768</span>/sshd            <br>tcp6       <span class="hljs-number">0</span>      <span class="hljs-number">0</span> ::<span class="hljs-number">1</span>:<span class="hljs-number">25</span>                  :::*                    LISTEN      <span class="hljs-number">854</span>/master          <br><br></code></pre></td></tr></table></figure><h4 id="003·关闭selinux与关闭防火墙-网络畅通"><a href="#003·关闭selinux与关闭防火墙-网络畅通" class="headerlink" title="003·	关闭selinux与关闭防火墙-网络畅通"></a>003·	关闭selinux与关闭防火墙-网络畅通</h4><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bat">备注：<br>关闭防火墙<br>systemctl stop firewalld.service<br>永久关闭<br>systemctl disable firewalld.service <br>······································································································································································································································<br>关闭selinux<br>临时关闭<br>setenforce <span class="hljs-number">0</span><br>sed -ri &#x27;/^SELINUX=/cSELINUX=disabled&#x27; /etc/sysconfig/selinux<br>#sed -i &#x27;s#SELINUX=enforcing#SELINUX=disabled#g&#x27; /etc/selinux/config<br><br></code></pre></td></tr></table></figure><h4 id="004·修改php时区"><a href="#004·修改php时区" class="headerlink" title="004·	修改php时区"></a>004·	修改php时区</h4><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs bat">  文件<br>  /etc/httpd/conf.d/zabbix.conf <br> esc<br> 显示行号<br> :<span class="hljs-built_in">set</span> nu<br> <span class="hljs-number">19</span>行<br><br># php_value <span class="hljs-built_in">date</span>.timezone Europe/Riga<br>  修改为：<br>php_value <span class="hljs-built_in">date</span>.timezone Asia/Shanghai<br><br>重启网络<br>systemctl  restart httpd<br>检查状态<br>systemctl  status httpd<br><br>设置数据库密码<br>mysql<br>show databases;<br>首先需要进入mysql，修改root用户密码，不然mysql不能使用<br>use mysql;<br>修改root用户密码<br>update user <span class="hljs-built_in">set</span> password=password(&quot;<span class="hljs-number">1</span>&quot;) where user=&quot;root&quot;;<br>刷新权限，<br>flush privileges;   <br>增加zabbix账户，并修改密码，注意一定要修改密码<br><span class="hljs-number">1</span>为密码<br>mysql -uroot -p1<br><span class="hljs-number">13</span>.创建一个zabbix数据库<br><br>create database zabbix character <span class="hljs-built_in">set</span> utf8 collate utf8_bin;<br>use zabbix<br>创建一个zabbix用户：<br>create user zabbix@localhost identified by &#x27;<span class="hljs-number">1</span>&#x27;;<br>给zabbix授权所有：<br>grant all privileges on zabbix.* to zabbix@localhost;<br>刷新：<br>flush privileges;<br><br>四、zabbix配置初始化<br><span class="hljs-number">1</span>、配置数据库连接信息<br>编辑配置文件 /etc/zabbix/zabbix_server.conf，找到以下字段，去掉前面的#号，填入正确的zabbix数据库连接信息，保存并退出文件<br>/etc/zabbix/zabbix_server.conf<br><br><br><br><br><br><br><br><br>需要添加备注<br>create user zabbix@localhost identified by &#x27;password&#x27;;<br>grant all privileges on zabbix.* to zabbix@localhost;<br><br>use zabbix;<br>update user <span class="hljs-built_in">set</span> password=password(&quot;<span class="hljs-number">1</span>&quot;) where user=&quot;zabbix&quot;;<br>flush privileges;<br><br><span class="hljs-number">5</span>导入初始架构和数据，系统将提示您输入新创建的密码----脚本安装时候已经执行完毕<br><br>zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix<br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020151843747.png" srcset="/img/loading.gif" lazyload alt="image-20221020151843747"></p><h4 id="未开启-agent-查看监听的端口-配置-host"><a href="#未开启-agent-查看监听的端口-配置-host" class="headerlink" title="未开启 agent-查看监听的端口-			配置-host"></a>未开启 agent-查看监听的端口- 配置-host</h4><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bat">显示没有端口<br>netstat -lntp|grep <span class="hljs-number">10050</span><br>yum -y install zabbix-agent<br>systemctl  <span class="hljs-built_in">start</span> zabbix-agent<br>再次查询端口<br>点击禁用--&gt; 启用<br>点击启用--&gt; 禁用<br>[root@localhost zabbix-server-mysql-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>.<span class="hljs-number">15</span>]# netstat -lntp|grep <span class="hljs-number">10050</span><br>tcp        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:<span class="hljs-number">10050</span>           <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:*               LISTEN      <span class="hljs-number">3226</span>/zabbix_agentd  <br>tcp6       <span class="hljs-number">0</span>      <span class="hljs-number">0</span> :::<span class="hljs-number">10050</span>                :::*                    LISTEN      <span class="hljs-number">3226</span>/zabbix_agentd  <br>[root@localhost zabbix-server-mysql-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>.<span class="hljs-number">15</span>]# netstat -lntp|grep <span class="hljs-number">10051</span><br>tcp        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:<span class="hljs-number">10051</span>           <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>:*               LISTEN      <span class="hljs-number">3002</span>/zabbix_server  <br>tcp6       <span class="hljs-number">0</span>      <span class="hljs-number">0</span> :::<span class="hljs-number">10051</span>                :::*                    LISTEN      <span class="hljs-number">3002</span>/zabbix_server  <br><br><br><br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020161312046.png" srcset="/img/loading.gif" lazyload alt="image-20221020161312046"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020161426088.png" srcset="/img/loading.gif" lazyload alt="image-20221020161426088"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020162456857.png" srcset="/img/loading.gif" lazyload alt="image-20221020162456857"></p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs bat">文件脚本上传<br>查询是否安装<br>[root@localhost ~]# rpm -qa lrzsz<br>lrzsz-<span class="hljs-number">0</span>.<span class="hljs-number">12</span>.<span class="hljs-number">20</span>-<span class="hljs-number">36</span>.el7.x86_64<br>[root@localhost ~]# yum -y install lrzsz<br><br><br>a. Install Zabbix repository  安装zabbix镜像源<br><br>rpm -Uvh https://repo.zabbix.com/zabbix/<span class="hljs-number">6</span>.<span class="hljs-number">2</span>/rhel/<span class="hljs-number">7</span>/x86_64/zabbix-release-<span class="hljs-number">6</span>.<span class="hljs-number">2</span>-<span class="hljs-number">3</span>.el7.noarch.rpm<br>yum clean all<br><br>yum install epel-release<br><br>b. 安装Zabbix server，Web前端，agent<br>yum  -y install zabbix-server-mysql zabbix-agent<br><br>yum -y  install zabbix-server-mysql <br>#没有这个<br>yum -y install zabbix-web-mysql<br>#没有这两个<br># yum install zabbix-web-mysql-scl zabbix-nginx-conf-scl<br><br>安装 Install Zabbix frontend<br>yum install centos-release-scl<br>编辑配置文件 /etc/yum.repos.d/zabbix.repo and enable zabbix-frontend repository.<br><br>[zabbix-frontend]<br>...<br>enabled=<span class="hljs-number">1</span><br>...<br><br>Install Zabbix frontend packages.<br><br><br><span class="hljs-number">3</span>.下载mysql数据库<br>yum install mariadb mariadb-server<br><span class="hljs-number">4</span>.启动数据库，并配置zabbix账户<br>mysql<br>show databases;<br>首先需要进入mysql，修改root用户密码，不然mysql不能使用<br>use mysql;<br>修改root用户密码<br>update user <span class="hljs-built_in">set</span> password=password(&quot;<span class="hljs-number">1</span>&quot;) where user=&quot;root&quot;;<br>刷新权限，<br>flush privileges;   <br>增加zabbix账户，并修改密码，注意一定要修改密码<br><span class="hljs-number">1</span>为密码<br>mysql -uroot -p1<br>create database zabbix character <span class="hljs-built_in">set</span> utf8 collate utf8_bin;<br><br>需要添加备注<br>create user zabbix@localhost identified by &#x27;password&#x27;;<br>grant all privileges on zabbix.* to zabbix@localhost;<br><br>use mysql;<br>update user <span class="hljs-built_in">set</span> password=password(&quot;<span class="hljs-number">1</span>&quot;) where user=&quot;zabbix&quot;;<br>flush privileges;<br><br><br><span class="hljs-number">5</span>导入初始架构和数据，系统将提示您输入新创建的密码<br><br>zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix<br><br>为Zabbix server配置数据库,编辑配置文件 /etc/zabbix/zabbix_server.conf<br><br><br><br><br>systemctl restart mariadb<br><br><br><br><br>yum -y install mariadb-server<br>systemctl <span class="hljs-built_in">start</span> mariadb<br>mysql -uroot -e &quot;create database zabbix&quot;<br>sed &#x27;s/DBUser=zabbix/DBUser=root/g&#x27; -i /etc/zabbix/zabbix_server.conf<br>zcat /usr/share/doc/zabbix-server-mysql-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>.<span class="hljs-number">8</span>/create.sql.gz | mysql -uroot zabbix<br>setenforce <span class="hljs-number">0</span><br>systemctl <span class="hljs-built_in">start</span> zabbix-server<br><br><br><br><br>dnf install zabbix-server-mysql zabbix-web-mysql zabbix-apache-conf zabbix-sql-scripts zabbix-selinux-policy zabbix-agent -y<br><br><br><br><br></code></pre></td></tr></table></figure><p>修改mysql的密码</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020134014210.png" srcset="/img/loading.gif" lazyload alt="image-20221020134014210"></p><p>刷新权限</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020134125654.png" srcset="/img/loading.gif" lazyload alt="image-20221020134125654"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020134353374.png" srcset="/img/loading.gif" lazyload alt="image-20221020134353374"></p><p>maria db</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020134941655.png" srcset="/img/loading.gif" lazyload alt="image-20221020134941655"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020121725097.png" srcset="/img/loading.gif" lazyload alt="image-20221020121725097"></p><h5 id="CentOS-7上搭建-Zabbix4-0，一次性成功，收藏了！"><a href="#CentOS-7上搭建-Zabbix4-0，一次性成功，收藏了！" class="headerlink" title="CentOS 7上搭建 Zabbix4.0，一次性成功，收藏了！"></a>CentOS 7上搭建 Zabbix4.0，一次性成功，收藏了！</h5><h5 id="-7"><a href="#-7" class="headerlink"></a><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/mingongge365"></a></h5><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/mingongge365">民工哥</a><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-4812630bc27d642f7cafcd6cdeca3d7a.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p>8 人赞同了该文章</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-533f6cb014aefa60c88b040e3936ec90_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><h1 id="1·zabbix介绍"><a href="#1·zabbix介绍" class="headerlink" title="1·zabbix介绍"></a>1·<strong>zabbix介绍</strong></h1><p>Zabbix 是一个基于 WEB 界面的提供分布式系统监视以及网络监视功能的企业级的开源解决方案。它能监视各种网络参数，保证服务器系统的安全运营；并提供灵活的通知机制以让系统管理员快速定位&#x2F;解决存在的各种问题。</p><h3 id="zabbix软件组成"><a href="#zabbix软件组成" class="headerlink" title="zabbix软件组成"></a><strong>zabbix软件组成</strong></h3><p><code>zabbix-server</code>: 监控服务端</p><p><code>zabbix-agent</code>: 监控客户端</p><p><code>zabbix-web</code>: 监控网站服务</p><p><code>php</code>: 处理动态请求</p><p><code>mysql</code>: 数据库存储监控数据</p><p><code>zabbix</code>: 负责收集agent信息汇总告知zabbix-server</p><h3 id="1-关闭防火墙和selinux"><a href="#1-关闭防火墙和selinux" class="headerlink" title="1.关闭防火墙和selinux"></a><strong>1.关闭防火墙和selinux</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@zabbix ~]# setenforce 0<br>[root@zabbix ~]# sed -ri &#x27;/^SELINUX=/cSELINUX=disabled&#x27; /etc/sysconfig/selinux <br>[root@zabbix ~]# systemctl stop firewalld ; systemctl disable firewalld<br></code></pre></td></tr></table></figure><h3 id="2-添加zabbix源和epel源"><a href="#2-添加zabbix源和epel源" class="headerlink" title="2.添加zabbix源和epel源"></a><strong>2.添加zabbix源和epel源</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@zabbix ~]# rpm -ivh https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/6.2/rhel/7/x86_64/zabbix-release-6.2-3.el7.noarch.rpm ##这里使用的是清华源<br><br><br>[root@zabbix ~]# wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo ##添加epel源<br><br></code></pre></td></tr></table></figure><h3 id="3-安装zabbix和相关服务组件"><a href="#3-安装zabbix和相关服务组件" class="headerlink" title="3.安装zabbix和相关服务组件"></a><strong>3.安装zabbix和相关服务组件</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@zabbix ~]# wget  https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/6.2/rhel/7/x86_64/&#123;zabbix-server-mysql-4.0.20-1.el7.x86_64.rpm,zabbix-web-4.0.22-1.el7.noarch.rpm&#125; ##把这两个包先拿下来,因为安装的时候网络问题会出现安装超时<br>[root@zabbix ~]# yum install -y httpd php zabbix-server-mysql-4.0.20-1.el7.x86_64.rpm  zabbix-web-mysql ###安装zabbix的服务程序和web程序<br>[root@zabbix ~]# yum install -y mariadb-server ##安装数据库服务<br><br><br></code></pre></td></tr></table></figure><h3 id="4-修改zabbix配置文件"><a href="#4-修改zabbix配置文件" class="headerlink" title="4.修改zabbix配置文件"></a><strong>4.修改zabbix配置文件</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@zabbix ~]# sed -ri.bak &#x27;/# DBPassword=/cDBPassword=zabbix&#x27; /etc/zabbix/zabbix_server.conf ##修改zabbix数据库密码为zabbix<br>[root@zabbix ~]# sed -ri.bak &#x27;s/ #(.*)date.timezone.*/\1date.timezone Asia\/Shanghai/&#x27; /etc/httpd/conf.d/zabbix.conf ##修改时区为国内<br></code></pre></td></tr></table></figure><h3 id="5-配置数据库服务"><a href="#5-配置数据库服务" class="headerlink" title="5.配置数据库服务"></a><strong>5.配置数据库服务</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@zabbix ~]# systemctl start mariadb #启动数据库<br>[root@zabbix ~]# mysql_secure_installation ##初始化数据库<br><br>NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB<br>      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!<br><br>In order to log into MariaDB to secure it, we&#x27;ll need the current<br>password for the root user.  If you&#x27;ve just installed MariaDB, and<br>you haven&#x27;t set the root password yet, the password will be blank,<br>so you should just press enter here.<br><br>Enter current password for root (enter for none): <br>OK, successfully used password, moving on...<br><br>Setting the root password ensures that nobody can log into the MariaDB<br>root user without the proper authorisation.<br><br>Set root password? [Y/n] y<br>New password: <br>Re-enter new password: <br>Password updated successfully!<br>Reloading privilege tables..<br> ... Success!<br><br><br>By default, a MariaDB installation has an anonymous user, allowing anyone<br>to log into MariaDB without having to have a user account created for<br>them.  This is intended only for testing, and to make the installation<br>go a bit smoother.  You should remove them before moving into a<br>production environment.<br><br>Remove anonymous users? [Y/n] y<br> ... Success!<br><br>Normally, root should only be allowed to connect from &#x27;localhost&#x27;.  This<br>ensures that someone cannot guess at the root password from the network.<br><br>Disallow root login remotely? [Y/n] y<br> ... Success!<br><br>By default, MariaDB comes with a database named &#x27;test&#x27; that anyone can<br>access.  This is also intended only for testing, and should be removed<br>before moving into a production environment.<br><br>Remove test database and access to it? [Y/n] n<br> ... skipping.<br><br>Reloading the privilege tables will ensure that all changes made so far<br>will take effect immediately.<br><br>Reload privilege tables now? [Y/n] y<br> ... Success!<br><br>Cleaning up...<br><br>All done!  If you&#x27;ve completed all of the above steps, your MariaDB<br>installation should now be secure.<br><br>Thanks for using MariaDB!<br>[root@zabbix ~]# mysql -uroot -p ##登录数据库<br>Enter password: <br>Welcome to the MariaDB monitor.  Commands end with ; or \g.<br>Your MariaDB connection id is 8<br>Server version: 5.5.65-MariaDB MariaDB Server<br><br>Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.<br><br>Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.<br><br>MariaDB [(none)]&gt; create database zabbix character set utf8 collate utf8_bin; ##创建zabbix数据库 <br>Query OK, 1 row affected (0.00 sec)<br><br>MariaDB [(none)]&gt; grant all privileges on zabbix.* to zabbix@localhost identified by &#x27;zabbix&#x27;; ##创建数据库管理用户<br>Query OK, 0 rows affected (0.00 sec)<br><br>MariaDB [(none)]&gt; quit<br>Bye<br>[root@zabbix ~]# zcat /usr/share/doc/zabbix-server-mysql-4.0.20/create.sql.gz  | mysql -uzabbix -pzabbix zabbix  ##将数据表写入到zabbix库中 <br></code></pre></td></tr></table></figure><h3 id="6-启动zabbix和相关服务"><a href="#6-启动zabbix和相关服务" class="headerlink" title="6.启动zabbix和相关服务"></a><strong>6.启动zabbix和相关服务</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">[root@zabbix ~]# systemctl start zabbix-server.service httpd mariadb.service<br>[root@zabbix ~]# systemctl enable zabbix-server.service httpd mariadb.service<br>Created symlink from /etc/systemd/system/multi-user.target.wants/zabbix-server.service to /usr/lib/systemd/system/zabbix-server.service.<br>Created symlink from /etc/systemd/system/multi-user.target.wants/httpd.service to /usr/lib/systemd/system/httpd.service.<br>Created symlink from /etc/systemd/system/multi-user.target.wants/mariadb.service to /usr/lib/systemd/system/mariadb.service.<br></code></pre></td></tr></table></figure><h3 id="7-登录zabbix的web界面-进行初始化"><a href="#7-登录zabbix的web界面-进行初始化" class="headerlink" title="7.登录zabbix的web界面,进行初始化"></a><strong>7.登录zabbix的web界面,进行初始化</strong></h3><p>初始化地址<code>http://172.16.210.56/zabbix/setup.php</code></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-160e98e5bf721e0979aa9bbeb64d7b7e_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>点击Next step</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-71fce4f731838438d189e61cd55b68ec_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>检查php的一些变量条件,如果没有报错的信息可以点击next step</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-fdb4e9ccc996dbc8789ceaa18ea0a25e_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>填写好对应的数据库密码和帐号点击Next step</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-488f438cee82a6a01996b12caea8de80_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>设置主机和端口还有监控页面名字,然后点击Next step</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-598025c168ac40187beebd5ca460d0f9_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>确认信息.然后点击Next step</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-0c4ba2ae16bf8ae50b7e54452865f46c_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>点击Finish</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-f6e3cb68936d13e338b516a6c4a54c08_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>帐号Admin 密码zabbix ,再点Sign in</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-850ef2bba3e63219c70716630bda7f4b_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>登录成功。</p><h3 id="8-更改zabbix界面语言为中文"><a href="#8-更改zabbix界面语言为中文" class="headerlink" title="8.更改zabbix界面语言为中文"></a><strong>8.更改zabbix界面语言为中文</strong></h3><p>点击右上角的小人</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-dcb2f642852197166b899715332e5d8b_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>选择Chinese</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-a19ce264eabac43e682f05d89af2cf27_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>再点击update</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-79bf33489971658116da0c98c5fe7556_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>更改成功!</p><blockquote><p><em>来自：简书，作者：南南宫问天</em><br><em>链接：</em><a href="https://link.zhihu.com/?target=https://www.jianshu.com/p/7d798423ec58">https://www.jianshu.com/p/7d798423e</a></p></blockquote><h1 id="2·-zabbix—Web页面介绍"><a href="#2·-zabbix—Web页面介绍" class="headerlink" title="2· zabbix—Web页面介绍"></a>2· zabbix—Web页面介绍</h1><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020162844966.png" srcset="/img/loading.gif" lazyload alt="image-20221020162844966"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163105689.png" srcset="/img/loading.gif" lazyload alt="image-20221020163105689"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163043300.png" srcset="/img/loading.gif" lazyload alt="image-20221020163043300"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163704645.png" srcset="/img/loading.gif" lazyload alt="image-20221020163704645"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163553259.png" srcset="/img/loading.gif" lazyload alt="image-20221020163553259"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020163842811.png" srcset="/img/loading.gif" lazyload alt="image-20221020163842811"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020164008261.png" srcset="/img/loading.gif" lazyload alt="image-20221020164008261"></p><h1 id="Zabbix-basic-use-基本使用"><a href="#Zabbix-basic-use-基本使用" class="headerlink" title="Zabbix basic use 基本使用"></a>Zabbix basic use 基本使用</h1><h2 id="1·自动发现"><a href="#1·自动发现" class="headerlink" title="1·自动发现"></a>1·自动发现</h2><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bat">主机只要装zabbix-client<br><br>配置上zabbix-server地址<br><br>主机只要装zabbix-client（启动后）自动纳入zabix-server监控范围<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020164521788.png" srcset="/img/loading.gif" lazyload alt="image-20221020164521788"></p><h3 id="1·check-检查主机有没有重复-以及相关的配置"><a href="#1·check-检查主机有没有重复-以及相关的配置" class="headerlink" title="1·			check-检查主机有没有重复-以及相关的配置"></a>1· check-检查主机有没有重复-以及相关的配置</h3><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020164904970.png" srcset="/img/loading.gif" lazyload alt="image-20221020164904970"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020165355830.png" srcset="/img/loading.gif" lazyload alt="image-20221020165355830"></p><p>可以筛选与禁用</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020165423976.png" srcset="/img/loading.gif" lazyload alt="image-20221020165423976"></p><h2 id="2·自动报警"><a href="#2·自动报警" class="headerlink" title="2·自动报警"></a>2·自动报警</h2><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020165521357.png" srcset="/img/loading.gif" lazyload alt="image-20221020165521357"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020173936029.png" srcset="/img/loading.gif" lazyload alt="image-20221020173936029"></p><h4 id="2·1报警条件设置"><a href="#2·1报警条件设置" class="headerlink" title="2·1	报警条件设置"></a>2·1	报警条件设置</h4><h5 id="Configuration—Actions-add"><a href="#Configuration—Actions-add" class="headerlink" title="Configuration—Actions-add"></a>Configuration—Actions-add</h5><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020174926840.png" srcset="/img/loading.gif" lazyload alt="image-20221020174926840"></p><h5 id="operation"><a href="#operation" class="headerlink" title="operation"></a>operation</h5><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020174800021.png" srcset="/img/loading.gif" lazyload alt="image-20221020174800021"></p><h5 id="ADD-new"><a href="#ADD-new" class="headerlink" title="ADD-new"></a>ADD-new</h5><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020175401526.png" srcset="/img/loading.gif" lazyload alt="image-20221020175401526"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020175953803.png" srcset="/img/loading.gif" lazyload alt="image-20221020175953803"></p><h5 id="修改单独邮件报警"><a href="#修改单独邮件报警" class="headerlink" title="修改单独邮件报警"></a>修改单独邮件报警</h5><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180709635.png" srcset="/img/loading.gif" lazyload alt="image-20221020180709635"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180938422.png" srcset="/img/loading.gif" lazyload alt="image-20221020180938422"></p><h4 id="2·2配置发送报警-邮件短信等"><a href="#2·2配置发送报警-邮件短信等" class="headerlink" title="2·2		配置发送报警-邮件短信等"></a>2·2 配置发送报警-邮件短信等</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180248618.png" srcset="/img/loading.gif" lazyload alt="image-20221020180248618"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180431960.png" srcset="/img/loading.gif" lazyload alt="image-20221020180431960"></p><p>已经单独设置邮件报警之后：</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020180843274.png" srcset="/img/loading.gif" lazyload alt="image-20221020180843274"></p><h4 id="2·3·zabbix接受报警"><a href="#2·3·zabbix接受报警" class="headerlink" title="2·3·		zabbix接受报警"></a>2·3· zabbix接受报警</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020181434307.png" srcset="/img/loading.gif" lazyload alt="image-20221020181434307"></p><h5 id="用户-接受的邮箱手机号配置"><a href="#用户-接受的邮箱手机号配置" class="headerlink" title="用户-接受的邮箱手机号配置"></a>用户-接受的邮箱手机号配置</h5><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020181530914.png" srcset="/img/loading.gif" lazyload alt="image-20221020181530914"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020181839304.png" srcset="/img/loading.gif" lazyload alt="image-20221020181839304"></p><h4 id="2·4图标配置折线图-磁盘"><a href="#2·4图标配置折线图-磁盘" class="headerlink" title="2·4		图标配置折线图-磁盘"></a>2·4 图标配置折线图-磁盘</h4><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020183048198.png" srcset="/img/loading.gif" lazyload alt="image-20221020183048198"></p><p>可以筛选组的</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020183550191.png" srcset="/img/loading.gif" lazyload alt="image-20221020183550191"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020183626238.png" srcset="/img/loading.gif" lazyload alt="image-20221020183626238"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020183711905.png" srcset="/img/loading.gif" lazyload alt="image-20221020183711905"></p><p>重启</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo -i<br><span class="hljs-regexp">/etc/i</span>nit.d/zabbix-agent restart<br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020195205307.png" srcset="/img/loading.gif" lazyload alt="image-20221020195205307"></p><h6 id="聚合图标管理"><a href="#聚合图标管理" class="headerlink" title="聚合图标管理"></a>聚合图标管理</h6><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020200530263.png" srcset="/img/loading.gif" lazyload alt="image-20221020200530263"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020201234099.png" srcset="/img/loading.gif" lazyload alt="image-20221020201234099"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20221020201258296.png" srcset="/img/loading.gif" lazyload alt="image-20221020201258296"></p><h3 id="3-96-zabbix管理"><a href="#3-96-zabbix管理" class="headerlink" title="3&#96;	zabbix管理"></a>3&#96;	zabbix管理</h3></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%8A%80%E6%9C%AF/" class="category-chain-item">技术</a></span></span></div></div><div class="license-box my-3"><div class="license-title"><div>运维知识集合</div><div>http://example.com/2022/10/18/运维知识集合/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>MuyanGit</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2022年10月18日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2022/10/20/Centos8%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE/" title="Centos8初始化配置"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Centos8初始化配置</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2022/10/17/excel%E8%87%AA%E5%8A%A8%E5%8C%96/" title="excel自动化"><span class="hidden-mobile">excel自动化</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",function(){Fluid.utils.createScript("https://lib.baomitu.com/valine/1.4.17/Valine.min.js",function(){var i=Object.assign({appId:"wrsI8VLOqU4aU1Bf7ax2ybPp-MdYXbMMI",appKey:"AEijWlUoG3pMbyJKxexAmJtN",path:"window.location.pathname",placeholder:null,avatar:"retro",meta:["nick","mail","link"],requiredFields:[],pageSize:10,lang:"zh-CN",highlight:!1,recordIP:!1,serverURLs:"",emojiCDN:null,emojiMaps:null,enableQQ:!1},{el:"#valine",path:window.location.pathname});new Valine(i),Fluid.utils.waitElementVisible("#valine .vcontent",()=>{var i="#valine .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)})})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t){var e=Fluid.plugins.typing,t=t.getElementById("subtitle");t&&e&&e(t.getAttribute("data-typed-text"))}((window,document))</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-t}),0<o.find(".toc-list-item").length&&o.css("visibility","visible"))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var o,n=[];for(o of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))n.push(".markdown-body > "+o.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(n.join(", "))})</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script defer src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>