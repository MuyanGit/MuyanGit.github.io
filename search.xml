<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>  2021年 github被墙最新hosts-每日更新   </title>
    <url>/2021/09/09/cl449bvuu0001b4bh5hhy9gx3/</url>
    <content><![CDATA[<h2 id="（2）如何修改hosts"><a href="#（2）如何修改hosts" class="headerlink" title="（2）如何修改hosts"></a>（2）如何修改hosts</h2><p>那么如何修改hosts呢？下面将介绍windows和Mac系统的设置方法：</p>
<p><strong>windows：</strong></p>
<p>1、文本编辑器“管理员权限”打开 C:\Windows\System32\drivers\etc\hosts 文件，新增一行，复制上面每日更新的内容并保存即可。</p>
<p>2、命令行执行 ipconfig /flushdns 刷新 dns，或者重启电脑。</p>
<p><strong>mac（苹果PC系统）：</strong></p>
<p>1、文本编辑器打开 /etc/hosts 文件，新增一行，同上，复制上面每日更新的hosts内容即可。</p>
<p>2、 命令行执行 sudo killall -HUP mDNSResponder ，或者重启电脑。</p>
<h2 id="（3）常见问题"><a href="#（3）常见问题" class="headerlink" title="（3）常见问题"></a>（3）常见问题</h2><p>当然，<strong>ip和域名并非一直都绑定不变</strong>，<strong>一个ip可以绑定多个域名，一个域名也可以设置多个IP。</strong>有一些ip在不同地方还是无法访问！所以还是需要检查下资源链接。是否都加载成功：</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090410856.png" alt="img"></p>
<p>可以看到 <code>api.github.com</code> 这个没有设置ip，访问就需要3s才加载完成。所以设置就好了。。。</p>
<h2 id="（3）备注"><a href="#（3）备注" class="headerlink" title="（3）备注"></a>（3）备注</h2><p>host方法并非一定有效，据我所知github采用的是 <strong>亚马逊的服务器</strong>，而亚马逊和google服务器由于某些总所周知的原因，分布在海外，很多都延时很大，多个数据中心访问延时也不同</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>   16.如何在csv文件中跳过第一行的python代码  </title>
    <url>/2021/10/25/cl449bvuz0003b4bhbsvm81h1/</url>
    <content><![CDATA[<h1 id="txt，xls，xlsx，csv操作"><a href="#txt，xls，xlsx，csv操作" class="headerlink" title="txt，xls，xlsx，csv操作"></a>txt，xls，xlsx，csv操作</h1><h2 id="1·-xlwt-保存的xlsx无法直接office打开，但是wps可以打开，"><a href="#1·-xlwt-保存的xlsx无法直接office打开，但是wps可以打开，" class="headerlink" title="1·    xlwt 保存的xlsx无法直接office打开，但是wps可以打开，"></a>1·    xlwt 保存的xlsx无法直接office打开，但是wps可以打开，</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">xlsx 修改格式为xls</span><br></pre></td></tr></table></figure>







<h2 id="2·如何在csv文件中跳过第一行的python代码"><a href="#2·如何在csv文件中跳过第一行的python代码" class="headerlink" title="2·如何在csv文件中跳过第一行的python代码"></a>2·如何在csv文件中跳过第一行的python代码</h2><p><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" alt="img"></p>
<p><a href="https://blog.csdn.net/weixin_44037569">今天加油鸭�</a> 2021-06-10 18:16:07 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png" alt="img"> 76 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png" alt="img"> 收藏</p>
<p>文章标签： <a href="https://www.csdn.net/tags/MtjaQg4sNDk0LWJsb2cO0O0O.html">python</a> <a href="https://www.csdn.net/tags/MtTaYg5sNzg2NS1ibG9n.html">大数据</a> <a href="https://www.csdn.net/tags/MtTaEg3sNzIxMjgtYmxvZwO0O0OO0O0O.html">人工智能</a></p>
<p>版权</p>
<p>我来了我来了，我带着问题回来了~</p>
<p><img src="https://img-blog.csdnimg.cn/20210610181155962.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAzNzU2OQ==,size_16,color_FFFFFF,t_70" alt="img"></p>
<p>宝们有没有在日常敲代码中发现索引值和数据对不上的问题，产生这个问题的原因是你加了header，它在计算机数据识别中占了一行位置，那么我们应该如何给它变回来呢？</p>
<p>我之前尝试过header=None,index=0，还有巴拉巴拉一大堆都不好使，这里我给大家看一行代码，你只需要在我框框的指定位置添加，名字什么自己对应上就可以完美解决~</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110252312368.png" alt="img"></p>
<p>就是这里next(reader)，别看它不起眼，但是真的很好用，前后你们那个名称自己对应一下，一定要改成自己的</p>
<p><img src="https://img-blog.csdnimg.cn/20210610181710208.png" alt="img"></p>
<p>OK啦完美解决，已经跳过第一行啦嘿嘿嘿~</p>
<h3 id="备选方案"><a href="#备选方案" class="headerlink" title="备选方案"></a>备选方案</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> islice</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;表格/2019-04-01.csv&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> read_file:</span><br><span class="line">    reader = csv.reader(read_file)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> islice(reader, <span class="number">1</span>, <span class="literal">None</span>):</span><br><span class="line">        <span class="built_in">print</span>(row)</span><br></pre></td></tr></table></figure>



<p>前言</p>
<p>在做自动化测试时，需要将测试数据存放在excel表格中，读取数据的时候，我们只需要读取非表头的内容即可，那么如何跳过表头读取excel表格中的数据呢？</p>
<hr>
<p>在此，先将excel工作簿以及sheet表格进行封装</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> xlrd</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReadExcel</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, filename</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        打开文件</span></span><br><span class="line"><span class="string">        :param filename: 文件路径</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.wb = xlrd.open_workbook(filename=filename)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">open_sheet</span>(<span class="params">self, sheet_name</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        根据表格名称打开表格</span></span><br><span class="line"><span class="string">        :param sheet_name:sheet表格名称</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> self.wb.sheet_by_name(sheet_name=sheet_name)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">operate_sheet</span>(<span class="params">self, sheet_name</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        这里就是读取excel表格的函数，通过下面三种方法读取</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line"><span class="number">123456789101112131415161718192021</span></span><br></pre></td></tr></table></figure>

<p><strong>下面将通过三种方法实现excel跳过表头读取数据（operate_sheet函数）</strong></p>
<h4 id="一、方法一：普通方法"><a href="#一、方法一：普通方法" class="headerlink" title="一、方法一：普通方法"></a>一、方法一：普通方法</h4><p>在读取表格时，条件判断：当行数对应索引为0（索引从0开始，0表示第一行）时，跳过<br>代码如下（示例）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">operate_sheet</span>(<span class="params">self, sheet_name</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        操作表格</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        sheet = self.open_sheet(sheet_name=sheet_name)</span><br><span class="line"> 		<span class="comment"># 方法一：（此方法不推荐，效率太低）</span></span><br><span class="line">        <span class="comment"># 2.跳过第一行读取表格</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(row_num):</span><br><span class="line">            <span class="keyword">if</span> i==<span class="number">0</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="built_in">print</span>(sheet.row_values(i))</span><br><span class="line"><span class="number">12345678910111213</span></span><br></pre></td></tr></table></figure>

<p>调用operate_sheet函数：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    re = ReadExcel(<span class="string">&quot;ZHZX.xlsx&quot;</span>) 	<span class="comment"># 参数传入你的工作簿（excel文件）路径</span></span><br><span class="line">    re.operate_sheet(<span class="string">&quot;Sheet_zhzx&quot;</span>)	<span class="comment"># 传入你的sheet表名字</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p>后续两种方法的调用方法同上，不再展示</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110252316817.png" alt="在这里插入图片描述"></p>
<h4 id="二、方法二：用range函数"><a href="#二、方法二：用range函数" class="headerlink" title="二、方法二：用range函数"></a>二、方法二：用range函数</h4><p>range()函数用法参考菜鸟教程：<a href="https://www.runoob.com/python3/python3-func-range.html">pyhton3 range()函数用法</a></p>
<p>代码如下（示例）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">operate_sheet</span>(<span class="params">self, sheet_name</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        操作表格</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        sheet = self.open_sheet(sheet_name=sheet_name)</span><br><span class="line">        <span class="comment"># 方法二：</span></span><br><span class="line">        <span class="comment"># 2.跳过第一行读取表格（推荐）</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,row_num):</span><br><span class="line">           <span class="built_in">print</span>(sheet.row_values(i))</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<h4 id="三、方法三：用迭代器切片"><a href="#三、方法三：用迭代器切片" class="headerlink" title="三、方法三：用迭代器切片"></a>三、方法三：用迭代器切片</h4><p>需导入islice包</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> islice</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>代码如下（示例）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">operate_sheet</span>(<span class="params">self, sheet_name</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        操作表格</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        sheet = self.open_sheet(sheet_name=sheet_name)</span><br><span class="line">        <span class="comment"># 方法三：</span></span><br><span class="line">        <span class="comment"># 构造迭代器（推荐）</span></span><br><span class="line">        iter_row_num = <span class="built_in">iter</span>(<span class="built_in">range</span>(row_num))</span><br><span class="line">        <span class="comment"># 2.跳过第一行读取表格</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> islice(iter_row_num,<span class="number">1</span>,<span class="literal">None</span>):</span><br><span class="line">            <span class="built_in">print</span>(sheet.row_values(i))</span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<hr>
<p>总结</p>
<h4 id="pandas"><a href="#pandas" class="headerlink" title="pandas"></a>pandas</h4><p><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html">https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html</a></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>5款最佳正则表达式编辑调试器</title>
    <url>/2021/09/09/cl449bvv40006b4bheb81ce9b/</url>
    <content><![CDATA[<p><a href="https://www.techug.com/">程序师</a></p>
<ul>
<li><a href="http://www.techug.com/feed">http://www.techug.com/feed</a>)</li>
</ul>
<h1 id="5款最佳正则表达式编辑调试器-技术胖推荐"><a href="#5款最佳正则表达式编辑调试器-技术胖推荐" class="headerlink" title="5款最佳正则表达式编辑调试器+技术胖推荐"></a>5款最佳正则表达式编辑调试器+技术胖推荐</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">程序员常用</span><br><span class="line">[置顶]</span><br><span class="line">1. CodeIf ：                     </span><br><span class="line">https://unbug.github.io/codelf</span><br><span class="line">2. DocsChina ：            </span><br><span class="line">https://www.docschina.org</span><br><span class="line">3. any-rule：                 </span><br><span class="line">http://github.com/any86/any-rule</span><br><span class="line">4. tool.lu：                      </span><br><span class="line">https://tool.lu</span><br><span class="line">5. baomitu：                 </span><br><span class="line">https://cdn.baomitu.com</span><br><span class="line">6. typora：                      </span><br><span class="line">https://www.typora.io</span><br><span class="line">7. 549.tv：                       </span><br><span class="line">http://www.549.tv</span><br><span class="line">8. 硬件安全投屏器：    明基应答秀WDC10，无需网络更稳定 </span><br><span class="line">收起</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090247124.png" alt="image-20210909024717987"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090247949.png" alt="image-20210909024703806"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090245007.png" alt="image-20210909024502884"></p>
<p><em>346</em><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090244647.png" alt="image-20210909024410457"></p>
<p>分享<img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090245717.png" alt="image-20210909024531519"></p>
<p>正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本。</p>
<p>本文推荐五款可以可视化操作的正则表达式编辑器，这些工具可以很好地帮助开发者学习正则表达式知识，并且提升开发技能。</p>
<h2 id="1-Regulex"><a href="#1-Regulex" class="headerlink" title="1.Regulex"></a><strong>1.<a href="http://jex.im/regulex/">Regulex</a></strong></h2><p>Regulex是一个JavaScript正则表达式可视化工具，由纯JavaScript实现，源码托管在<a href="https://github.com/JexCheng/regulex">Github</a>上。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090241484.jpeg" alt="img"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> parse = <span class="built_in">require</span>(<span class="string">&#x27;regulex/parse&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/vars+([a-zA-Z_]w*);/</span> ;</span><br><span class="line"><span class="built_in">console</span>.log(parse(re));</span><br></pre></td></tr></table></figure>

<h2 id="2-Rubular"><a href="#2-Rubular" class="headerlink" title="2.Rubular"></a><strong>2.<a href="http://rubular.com/r/xfQHocREGj">Rubular</a></strong></h2><p>Rubular是一个Ruby正则表达式编辑器，由Michael Lovitt开发实现。</p>
<p><img src="https://cdn.jiler.cn/techug/uploads/2014/11/5476d96a1da66.jpg" alt="img"></p>
<h2 id="3-PyRegex"><a href="#3-PyRegex" class="headerlink" title="3.PyRegex"></a><strong>3.<a href="http://www.pyregex.com/">PyRegex</a></strong></h2><p>Pyregex是一个开源的Python正则表达式编辑器，开源协议为GNU General Public License v2，源码托管在<a href="https://github.com/rscarvalho/pyregex">Github</a>上。</p>
<p><img src="https://cdn.jiler.cn/techug/uploads/2014/11/5476dabc494a3.jpg" alt="img"></p>
<h2 id="4-Regexper"><a href="#4-Regexper" class="headerlink" title="4.Regexper"></a><strong>4.<a href="http://www.regexper.com/">Regexper</a></strong></h2><p>Regexper是由Jeff Avallone开发的一款JavaScript正则表达式可视化工具，源码托管在<a href="https://github.com/javallone/regexper">Github</a>上。它能够让正则表达式字符串以 Railroad 形式图形化，便于阅读和理解。同时推荐一款 JavaScript 正则在线测试工具——<a href="http://regexpal.com/">Regexpal</a>，可以和 Regexper 配合使用。</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAADICAMAAADxy0fQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF2PevAAAAtBaikwAAAGdJREFUeNrswQENAAAAwqD3T20PBxQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPyaAAMAOVcAAV8dL/sAAAAASUVORK5CYII=" alt="img"></p>
<h2 id="5-Debuggex"><a href="#5-Debuggex" class="headerlink" title="5.Debuggex"></a><strong>5.<a href="https://www.debuggex.com/">Debuggex</a></strong></h2><p>Debuggex是一个测试正则表达式的Web应用，它支持JavaScript、Python以及PCRE。</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAADICAMAAADxy0fQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF2PevAAAAtBaikwAAAGdJREFUeNrswQENAAAAwqD3T20PBxQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPyaAAMAOVcAAV8dL/sAAAAASUVORK5CYII=" alt="img"></p>
<h5 id="分享这篇文章："><a href="#分享这篇文章：" class="headerlink" title="分享这篇文章："></a>分享这篇文章：</h5><h5 id="相关文章：http-beian-miit-gov-cn"><a href="#相关文章：http-beian-miit-gov-cn" class="headerlink" title="相关文章：http://beian.miit.gov.cn/)"></a>相关文章：<a href="http://beian.miit.gov.cn/">http://beian.miit.gov.cn/</a>)</h5>]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>Hexo-Theme-Sakura</title>
    <url>/2018/12/12/cl449bvv70008b4bhhbin5soq/</url>
    <content><![CDATA[<p>hexo-theme-sakura主题 <a href="https://github.com/honjun/hexo-theme-sakura/blob/master/README.md">English document</a></p>
<p>基于WordPress主题<a href="https://github.com/mashirozx/Sakura/">Sakura</a>修改成Hexo的主题。</p>
<p><a href="https://sakura.hojun.cn/">demo预览</a></p>
<p>正在开发中……</p>
<p><img src="https://wx3.sinaimg.cn/large/006bYVyvly1g069tuf42oj312w0m8ndq.jpg"></p>
<h2 id="交流群"><a href="#交流群" class="headerlink" title="交流群"></a>交流群</h2><p>若你是使用者，加群QQ: 801511924</p>
<p>若你是创作者，加群QQ: 194472590</p>
<h2 id="主题特性"><a href="#主题特性" class="headerlink" title="主题特性"></a>主题特性</h2><ul>
<li>首页大屏视频</li>
<li>首页随机封面</li>
<li>图片懒加载</li>
<li>valine评论</li>
<li>fancy-box相册</li>
<li>pjax支持，音乐不间断</li>
<li>aplayer音乐播放器</li>
<li>多级导航菜单（按现在大部分hexo主题来说，这也算是个特性了）</li>
</ul>
<h2 id="赞赏作者"><a href="#赞赏作者" class="headerlink" title="赞赏作者"></a>赞赏作者</h2><p>如果喜欢hexo-theme-sakura主题，可以考虑资助一下哦~非常感激！</p>
<p><a href="https://www.paypal.me/hojuncn">paypal</a> | <a href="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/donate/AliPayQR.jpg">Alipay 支付宝</a> | <a href="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/donate/WeChanSQ.jpg">WeChat Pay 微信支付</a></p>
<h2 id="未完善的使用教程"><a href="#未完善的使用教程" class="headerlink" title="未完善的使用教程"></a>未完善的使用教程</h2><p>那啥？老实说我目前也不是很有条理233333333~</p>
<h2 id="1、主题下载安装"><a href="#1、主题下载安装" class="headerlink" title="1、主题下载安装"></a>1、主题下载安装</h2><p><a href="https://github.com/honjun/hexo-theme-sakura">hexo-theme-sakura</a>建议下载压缩包格式，因为除了主题内容还有些source的配置对新手来说比较太麻烦，直接下载解压就省去这些麻烦咯。</p>
<p>下载好后解压到博客根目录（不是主题目录哦，重复的选择替换）。接着在命令行（cmd、bash）运行<code>npm i</code>安装依赖。</p>
<h2 id="2、主题配置"><a href="#2、主题配置" class="headerlink" title="2、主题配置"></a>2、主题配置</h2><h3 id="博客根目录下的-config配置"><a href="#博客根目录下的-config配置" class="headerlink" title="博客根目录下的_config配置"></a>博客根目录下的_config配置</h3><p>站点</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">你的站点名</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">站点简介</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">作者名</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-cn</span></span><br><span class="line"><span class="attr">timezone:</span></span><br></pre></td></tr></table></figure>

<p>部署</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> </span><br><span class="line">    <span class="attr">github:</span> <span class="string">你的github仓库地址</span></span><br><span class="line">    <span class="comment"># coding: 你的coding仓库地址</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>

<p>备份 （使用hexo b发布备份到远程仓库）</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">backup:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">backup</span> <span class="string">my</span> <span class="string">blog</span> <span class="string">of</span> <span class="string">https://honjun.github.io/</span></span><br><span class="line">  <span class="attr">repository:</span></span><br><span class="line">    <span class="comment"># 你的github仓库地址,备份分支名  （建议新建backup分支）</span></span><br><span class="line">    <span class="attr">github:</span> <span class="string">https://github.com/honjun/honjun.github.io.git,backup</span></span><br><span class="line">    <span class="comment"># coding: https://git.coding.net/hojun/hojun.git,backup</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="主题目录下的-config配置"><a href="#主题目录下的-config配置" class="headerlink" title="主题目录下的_config配置"></a>主题目录下的_config配置</h3><p>其中标明【改】的是需要修改部门，标明【选】是可改可不改，标明【非】是不用改的部分</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># site name</span></span><br><span class="line"><span class="comment"># 站点名 【改】</span></span><br><span class="line"><span class="attr">prefixName:</span> <span class="string">さくら荘その</span></span><br><span class="line"><span class="attr">siteName:</span> <span class="string">MuyanGit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># favicon and site master avatar</span></span><br><span class="line"><span class="comment"># 站点的favicon和头像 输入图片路径（下面的配置是都是cdn的相对路径，没有cdn请填写完整路径，建议使用jsdeliver搭建一个cdn啦，先去下载我的cdn替换下图片就行了，简单方便~）【改】</span></span><br><span class="line"><span class="attr">favicon:</span> <span class="string">/images/favicon.ico</span></span><br><span class="line"><span class="attr">avatar:</span> <span class="string">/img/custom/avatar.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 站点url 【改】</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://sakura.hojun.cn</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 站点介绍（或者说是个人签名）【改】</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">Live</span> <span class="string">your</span> <span class="string">life</span> <span class="string">with</span> <span class="string">passion!</span> <span class="string">With</span> <span class="string">some</span> <span class="string">drive!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 站点cdn，没有就为空 【改】  若是cdn为空，一些图片地址就要填完整地址了，比如之前avatar就要填https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/avatar.jpg</span></span><br><span class="line"><span class="attr">cdn:</span> <span class="string">https://cdn.jsdelivr.net/gh/honjun/cdn@1.6</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启pjax 【选】</span></span><br><span class="line"><span class="attr">pjax:</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 站点首页的公告信息 【改】手机版的喇叭提示</span></span><br><span class="line"><span class="attr">notice:</span> <span class="string">hexo-Sakura主题已经开源，目前正在开发中...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 懒加载的加载中图片 【选】</span></span><br><span class="line"><span class="attr">lazyloadImg:</span> <span class="string">https://cdn.jsdelivr.net/gh/MuyanGit/CDN@1.5/img/loader/orange.progress-bar-stripe-loader.svg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 站点菜单配置 【选】</span></span><br><span class="line"><span class="attr">menus:</span></span><br><span class="line">  <span class="string">首页:</span> &#123; <span class="attr">path:</span> <span class="string">/</span>, <span class="attr">fa:</span> <span class="string">fa-fort-awesome</span> <span class="string">faa-shake</span> &#125;</span><br><span class="line">  <span class="string">归档:</span> &#123; <span class="attr">path:</span> <span class="string">/archives</span>, <span class="attr">fa:</span> <span class="string">fa-archive</span> <span class="string">faa-shake</span>, <span class="attr">submenus:</span> &#123; </span><br><span class="line">    <span class="string">技术:</span> &#123;<span class="attr">path:</span> <span class="string">/categories/技术/</span>, <span class="attr">fa:</span> <span class="string">fa-code</span> &#125;, </span><br><span class="line">    <span class="string">生活:</span> &#123;<span class="attr">path:</span> <span class="string">/categories/生活/</span>, <span class="attr">fa:</span> <span class="string">fa-file-text-o</span> &#125;, </span><br><span class="line">    <span class="string">资源:</span> &#123;<span class="attr">path:</span> <span class="string">/categories/资源/</span>, <span class="attr">fa:</span> <span class="string">fa-cloud-download</span> &#125;, </span><br><span class="line">    <span class="string">随想:</span> &#123;<span class="attr">path:</span> <span class="string">/categories/随想/</span>, <span class="attr">fa:</span> <span class="string">fa-commenting-o</span> &#125;,</span><br><span class="line">    <span class="string">转载:</span> &#123;<span class="attr">path:</span> <span class="string">/categories/转载/</span>, <span class="attr">fa:</span> <span class="string">fa-book</span> &#125;</span><br><span class="line">  &#125; &#125;</span><br><span class="line">  <span class="string">清单:</span> &#123; <span class="attr">path:</span> <span class="string">javascript:;</span>, <span class="attr">fa:</span> <span class="string">fa-list-ul</span> <span class="string">faa-vertical</span>, <span class="attr">submenus:</span> &#123; </span><br><span class="line">    <span class="string">书单:</span> &#123;<span class="attr">path:</span> <span class="string">/tags/悦读/</span>, <span class="attr">fa:</span> <span class="string">fa-th-list</span> <span class="string">faa-bounce</span> &#125;, </span><br><span class="line">    <span class="string">番组:</span> &#123;<span class="attr">path:</span> <span class="string">/bangumi/</span>, <span class="attr">fa:</span> <span class="string">fa-film</span> <span class="string">faa-vertical</span> &#125;, </span><br><span class="line">    <span class="string">歌单:</span> &#123;<span class="attr">path:</span> <span class="string">/music/</span>, <span class="attr">fa:</span> <span class="string">fa-headphones</span> &#125;,</span><br><span class="line">    <span class="string">图集:</span> &#123;<span class="attr">path:</span> <span class="string">/tags/图集/</span>, <span class="attr">fa:</span> <span class="string">fa-photo</span> &#125;</span><br><span class="line">  &#125; &#125;</span><br><span class="line">  <span class="string">留言板:</span> &#123; <span class="attr">path:</span> <span class="string">/comment/</span>, <span class="attr">fa:</span> <span class="string">fa-pencil-square-o</span> <span class="string">faa-tada</span> &#125;</span><br><span class="line">  <span class="string">友人帐:</span> &#123; <span class="attr">path:</span> <span class="string">/links/</span>, <span class="attr">fa:</span> <span class="string">fa-link</span> <span class="string">faa-shake</span> &#125;</span><br><span class="line">  <span class="string">赞赏:</span> &#123; <span class="attr">path:</span> <span class="string">/donate/</span>, <span class="attr">fa:</span> <span class="string">fa-heart</span> <span class="string">faa-pulse</span> &#125;</span><br><span class="line">  <span class="string">关于:</span> &#123; <span class="attr">path:</span> <span class="string">/</span>, <span class="attr">fa:</span> <span class="string">fa-leaf</span> <span class="string">faa-wrench</span> , <span class="attr">submenus:</span> &#123; </span><br><span class="line">    <span class="string">我？:</span> &#123;<span class="attr">path:</span> <span class="string">/about/</span>, <span class="attr">fa:</span> <span class="string">fa-meetup</span>&#125;, </span><br><span class="line">    <span class="string">主题:</span> &#123;<span class="attr">path:</span> <span class="string">/theme-sakura/</span>, <span class="attr">fa:</span> <span class="string">iconfont</span> <span class="string">icon-sakura</span> &#125;,</span><br><span class="line">    <span class="attr">Lab:</span> &#123;<span class="attr">path:</span> <span class="string">/lab/</span>, <span class="attr">fa:</span> <span class="string">fa-cogs</span> &#125;,</span><br><span class="line">  &#125; &#125;</span><br><span class="line">  <span class="string">客户端:</span> &#123; <span class="attr">path:</span> <span class="string">/client/</span>, <span class="attr">fa:</span> <span class="string">fa-android</span> <span class="string">faa-vertical</span> &#125;</span><br><span class="line">  <span class="attr">RSS:</span> &#123; <span class="attr">path:</span> <span class="string">/atom.xml</span>, <span class="attr">fa:</span> <span class="string">fa-rss</span> <span class="string">faa-pulse</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Home page sort type: -1: newer first，1: older first. 【非】</span></span><br><span class="line"><span class="attr">homePageSortType:</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Home page article shown number) 【非】</span></span><br><span class="line"><span class="attr">homeArticleShown:</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 背景图片 【选】</span></span><br><span class="line"><span class="attr">bgn:</span> <span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># startdash面板 url, title, desc img 【改】</span></span><br><span class="line"><span class="attr">startdash:</span> </span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">url:</span> <span class="string">/theme-sakura/</span>, <span class="attr">title:</span> <span class="string">Sakura</span>, <span class="attr">desc:</span> <span class="string">本站</span> <span class="string">hexo</span> <span class="string">主题</span>, <span class="attr">img:</span> <span class="string">/img/startdash/sakura.md.png</span>&#125;</span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">url:</span> <span class="string">http://space.bilibili.com/271849279</span>, <span class="attr">title:</span> <span class="string">Bilibili</span>, <span class="attr">desc:</span> <span class="string">博主的b站视频</span>, <span class="attr">img:</span> <span class="string">/img/startdash/bilibili.jpg</span>&#125;</span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">url:</span> <span class="string">/</span>, <span class="attr">title:</span> <span class="string">hojun的万事屋</span>, <span class="attr">desc:</span> <span class="string">技术服务</span>, <span class="attr">img:</span> <span class="string">/img/startdash/wangshiwu.jpg</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># your site build time or founded date</span></span><br><span class="line"><span class="comment"># 你的站点建立日期 【改】</span></span><br><span class="line"><span class="attr">siteBuildingTime:</span> <span class="number">07</span><span class="string">/17/2018</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 社交按钮(social)  url, img PC端配置 【改】</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">github:</span> &#123;<span class="attr">url:</span> <span class="string">http://github.com/honjun</span>, <span class="attr">img:</span> <span class="string">/img/social/github.png</span>&#125;</span><br><span class="line">  <span class="attr">sina:</span> &#123;<span class="attr">url:</span> <span class="string">http://weibo.com/mashirozx?is_all=1</span>, <span class="attr">img:</span> <span class="string">/img/social/sina.png</span>&#125;</span><br><span class="line">  <span class="attr">wangyiyun:</span> &#123;<span class="attr">url:</span> <span class="string">http://weibo.com/mashirozx?is_all=1</span>, <span class="attr">img:</span> <span class="string">/img/social/wangyiyun.png</span>&#125;</span><br><span class="line">  <span class="attr">zhihu:</span> &#123;<span class="attr">url:</span> <span class="string">http://weibo.com/mashirozx?is_all=1</span>, <span class="attr">img:</span> <span class="string">/img/social/zhihu.png</span>&#125;</span><br><span class="line">  <span class="attr">email:</span> &#123;<span class="attr">url:</span> <span class="string">http://weibo.com/mashirozx?is_all=1</span>, <span class="attr">img:</span> <span class="string">/img/social/email.svg</span>&#125;</span><br><span class="line">  <span class="attr">wechat:</span> &#123;<span class="attr">url:</span> <span class="string">/#</span>, <span class="attr">qrcode:</span> <span class="string">/img/custom/wechat.jpg</span>, <span class="attr">img:</span> <span class="string">/img/social/wechat.png</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 社交按钮(msocial)  url, img 移动端配置 【改】</span></span><br><span class="line"><span class="attr">msocial:</span></span><br><span class="line">  <span class="attr">github:</span> &#123;<span class="attr">url:</span> <span class="string">http://github.com/honjun</span>, <span class="attr">fa:</span> <span class="string">fa-github</span>, <span class="attr">color:</span> <span class="number">333</span>&#125;</span><br><span class="line">  <span class="attr">weibo:</span> &#123;<span class="attr">url:</span> <span class="string">http://weibo.com/mashirozx?is_all=1</span>, <span class="attr">fa:</span> <span class="string">fa-weibo</span>, <span class="attr">color:</span> <span class="string">dd4b39</span>&#125;</span><br><span class="line">  <span class="attr">qq:</span> &#123;<span class="attr">url:</span> <span class="string">https://wpa.qq.com/msgrd?v=3&amp;uin=954655431&amp;site=qq&amp;menu=yes</span>, <span class="attr">fa:</span> <span class="string">fa-qq</span>, <span class="attr">color:</span> <span class="string">25c6fe</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 赞赏二维码（其中wechatSQ是赞赏单页面的赞赏码图片）【改】</span></span><br><span class="line"><span class="attr">donate:</span></span><br><span class="line">  <span class="attr">alipay:</span> <span class="string">/img/custom/donate/AliPayQR.jpg</span></span><br><span class="line">  <span class="attr">wechat:</span> <span class="string">/img/custom/donate/WeChanQR.jpg</span></span><br><span class="line">  <span class="attr">wechatSQ:</span> <span class="string">/img/custom/donate/WeChanSQ.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 首页视频地址为https://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Unbroken.mp4，配置如下 【改】</span></span><br><span class="line"><span class="attr">movies:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://cdn.jsdelivr.net/gh/honjun/hojun@1.2</span></span><br><span class="line">  <span class="comment"># 多个视频用逗号隔开，随机获取。支持的格式目前已知MP4,Flv。其他的可以试下，不保证有用</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">Unbroken.mp4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 左下角aplayer播放器配置 主要改id和server这两项，修改详见[aplayer文档] 【改】</span></span><br><span class="line"><span class="attr">aplayer:</span> </span><br><span class="line">  <span class="attr">id:</span> <span class="number">2660651585</span></span><br><span class="line">  <span class="attr">server:</span> <span class="string">netease</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">playlist</span></span><br><span class="line">  <span class="attr">fixed:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mini:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">autoplay:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">order:</span> <span class="string">random</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="string">auto</span></span><br><span class="line">  <span class="attr">volume:</span> <span class="number">0.7</span></span><br><span class="line">  <span class="attr">mutex:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Valine评论配置【改】</span></span><br><span class="line"><span class="attr">valine:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">v_appId:</span> <span class="string">GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz</span></span><br><span class="line"><span class="attr">v_appKey:</span> <span class="string">mgOpfzbkHYqU92CV4IDlAUHQ</span></span><br></pre></td></tr></table></figure>

<h2 id="分类页和标签页配置"><a href="#分类页和标签页配置" class="headerlink" title="分类页和标签页配置"></a>分类页和标签页配置</h2><h3 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h3><p><img src="https://ws3.sinaimg.cn/large/006bYVyvly1g07b0gucy9j31060jih76.jpg"></p>
<h3 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h3><p><img src="https://wx2.sinaimg.cn/large/006bYVyvly1g07azb2399j31040jgazs.jpg"></p>
<p>配置项在\themes\Sakura\languages\zh-cn.yml里。新增一个分类或标签最好加下哦，当然嫌麻烦可以直接使用一张默认图片（可以改主题或者直接把404图片替换下，征求下意见要不要给这个在配置文件中加个开关，可以issue或群里提出来），现在是没设置的话会使用那种倒立小狗404哦。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#category</span></span><br><span class="line"><span class="comment"># 按分类名创建</span></span><br><span class="line"><span class="string">技术:</span></span><br><span class="line">    <span class="comment">#中文标题</span></span><br><span class="line">    <span class="attr">zh:</span> <span class="string">野生技术协会</span> </span><br><span class="line">    <span class="comment"># 英文标题</span></span><br><span class="line">    <span class="attr">en:</span> <span class="string">Geek</span> <span class="string">–</span> <span class="string">Only</span> <span class="string">for</span> <span class="string">Love</span></span><br><span class="line">    <span class="comment"># 封面图片</span></span><br><span class="line">    <span class="attr">img:</span> <span class="string">https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/coding.jpg</span></span><br><span class="line"><span class="string">生活:</span></span><br><span class="line">    <span class="attr">zh:</span> <span class="string">生活</span></span><br><span class="line">    <span class="attr">en:</span> <span class="string">live</span></span><br><span class="line">    <span class="attr">img:</span> <span class="string">https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/writing.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#tag</span></span><br><span class="line"><span class="comment"># 标签名即是标题</span></span><br><span class="line"><span class="string">悦读:</span></span><br><span class="line">    <span class="comment"># 封面图片</span></span><br><span class="line">    <span class="attr">img:</span> <span class="string">https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/reading.jpg</span></span><br></pre></td></tr></table></figure>

<h2 id="单页面封面配置"><a href="#单页面封面配置" class="headerlink" title="单页面封面配置"></a>单页面封面配置</h2><p><img src="https://ws3.sinaimg.cn/large/006bYVyvly1g07b1pi619j31080jge4u.jpg"><br>如留言板页面页面，位于source下的comment下，打开index.md如下：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: comment</span><br><span class="line">date: 2018-12-20 23:13:48</span><br><span class="line">keywords: 留言板</span><br><span class="line">description: </span><br><span class="line">comments: true</span><br><span class="line"><span class="section"># 在这里配置单页面头部图片，自定义替换哦~</span></span><br><span class="line"><span class="section">photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/comment.jpg</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>


<h2 id="单页面配置"><a href="#单页面配置" class="headerlink" title="单页面配置"></a>单页面配置</h2><h3 id="番组计划页-（请直接在下载后的文件中改，下面的添加了注释可能会有些影响）"><a href="#番组计划页-（请直接在下载后的文件中改，下面的添加了注释可能会有些影响）" class="headerlink" title="番组计划页 （请直接在下载后的文件中改，下面的添加了注释可能会有些影响）"></a>番组计划页 （请直接在下载后的文件中改，下面的添加了注释可能会有些影响）</h3><p><img src="https://wx2.sinaimg.cn/large/006bYVyvly1g07b2gyx60j31090jjahj.jpg"></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">bangumi</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">bangumi</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019-02-10 21:32:48</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">description:</span></span><br><span class="line"><span class="attr">bangumis:</span></span><br><span class="line">  <span class="comment"># 番组图片</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg</span></span><br><span class="line">  <span class="comment"># 番组名</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">朝花夕誓——于离别之朝束起约定之花</span></span><br><span class="line">  <span class="comment"># 追番状态 （追番ing/已追完）</span></span><br><span class="line">    <span class="attr">status:</span> <span class="string">已追完</span></span><br><span class="line">  <span class="comment"># 追番进度</span></span><br><span class="line">    <span class="attr">progress:</span> <span class="number">100</span></span><br><span class="line">  <span class="comment"># 番剧日文名称</span></span><br><span class="line">    <span class="attr">jp:</span> <span class="string">さよならの朝に約束の花をかざろう</span></span><br><span class="line">  <span class="comment"># 放送时间</span></span><br><span class="line">    <span class="attr">time:</span> <span class="string">放送时间:</span> <span class="number">2018-02-24 </span><span class="string">SUN.</span></span><br><span class="line">  <span class="comment"># 番剧介绍</span></span><br><span class="line">    <span class="attr">desc:</span>  <span class="string">住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">朝花夕誓——于离别之朝束起约定之花</span></span><br><span class="line">    <span class="attr">status:</span> <span class="string">已追完</span></span><br><span class="line">    <span class="attr">progress:</span> <span class="number">50</span></span><br><span class="line">    <span class="attr">jp:</span> <span class="string">さよならの朝に約束の花をかざろう</span></span><br><span class="line">    <span class="attr">time:</span> <span class="string">放送时间:</span> <span class="number">2018-02-24 </span><span class="string">SUN.</span></span><br><span class="line">    <span class="attr">desc:</span> <span class="string">住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<h3 id="友链页-（请直接在下载后的文件中改，下面的添加了注释可能会有些影响）"><a href="#友链页-（请直接在下载后的文件中改，下面的添加了注释可能会有些影响）" class="headerlink" title="友链页 （请直接在下载后的文件中改，下面的添加了注释可能会有些影响）"></a>友链页 （请直接在下载后的文件中改，下面的添加了注释可能会有些影响）</h3><p><img src="https://ws3.sinaimg.cn/large/006bYVyvly1g07b39tleej31080jhjv1.jpg"></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">links</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">links</span></span><br><span class="line"><span class="comment"># 创建日期，可以改下</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2018-12-19 23:11:06</span> </span><br><span class="line"><span class="comment"># 图片上的标题，自定义修改</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">友人帐</span> </span><br><span class="line"><span class="attr">description:</span> </span><br><span class="line"><span class="comment"># true/false 开启/关闭评论</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">true</span> </span><br><span class="line"><span class="comment"># 页面头部图片，自定义修改</span></span><br><span class="line"><span class="attr">photos:</span> <span class="string">https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/links.jpg</span> </span><br><span class="line"><span class="comment"># 友链配置</span></span><br><span class="line"><span class="attr">links:</span> </span><br><span class="line">  <span class="comment"># 类型分组</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">group:</span> <span class="string">个人项目</span></span><br><span class="line">    <span class="comment"># 类型简介</span></span><br><span class="line">    <span class="attr">desc:</span> <span class="string">充分说明这家伙是条咸鱼</span> <span class="string">&lt;</span> <span class="string">(￣︶￣)&gt;</span></span><br><span class="line">    <span class="attr">items:</span></span><br><span class="line">    <span class="comment"># 友链链接</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">https://shino.cc/fgvf</span></span><br><span class="line">    <span class="comment"># 友链头像</span></span><br><span class="line">      <span class="attr">img:</span> <span class="string">https://cloud.moezx.cc/Picture/svg/landscape/fields.svg</span></span><br><span class="line">    <span class="comment"># 友链站点名</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">Google</span></span><br><span class="line">    <span class="comment"># 友链介绍  下面雷同</span></span><br><span class="line">      <span class="attr">desc:</span> <span class="string">Google</span> <span class="string">镜像</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">https://shino.cc/fgvf</span></span><br><span class="line">      <span class="attr">img:</span> <span class="string">https://cloud.moezx.cc/Picture/svg/landscape/fields.svg</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">Google</span></span><br><span class="line">      <span class="attr">desc:</span> <span class="string">Google</span> <span class="string">镜像</span></span><br><span class="line">  <span class="comment"># 类型分组...</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">group:</span> <span class="string">小伙伴们</span></span><br><span class="line">    <span class="attr">desc:</span> <span class="string">欢迎交换友链</span> <span class="string">ꉂ(ˊᗜˋ)</span></span><br><span class="line">    <span class="attr">items:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">https://shino.cc/fgvf</span></span><br><span class="line">      <span class="attr">img:</span> <span class="string">https://cloud.moezx.cc/Picture/svg/landscape/fields.svg</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">Google</span></span><br><span class="line">      <span class="attr">desc:</span> <span class="string">Google</span> <span class="string">镜像</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">https://shino.cc/fgvf</span></span><br><span class="line">      <span class="attr">img:</span> <span class="string">https://cloud.moezx.cc/Picture/svg/landscape/fields.svg</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">Google</span></span><br><span class="line">      <span class="attr">desc:</span> <span class="string">Google</span> <span class="string">镜像</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<h2 id="写文章配置"><a href="#写文章配置" class="headerlink" title="写文章配置"></a>写文章配置</h2><p>主题集成了个人插件hexo-tag-bili和hexo-tag-fancybox_img。其中hexo-tag-bili用来在文章或单页面中插入B站外链视频，使用语法如下：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% bili video<span class="emphasis">_id [page] %&#125;</span></span><br></pre></td></tr></table></figure>
<p>详细使用教程详见<a href="https://github.com/honjun/hexo-tag-bili/blob/master/README-zh_cn.md">hexo-tag-bili</a>。</p>
<p>hexo-tag-fancybox_img用来在文章或单页面中图片，使用语法如下：</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% fb<span class="emphasis">_img src [caption] %&#125;</span></span><br></pre></td></tr></table></figure>
<p>详细使用教程详见<a href="https://github.com/honjun/hexo-tag-fancybox_img/blob/master/README-zh_cn.md">hexo-tag-fancybox_img</a></p>
<h2 id="还有啥，一时想不起来……"><a href="#还有啥，一时想不起来……" class="headerlink" title="还有啥，一时想不起来……"></a>还有啥，一时想不起来……</h2><p>To be continued…</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>悦读</tag>
      </tags>
  </entry>
  <entry>
    <title>  Anaconda + VSCode 配置python环境   </title>
    <url>/2021/10/20/cl449bvv9000ab4bhf3bkdps6/</url>
    <content><![CDATA[<h1 id="Anaconda-VSCode-配置python环境"><a href="#Anaconda-VSCode-配置python环境" class="headerlink" title="Anaconda + VSCode 配置python环境"></a>Anaconda + VSCode 配置python环境</h1><p>Anacond下载</p>
<p><strong>下载地址： <a href="https://www.anaconda.com/download/">https://www.anaconda.com/download/</a><br>选择适合的系统环境和版本。本人是Windows10系统64位机器，故下载python3.7 64-Bit。</strong><br><img src="https://img-blog.csdnimg.cn/20200604172832565.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>下载完成</strong><br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802643.png" alt="在这里插入图片描述"><br><strong>打开安装包，进行安装（其实接下来除了选择安装路径，其他的直接默认点击下一步就可以了）</strong><br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802187.png" alt="在这里插入图片描述"> <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802232.png" alt="在这里插入图片描述"> <img src="https://img-blog.csdnimg.cn/20200604173416368.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>Install for: Just me || All Users，如若电脑有多个 Users ，需要考虑这个问题。我们电脑一般只会有一个 User，只自己使用。如果电脑有多个用户，选择All Users，笔者此处直接 All User，继续点击 Next 。</strong><br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802326.png" alt="在这里插入图片描述"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">选择路径，继续安装，</span><br><span class="line">不勾选第一项--&gt; 方便安装官网的python</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110201434027.png" alt="image-20211110201434027"></p>
<p><a href="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/">https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/</a>    image-20211110201434027.png</p>
<p><a href="https://raw.githubusercontent.com/MuyanGit/pic_url/master/">https://raw.githubusercontent.com/MuyanGit/pic_url/master/</a>    20220523225729.png</p>
<p><img src="https://img-blog.csdnimg.cn/20200604173942895.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>此处勾选设置环境变量，否则需要自己设置（也很简单）<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802496.png" alt="在这里插入图片描述"> <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802975.png" alt="在这里插入图片描述"></p>
<p><a href="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802975.png">https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802975.png</a></p>
<p><strong>验证是否安装成功：<br>win+r输入cmd，打开命令管理器，输入conda –version</strong><br><img src="https://img-blog.csdnimg.cn/20200604174331167.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>输出Anaconda版本，则表示安装成功！</strong></p>
<p>Anaconda更换国内源</p>
<p><strong>Anaconda使用的源在国外，下载各种包的速度比较慢，所以我们更改Anaconda的源<br>Anaconda更换国内源方法的文章地址在此处，请点击查看：<br><a href="https://blog.csdn.net/weixin_42133216/article/details/106476875">https://blog.csdn.net/weixin_42133216/article/details/106476875</a></strong></p>
<p>Anaconda新建环境</p>
<p><strong>Anaconda可以看作是一个虚拟机，我们的python环境使用的不是本机，而是Anaconda中的环境。<br>比如笔者的Windows的电脑上并没有安装python解释器，但是在写python程序的时候选择Anaconda环境，一样可以随心所欲的使用python。</strong></p>
<p><strong>打开安装好的Anaconda Navigator</strong><br><img src="https://img-blog.csdnimg.cn/20200604180536404.png" alt="在这里插入图片描述"><br>点击Environments<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802914.png" alt="在这里插入图片描述"><br><strong>最初只会有base(root)这一个环境，我们可以自己创建新环境，此处的machine就是笔者自己创建的</strong><br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802480.png" alt="在这里插入图片描述"></p>
<p><strong>创建方法也很简单：<br>1.点击Create<br>2.输入环境名称和Python版本点击创建即可</strong><br><img src="https://img-blog.csdnimg.cn/2020060418100621.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>这样在后面使用VSCode的时候，只要将环境设置为Anaconda中自己创建的环境就可以了。</strong></p>
<h3 id="Win10-vscode配置环境系列：Anaconda"><a href="#Win10-vscode配置环境系列：Anaconda" class="headerlink" title="Win10 vscode配置环境系列：Anaconda"></a><a href="https://segmentfault.com/a/1190000037545828">Win10 vscode配置环境系列：Anaconda</a></h3><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>如果使用此方法，则电脑可以不用安装python，直接使用anaconda自带的python，在cmd即可直接进入anaconda的python环境，而不用每次都启动anaconda。</p>
<h3 id="2-配置环境变量"><a href="#2-配置环境变量" class="headerlink" title="2.配置环境变量"></a>2.配置环境变量</h3><p>这5个路径都要全部添加到环境变量里面，否则conda和python命令可能会无法使用。具体的路径根据自己电脑的安装路径修改。</p>
<ul>
<li>```<br>D:\MySoftware\DEV\Dev_env\Anaconda3;<br>D:\MySoftware\DEV\Dev_env\Anaconda3\Scripts<br>D:\MySoftware\DEV\Dev_env\Anaconda3\Library\bin;<br>D:\MySoftware\DEV\Dev_env\Anaconda3\Library\mingw-w64\bin;<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- </span><br><span class="line"></span><br><span class="line">**添加完环境变量后要重启vscode**</span><br><span class="line"></span><br><span class="line">3.在vscode选择python环境-这里需要双击，然后点击工作区，然后选择Anaconda</span><br><span class="line"></span><br><span class="line">![image](https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200804886.png)</span><br><span class="line"></span><br><span class="line">- 选择路径为annaconda的那个，大功告成</span><br><span class="line">- 在每次打开包含python配置的文件夹后，终端会自动打开anaconda</span><br><span class="line"></span><br><span class="line">安装VSCode</span><br><span class="line"></span><br><span class="line">**Anaconda在安装时，会自带VSCode，若已安装，则无需再次安装VSCode**</span><br><span class="line">**下载地址： https://code.visualstudio.com/Download**</span><br><span class="line">![在这里插入图片描述](https://img-blog.csdnimg.cn/20200604174902276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70)</span><br><span class="line">**下载完成，点击安装包进行安装**</span><br><span class="line">![在这里插入图片描述](https://img-blog.csdnimg.cn/20200604174750956.png)</span><br><span class="line">**安装步骤图示不再给出，直接勾选下一步，下一步即可**</span><br><span class="line"></span><br><span class="line">配置VSCode</span><br><span class="line"></span><br><span class="line">**安装完VSCode后，开始是纯英文的，如果有喜欢中文的朋友，可以下载插件，设置成中文**</span><br><span class="line"></span><br><span class="line">**点击左边图标，在搜索框里面搜索Chinese**</span><br><span class="line">![在这里插入图片描述](https://img-blog.csdnimg.cn/20200604183429692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70)</span><br><span class="line">**选择中文简体，点击安装即可，安装后重启一遍VSCode**</span><br><span class="line">![在这里插入图片描述](https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802358.png)</span><br><span class="line">**然后输入Python，搜索Python插件，点击安装**</span><br><span class="line">![在这里插入图片描述](https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802115.png)</span><br><span class="line">然后就是选择Python环境，可以看到笔者的Python环境是Anaconda中的machine，也就是自己创建的环境** </span><br><span class="line"></span><br><span class="line">这里需要双击，然后点击工作区，然后选择Anaconda</span><br><span class="line"></span><br><span class="line">![加粗样式](https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802172.png)</span><br><span class="line">**点击左下角便可以更改Python环境**</span><br><span class="line">![在这里插入图片描述](https://img-blog.csdnimg.cn/2020060418391331.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70)</span><br><span class="line">**然后就可以使用了VSCode写Python代码了**</span><br><span class="line">![在这里插入图片描述](https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802319.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Anaconda国内源配置</span><br><span class="line"></span><br><span class="line">[![海上添翼](https://www.cpci.dev/content/images/2021/06/suse-2.png)](https://www.cpci.dev/author/hai/)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[清华源页面](https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/)；也包含了`MiniConda`的源</span><br><span class="line"></span><br><span class="line">安装完Anaconda之后，打开`Anaconda Prompt（anaconda3）`；输入</span><br><span class="line"></span><br><span class="line">```cmd</span><br><span class="line">conda config --set show_channel_urls yes</span><br></pre></td></tr></table></figure></li>
</ul>
<p>在安装完成后，<code>.condarc</code>文件还没生成，所以使用一条命令生成一下，其位置在<code>c:\Users\&lt;用户名&gt;\.condarc</code>，对于新版的win10可能显示的是<code>c:\用户\&lt;用户名&gt;\.condarc</code></p>
<p>使用文本编辑器打开这个文件，覆盖原有的全部内容</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110232213017.png" alt="image-20211023221106980"></p>
<h5 id="问题-可以解决2·Anaconda建立新的环境，出现CondaHTTPError-HTTP-000-CONNECTION-FAILED-for-url-……-解决过程"><a href="#问题-可以解决2·Anaconda建立新的环境，出现CondaHTTPError-HTTP-000-CONNECTION-FAILED-for-url-……-解决过程" class="headerlink" title="问题-可以解决2·Anaconda建立新的环境，出现CondaHTTPError: HTTP 000 CONNECTION FAILED for url …… 解决过程"></a>问题-可以解决2·<a href="https://www.cnblogs.com/tianlang25/p/12433025.html">Anaconda建立新的环境，出现CondaHTTPError: HTTP 000 CONNECTION FAILED for url …… 解决过程</a></h5><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">show_channel_urls: true</span><br><span class="line"></span><br><span class="line">ssl_verify: false</span><br><span class="line">channels:</span><br><span class="line">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</span><br><span class="line">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/</span><br><span class="line">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/</span><br><span class="line">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/fastai/</span><br><span class="line">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/</span><br><span class="line">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>也可以试一下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">channels:</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: true</span><br><span class="line">ssl_verify: false</span><br><span class="line">channel_alias: https://mirrors.tuna.tsinghua.edu.cn/anaconda</span><br><span class="line">default_channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: true</span><br></pre></td></tr></table></figure>



<ul>
<li>$\textcolor{Red}{    ssl_verify: true    –&gt; 应该关闭    }$</li>
<li>$\textcolor{Red}{    https:–&gt; http    –&gt; 应该关闭    }$</li>
<li>$\textcolor{Red}{    default_channels–&gt; 删除–&gt; 应该关闭    }$</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">channels:</span><br><span class="line">  - defaults</span><br><span class="line">ssl_verify: true	--&gt; 应该关闭</span><br><span class="line">show_channel_urls: true</span><br><span class="line">default_channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">123456789101112131415</span><br></pre></td></tr></table></figure>



<p>保存后执行一条命令，清除一下缓存</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">conda clean -i</span><br></pre></td></tr></table></figure>

<p><strong>如果已经打开了Anaconda Navigator，别忘了重启生效</strong></p>
<p>测试生效</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">:: 查看全部配置信息</span><br><span class="line">conda config --show</span><br><span class="line">:: 查看源的配置信息</span><br><span class="line">conda config --show-sources</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>

<ul>
<li></li>
</ul>
<h1 id="软件配置"><a href="#软件配置" class="headerlink" title="软件配置"></a>软件配置</h1><h3 id="如果选择Miniconda，则："><a href="#如果选择Miniconda，则：" class="headerlink" title="如果选择Miniconda，则："></a>如果选择Miniconda，则：</h3><ul>
<li>熟手可以完全自定义安装每个所用的包；</li>
<li>磁盘空间紧张；</li>
<li>追求效率，不想浪费在初始化上；或喜欢纯净的开发环境</li>
</ul>
<h3 id="配置PyCharm"><a href="#配置PyCharm" class="headerlink" title="配置PyCharm"></a>配置PyCharm</h3><p>如果环境变量配置正确了，那么在PyCharm里面选择Conda环境的时候，会自动识别；如果没有自动识别，可以手动添加一下；</p>
<p>现有环境</p>
<ul>
<li>解释器：D:\anaconda\python3.exe</li>
<li>Conda可执行文件：D:\anaconda3\Scripts\conda.exe</li>
<li>可用于所有项目：勾选</li>
</ul>
<p>对于项目的根目录下的<code>.idea/venv</code>可以删除了</p>
<p>这个时候，对于当前的项目就出问题了，因为原先的解释器失效了；右下角配置环境的按钮挪到了右上角，点击下拉菜单中的“编辑”，（“运行”按钮旁边）；选择“Python解释器”的下拉菜单，选择带有Anaconda图标的那个，应用；一切恢复如常。</p>
<p>文件 -&gt; 清除缓存/重启 -&gt; 作废并重启</p>
<h3 id="PIP-源-–-gt-Python"><a href="#PIP-源-–-gt-Python" class="headerlink" title="PIP  源 –&gt; Python"></a>PIP  源 –&gt; Python</h3><p>验证版本：Python 3.8.5</p>
<p>在当前用户目录下（不是文档目录下）<code>c:\用户\&lt;用户名&gt;\</code>下新建<code>pip</code>目录，然后创建一个<code>pip.ini</code>文件，输入一下内容即可使用阿里源</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[global]</span></span><br><span class="line"><span class="attr">index-url</span> = https://mirrors.aliyun.com/pypi/simple/</span><br><span class="line"></span><br><span class="line"><span class="section">[install]</span></span><br><span class="line"><span class="attr">trusted-host</span>=mirrors.aliyun.com</span><br></pre></td></tr></table></figure>

<p>pip.ini路径如下C:\Users\HelloWorld\pip\pip.ini<img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200928376.png" alt="image-20211020092806270"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200930058.png" alt="image-20211020092850288"></p>
<h3 id="MoviePy的安装-新建conda环境，然后安装"><a href="#MoviePy的安装-新建conda环境，然后安装" class="headerlink" title="MoviePy的安装-新建conda环境，然后安装-"></a>MoviePy的安装-新建conda环境，然后安装-</h3><p>下载与安装</p>
<p>Conda包管理</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">:: 为指定环境安装某个包</span><br><span class="line"></span><br><span class="line">conda install -n TestPythonHello moviepy</span><br><span class="line"></span><br><span class="line">:: 激活某个环境</span><br><span class="line">activate TestPythonHello</span><br><span class="line">conda install -c conda-forge moviepy</span><br></pre></td></tr></table></figure>









<p>MoviePy的安装-</p>
<p>新建conda环境，然后安装-</p>
<p><strong>首先，</strong>安装moviepy基本包。与其他的库一样，直接采用 pip 的方式安装即可，pip方便快捷</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda install moviepy</span><br><span class="line">pip install moviepy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">conda remove -n python38Video --all</span><br><span class="line">删除python38Video文件夹</span><br><span class="line">conda env list</span><br><span class="line"></span><br><span class="line">#删除所有的下载的安装包及cache</span><br><span class="line">conda clean -y --all </span><br><span class="line"></span><br><span class="line">conda create --name python38Video python=3.8</span><br><span class="line">activate python38Video</span><br><span class="line">conda install moviepy</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>安装完后，python38Video中有moviepy可以看见<code>moviepy/config_defaults.py</code>文件</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110201715540.png" alt="image-20211020171527437"></p>
<p>防止错误定期重建everything索引 </p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110201727979.png" alt="image-20211020172744825"></p>
<p><strong>第二步</strong>，安装依赖包ImageMagic</p>
<p>ImageMagic是用于在视频中填入文本信息的工具，我认为还是很有用处的，需要单独下载exe程序安装。</p>
<p>下载地址为：<a href="https://imagemagick.org/script/download.php%EF%BC%8Cwindows%E7%B3%BB%E7%BB%9F%E9%A1%B5%E9%9D%A2%E6%8B%96%E5%88%B0%E6%9C%80%E4%B8%8B%E9%9D%A2%E5%8F%AF%E4%BB%A5%E6%89%BE%E5%88%B0%E3%80%82%E4%B8%8B%E8%BD%BD%E5%AE%8C%E6%AF%95%E5%90%8E%E5%8F%8C%E5%87%BB%E5%AE%89%E8%A3%85%E5%8D%B3%E5%8F%AF">https://imagemagick.org/script/download.php，windows系统页面拖到最下面可以找到。下载完毕后双击安装即可</a></p>
<p><a href="https://www.imagemagick.org/script/index.php">ImageMagick</a> 只有在你想要添加文字时需要用到。它可作为一个后端用在GIF上，但如果不安装ImageMagick，你也可以用MoviePy处理GIF。</p>
<p>必须勾选才会有ImageMagick_VERSION\convert.exe”文件</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200932752.png" alt="image-20211020092307789"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200937892.png" alt="image-20211020093705837"></p>
<p>一旦你安装了ImageMagick，它会被MoviePy自动检测到，<strong>除了Windows环境！</strong> Windows用户在手动安装MoviePy之前，应在<code>moviepy/config_defaults.py</code>文件中指定ImageMagick binary的路径，并叫做<em>convert</em>。看起来应该像是这样：</p>
<p> ImageMagic路径:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">IMAGEMAGICK_BINARY = &quot;C:\\Program Files\\ImageMagick_VERSION\\convert.exe&quot;</span><br><span class="line">IMAGEMAGICK_BINARY = &quot;D:\\MySoftware\\VideoCut\\ImageMagick-7.1.0-Q16-HDRI\\convert.exe&quot;</span><br></pre></td></tr></table></figure>



<p><strong>第三步</strong>，给选定环境中的moviepy 设置 ImageMagic路径</p>
<p>在上一步中安装了ImageMagic，但此时仍无法使用，因为Python不知道ImageMagic安装在哪里，需要在Python的库文件中找到<code>moviepy/config_defaults.py</code>，</p>
<p>并在最后一行加入<code>IMAGEMAGICK_BINARY = &quot;C:\\Program Files\\ImageMagick_VERSION\\convert.exe&quot;</code> （此处修改为你的安装路径）</p>
<p>至此，moviepy安装完毕！</p>
<p>eg:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">Configuration of MoviePy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">This file enables you to specify a configuration for MoviePy. In</span><br><span class="line">particular you can enter the path to the FFMPEG and ImageMagick</span><br><span class="line">binaries.</span><br><span class="line"></span><br><span class="line">Defaults must be done BEFORE installing MoviePy: first make the changes,</span><br><span class="line">then install MoviePy with</span><br><span class="line"></span><br><span class="line">    [sudo] python setup.py install</span><br><span class="line"></span><br><span class="line">Note that you can also change the path by setting environment variables.</span><br><span class="line">e.g.</span><br><span class="line"></span><br><span class="line">Linux/Mac:</span><br><span class="line">   export FFMPEG_BINARY=path/to/ffmpeg</span><br><span class="line"></span><br><span class="line">Windows:</span><br><span class="line">   set FFMPEG_BINARY=path\to\ffmpeg</span><br><span class="line"></span><br><span class="line">Instructions</span><br><span class="line">--------------</span><br><span class="line"></span><br><span class="line">FFMPEG_BINARY</span><br><span class="line">    Normally you can leave this one to its default (&#x27;ffmpeg-imageio&#x27;) at which</span><br><span class="line">    case image-io will download the right ffmpeg binary (at first use) and then</span><br><span class="line">    always use that binary.</span><br><span class="line">    The second option is &#x27;auto-detect&#x27;, in this case ffmpeg will be whatever</span><br><span class="line">    binary is found on the computer generally &#x27;ffmpeg&#x27; (on linux) or &#x27;ffmpeg.exe&#x27;</span><br><span class="line">    (on windows).</span><br><span class="line">    Third option: If you want to use a binary at a special location on you disk,</span><br><span class="line">    enter it like that:</span><br><span class="line"></span><br><span class="line">    FFMPEG_BINARY = r&quot;path/to/ffmpeg&quot; # on linux</span><br><span class="line">    FFMPEG_BINARY = r&quot;path\to\ffmpeg.exe&quot; # on windows</span><br><span class="line"></span><br><span class="line">    Warning: the &#x27;r&#x27; before the path is important, especially on Windows.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">IMAGEMAGICK_BINARY</span><br><span class="line">    For linux users, &#x27;convert&#x27; should be fine.</span><br><span class="line">    For Windows users, you must specify the path to the ImageMagick</span><br><span class="line">    &#x27;magick&#x27; binary. For instance:</span><br><span class="line"></span><br><span class="line">    IMAGEMAGICK_BINARY = r&quot;C:\Program Files\ImageMagick-6.8.8-Q16\magick.exe&quot;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">FFMPEG_BINARY = os.getenv(&#x27;FFMPEG_BINARY&#x27;, &#x27;ffmpeg-imageio&#x27;)</span><br><span class="line">IMAGEMAGICK_BINARY = os.getenv(&#x27;IMAGEMAGICK_BINARY&#x27;, &#x27;auto-detect&#x27;)</span><br><span class="line">IMAGEMAGICK_BINARY = &quot;D:\\MySoftware\\VideoCut\\ImageMagick-7.1.0-Q16-HDRI\\convert.exe&quot;</span><br></pre></td></tr></table></figure>



<p>视频文件的读取</p>
<p>剪辑处理视频，首先需要读取到视频文件，主要有<code>VideoFileClip</code>、<code>clips_array</code>、<code>CompositeVideoClips</code>这三种方法</p>
<h1 id="Anaconda常用命令小结"><a href="#Anaconda常用命令小结" class="headerlink" title="Anaconda常用命令小结"></a>Anaconda常用命令小结</h1><p><a href="https://www.zhihu.com/people/wo-shi-lao-qi"><img src="https://pic3.zhimg.com/v2-e12f5d64d5fe50a52950bb9e7fc58f2a_xs.jpg?source=172ae18b" alt="菜鸡日志"></a></p>
<p><a href="https://www.zhihu.com/people/wo-shi-lao-qi">菜鸡日志</a></p>
<p>沉迷学习</p>
<p>29 人赞同了该文章</p>
<p>简介</p>
<p>入门机器学习、深度学习，有个神器不得不了解下，最好熟练有它。这就是Anaconda</p>
<p>Anaconda是一个开源的Python发行版本，其包含了conda、Python等180多个科学包及其依赖项. 用它来管理、开发等，及其方便，里面集成了相当多的有用的吧，比如：numpy、pandas等。</p>
<p>还有个神器也在里面，jupyter notebook，这个用来调试代码等非常方便。现在就简单介绍一些anaconda常用的命令，方便大家早些上手。</p>
<p>首先，官网文档地址贴上：</p>
<p><a href="https://link.zhihu.com/?target=https://conda.io/docs/user-guide/index.html">https://conda.io/docs/user-guide/index.html</a></p>
<p>更详细的教程可直接查询官网~</p>
<p>Anaconda安装配置</p>
<p>安装过程在这里就略掉不展开了，在TensorFlow环境配置那有详细讲过，可以翻阅。</p>
<p>再贴个其他博客的地址，供参考（Windows版）</p>
<p><a href="https://link.zhihu.com/?target=https://blog.csdn.net/wz947324/article/details/80205181">https://blog.csdn.net/wz947324/article/details/80205181</a></p>
<p>安装好记得检查下环境变量，配置好环境变量</p>
<p>conda管理相关命令</p>
<p>conda自身相关</p>
<p>查看当前conda工具版本号</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda --version</span><br></pre></td></tr></table></figure>





<p><img src="https://pic4.zhimg.com/80/v2-75ac44cc5d04b4c8dee0b5a7509e5523_720w.jpg" alt="img"></p>
<p>查看包括版本的更多信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda info</span><br></pre></td></tr></table></figure>



<p><img src="https://pic1.zhimg.com/80/v2-af840a14126f8f918b100c8251fca5a4_720w.jpg" alt="img"></p>
<p>更新conda至最新版本</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda update conda</span><br></pre></td></tr></table></figure>



<p>查看conda帮助信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda -h</span><br></pre></td></tr></table></figure>



<p><img src="https://pic2.zhimg.com/80/v2-49449f2a50551c100a35f76b1b62957d_720w.jpg" alt="img">关注公众号“学习与成长资源库”获取更多最新资料</p>
<p>环境管理相关</p>
<p>查看conda环境管理命令帮助信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda create --help</span><br></pre></td></tr></table></figure>



<p>创建出来的虚拟环境所在的位置为conda路径下的env/文件下,,默认创建和当前python版本一致的环境.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda create --name envname</span><br></pre></td></tr></table></figure>



<p>创建新环境时指定python版本为3.6，环境名称为python36</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda create --name python36 python=3.6</span><br></pre></td></tr></table></figure>



<p>切换到环境名为python36的环境（默认是base环境），切换后可通过python -V查看是否切换成功</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda activate python36</span><br></pre></td></tr></table></figure>



<p>返回前一个python环境</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda deactivate</span><br></pre></td></tr></table></figure>

<p>显示已创建的环境，会列出所有的环境名和对应路径</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda info -e</span><br></pre></td></tr></table></figure>



<p>删除虚拟环境</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda remove --name envname --all</span><br></pre></td></tr></table></figure>



<p>指定python版本,以及多个包</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda create -n envname python=3.4 scipy=0.15.0 astroib numpy</span><br></pre></td></tr></table></figure>



<p>查看当前环境安装的包</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda list   ##获取当前环境中已安装的包</span><br><span class="line">conda list -n python36   ##获取指定环境中已安装的包</span><br></pre></td></tr></table></figure>



<p>克隆一个环境</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># clone_env 代指克隆得到的新环境的名称</span><br><span class="line"># envname 代指被克隆的环境的名称</span><br><span class="line">conda create --name clone_env --clone envname</span><br><span class="line"></span><br><span class="line">#查看conda环境信息</span><br><span class="line">conda info --envs</span><br></pre></td></tr></table></figure>



<p>构建相同的conda环境(不通过克隆的方法)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 查看包信息</span><br><span class="line">conda list --explicit</span><br><span class="line"></span><br><span class="line"># 导出包信息到当前目录, spec-file.txt为导出文件名称,可以自行修改名称</span><br><span class="line">conda list --explicit &gt; spec-file.txt</span><br><span class="line"></span><br><span class="line"># 使用包信息文件建立和之前相同的环境</span><br><span class="line">conda create --name newenv --file spec-file.txt</span><br><span class="line"></span><br><span class="line"># 使用包信息文件向一个已经存在的环境中安装指定包</span><br><span class="line">conda install --name newenv --file spec-file.txt</span><br></pre></td></tr></table></figure>



<p>查找包</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#模糊查找，即模糊匹配，只要含py字符串的包名就能匹配到</span><br><span class="line">conda search py   </span><br><span class="line"></span><br><span class="line">##查找包，--full-name表示精确查找，即完全匹配名为python的包</span><br><span class="line">conda search --full-name python</span><br></pre></td></tr></table></figure>



<p>安装更新删除包</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">##在当前环境中安装包</span><br><span class="line">conda install scrapy  </span><br><span class="line"></span><br><span class="line">##在指定环境中安装包</span><br><span class="line">conda install -n python36 scrapy</span><br><span class="line"></span><br><span class="line">##在当前环境中更新包  </span><br><span class="line">conda update scrapy   </span><br><span class="line"></span><br><span class="line">##在指定环境中更新包</span><br><span class="line">conda update -n python36 scrapy  </span><br><span class="line"></span><br><span class="line">##更新当前环境所有包</span><br><span class="line">conda update --all   </span><br><span class="line"></span><br><span class="line">##在当前环境中删除包</span><br><span class="line">conda remove scrapy   </span><br><span class="line"></span><br><span class="line">##在指定环境中删除包</span><br><span class="line">conda remove -n python2 scrapy</span><br></pre></td></tr></table></figure>





<p>Python管理</p>
<p>查找可以安装的python</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 查找所有名称包含python的包</span><br><span class="line">conda search python</span><br><span class="line"></span><br><span class="line"># 查找全名为python的包</span><br><span class="line">conda search --full-name python</span><br></pre></td></tr></table></figure>



<p>安装不同版本的Python</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#在不影响当前版本的情况下,新建环境并安装不同版本的python</span><br><span class="line">#新建一个Python版本为3.6 名称为 py36 的环境</span><br><span class="line"></span><br><span class="line">conda create -n py36 python=3.6 anaconda</span><br><span class="line"></span><br><span class="line">#注:将py36替换为您要创建的环境的名称。 anaconda是元数据包，带这个会把base的基础包一起安装，不带的话新环境只包含python3.6相关的包。 python = 3.6是您要在此新环境中安装的软件包和版本。 这可以是任何包，例如numpy = 1.7，或多个包。</span><br><span class="line">#然后激活想要使用的环境即可</span><br><span class="line">conda activate py36</span><br><span class="line">#更新Python</span><br><span class="line"># 普通的更新python</span><br><span class="line">conda update python</span><br><span class="line"></span><br><span class="line"># 将python更新到另外一个版本/安装指定版本的python</span><br><span class="line">conda install python=3.6</span><br></pre></td></tr></table></figure>



<hr>
<p>分享环境</p>
<p>如果你想把你当前的环境配置与别人分享，这样ta可以快速建立一个与你一模一样的环境（同一个版本的python及各种包）来共同开发/进行新的实验。一个分享环境的快速方法就是给ta一个你的环境的.yml文件。</p>
<p>首先通过activate target_env要分享的环境target_env，然后输入下面的命令会在当前工作目录下生成一个environment.yml文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda env export &gt; environment.yml</span><br></pre></td></tr></table></figure>



<p>小伙伴拿到environment.yml文件后，将该文件放在工作目录下，可以通过以下命令从该文件创建环境</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda env create -f environment.yml</span><br></pre></td></tr></table></figure>





<p>参考文档</p>
<p><a href="https://link.zhihu.com/?target=https://conda.io/docs/user-guide/index.html">https://conda.io/docs/user-guide/index.html</a></p>
<p><a href="https://link.zhihu.com/?target=https://blog.csdn.net/wz947324/article/details/80229560">https://blog.csdn.net/wz947324/article/details/80229560</a></p>
<p><a href="https://link.zhihu.com/?target=https://blog.csdn.net/menc15/article/details/71477949">https://blog.csdn.net/menc15/article/details/71477949</a></p>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><p><a href="https://docs.conda.io/projects/conda/en/latest/index.html">Conda官方文档</a></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">:: 获取版本号</span><br><span class="line">conda --version</span><br><span class="line">conda -V</span><br><span class="line"></span><br><span class="line">:: 获取帮助</span><br><span class="line">conda --<span class="built_in">help</span></span><br><span class="line">conda -h</span><br><span class="line"></span><br><span class="line">:: 查看某个子命令的帮助</span><br><span class="line">conda config --<span class="built_in">help</span></span><br><span class="line">conda update --<span class="built_in">help</span></span><br><span class="line">conda remove --<span class="built_in">help</span></span><br><span class="line">conda install --<span class="built_in">help</span></span><br><span class="line"></span><br><span class="line">:: 查看环境管理的全部命令</span><br><span class="line">conda env -h</span><br><span class="line"></span><br><span class="line">:: 创建Python版本的环境</span><br><span class="line">conda create --name your_env_name python=<span class="number">3</span>.<span class="number">7</span></span><br><span class="line">conda create --name python38Video python=<span class="number">3</span>.<span class="number">8</span></span><br><span class="line">conda create --name p28 python=<span class="number">2</span>.<span class="number">8</span> -y</span><br><span class="line">conda create --name p30 python=<span class="number">3</span>.<span class="number">0</span> -y</span><br><span class="line">conda create --name p35 python=<span class="number">3</span>.<span class="number">5</span> -y</span><br><span class="line">conda create --name p36 python=<span class="number">3</span>.<span class="number">6</span> -y</span><br><span class="line">conda create --name p37 python=<span class="number">3</span>.<span class="number">7</span> -y</span><br><span class="line">conda create --name p38 python=<span class="number">3</span>.<span class="number">8</span> -y</span><br><span class="line"></span><br><span class="line">:: 确定Python版本：</span><br><span class="line">activate envname</span><br><span class="line">python -V</span><br><span class="line"></span><br><span class="line">:: 创建包含某些包的环境</span><br><span class="line">conda create --name your_env_name numpy scipy</span><br><span class="line"></span><br><span class="line">:: 创建指定Python版本下包含某些包的环境</span><br><span class="line">conda create --name your_env_name python=<span class="number">3</span>.<span class="number">8</span> numpy scipy</span><br><span class="line">conda create -n your_env_name3.<span class="number">6</span> python=<span class="number">3</span>.<span class="number">6</span> numpy scipy</span><br><span class="line">conda create -n ksDjango3.<span class="number">8</span> python=<span class="number">3</span>.<span class="number">8</span></span><br><span class="line"></span><br><span class="line">:: 列出当前所有环境</span><br><span class="line">conda info --envs</span><br><span class="line">conda env list</span><br><span class="line"></span><br><span class="line">:: 激活某个环境</span><br><span class="line">activate your_env_name</span><br><span class="line">activate python38Video</span><br><span class="line"></span><br><span class="line">:: 关闭某个环境</span><br><span class="line">conda deactivate </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="克隆某个环境"><a href="#克隆某个环境" class="headerlink" title=":: 克隆某个环境"></a>:: 克隆某个环境</h4><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"># clone_env 代指克隆得到的新环境的名称</span><br><span class="line"># envname 代指被克隆的环境的名称</span><br><span class="line">conda create --name clone_env --clone envname</span><br><span class="line"></span><br><span class="line">#查看conda环境信息</span><br><span class="line">conda info --envs</span><br><span class="line">conda create -n HelloPython38 --clone TestPythonHello</span><br><span class="line">conda create -n base20211023Python38 --clone base</span><br></pre></td></tr></table></figure>

<h5 id="构建相同的conda环境-不通过克隆的方法"><a href="#构建相同的conda环境-不通过克隆的方法" class="headerlink" title="构建相同的conda环境(不通过克隆的方法)"></a>构建相同的conda环境(不通过克隆的方法)</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看包信息</span></span><br><span class="line">conda list --explicit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导出包信息到当前目录, spec-file.txt为导出文件名称,可以自行修改名称</span></span><br><span class="line">conda list --explicit &gt; 2021年11月16日·星期2·4·09·54·15conda-p38-file.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用包信息文件建立和之前相同的环境</span></span><br><span class="line">conda create --name newenv --file spec-file.txt</span><br><span class="line">conda create -n p38Video -conda-base-env-spec-file.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">conda list --explicit &gt; 2021年10月23日·星期6·23·12·15conda-base-env-spec-file.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用包信息文件向一个已经存在的环境中安装指定包</span></span><br><span class="line">conda install --name newenv --file spec-file.txt</span><br></pre></td></tr></table></figure>

<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">:不可以如此</span><br><span class="line">应该先创建环境，然后倒入</span><br><span class="line">conda create --name p38Proxy python=<span class="number">3</span>.<span class="number">8</span></span><br><span class="line">conda install --name p35 --file spec-file.txt</span><br></pre></td></tr></table></figure>

<p><img src="" alt="image-20211116052025305"></p>
<h4 id="查找包"><a href="#查找包" class="headerlink" title="查找包"></a>查找包</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#模糊查找，即模糊匹配，只要含py字符串的包名就能匹配到</span></span><br><span class="line">conda search py   </span><br><span class="line"></span><br><span class="line"><span class="comment">##查找包，--full-name表示精确查找，即完全匹配名为python的包</span></span><br><span class="line">conda search --full-name pythona</span><br><span class="line"></span><br><span class="line">:: 列出当前激活环境的所有包</span><br><span class="line">conda list</span><br><span class="line"></span><br><span class="line">:: 列出一个非激活环境的所有包</span><br><span class="line">conda list --name your_env_name</span><br><span class="line">conda list -n HelloPython38</span><br></pre></td></tr></table></figure>

<h4 id="查找可以安装的python"><a href="#查找可以安装的python" class="headerlink" title="查找可以安装的python"></a>查找可以安装的python</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查找所有名称包含python的包</span></span><br><span class="line">conda search python</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找全名为python的包</span></span><br><span class="line">conda search --full-name python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="安装不同版本的Python"><a href="#安装不同版本的Python" class="headerlink" title="安装不同版本的Python"></a>安装不同版本的Python</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#在不影响当前版本的情况下,新建环境并安装不同版本的python</span></span><br><span class="line"><span class="comment">#新建一个Python版本为3.6 名称为 py36 的环境</span></span><br><span class="line"></span><br><span class="line">conda create -n py36 python=3.6 anaconda</span><br><span class="line">conda create --name p38Proxy python=3.8 -y</span><br><span class="line"></span><br><span class="line"><span class="comment">#注:将py36替换为您要创建的环境的名称。 anaconda是元数据包，带这个会把base的基础包一起安装，不带的话新环境只包含python3.6相关的包。 python = 3.6是您要在此新环境中安装的软件包和版本。 这可以是任何包，例如numpy = 1.7，或多个包。</span></span><br><span class="line"><span class="comment">#然后激活想要使用的环境即可</span></span><br><span class="line">conda activate py36</span><br><span class="line"><span class="comment">#更新Python</span></span><br><span class="line"><span class="comment"># 普通的更新python</span></span><br><span class="line">conda update python</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将python更新到另外一个版本/安装指定版本的python</span></span><br><span class="line">conda install python=3.6</span><br></pre></td></tr></table></figure>

<h4 id="安装包"><a href="#安装包" class="headerlink" title="安装包"></a>安装包</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">##在当前环境中安装包</span></span><br><span class="line">conda install scrapy  </span><br><span class="line"></span><br><span class="line"><span class="comment">##在指定环境中安装包</span></span><br><span class="line">conda install -n python36 scrapy</span><br><span class="line"></span><br><span class="line">:: 为指定环境安装某个包</span><br><span class="line">conda install -n env_name package_name</span><br><span class="line">conda install -n TestPythonHello moviepy</span><br><span class="line">cmd中运行</span><br><span class="line">activate p38 &amp;&amp; pip install pyexecjs</span><br><span class="line">记得关闭代理</span><br><span class="line">activate p38Proxy &amp;&amp; pip install -r requirements.txt</span><br><span class="line">activate p38 &amp;&amp; pip install -r  requirements.txt</span><br><span class="line">activate p38 &amp;&amp; pip install -r  G:\Demo_Git\哔哩哔哩\上传\biliup\requirements.txt</span><br><span class="line"></span><br><span class="line">activate p38 &amp;&amp; conda install --name p38 --file  requirements.txt  -y </span><br><span class="line">activate p38 &amp;&amp; conda install --name p38 tensorflow  -y </span><br><span class="line"></span><br><span class="line">pip install -r requirements.txt </span><br><span class="line"><span class="comment">## </span></span><br><span class="line">conda install --yes --file requirements.txt</span><br><span class="line"></span><br><span class="line">conda install --name ksDjango3.8 autopep8 -y</span><br><span class="line">conda install --name ksDjango3.8 --file requirements.txt  -y </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">activate HelloPython38</span><br><span class="line">conda deactivate</span><br><span class="line">conda uninstall moviepy</span><br><span class="line"></span><br><span class="line">通道</span><br><span class="line">conda config --add channels conda-forge</span><br><span class="line">conda install  django</span><br><span class="line">conda install -c conda-forge moviepy</span><br><span class="line">conda install -c conda-forge ruia</span><br><span class="line">conda install pytorch torchvision torchaudio cudatoolkit=11.0 -c pytorch</span><br></pre></td></tr></table></figure>

<h4 id="naconda-安装在线-离线-whl或者-tar-gz-包的一些方法"><a href="#naconda-安装在线-离线-whl或者-tar-gz-包的一些方法" class="headerlink" title="naconda 安装在线/离线(.whl或者.tar.gz)包的一些方法"></a>naconda 安装在线/离线(.whl或者.tar.gz)包的一些方法</h4><h5 id="在线包"><a href="#在线包" class="headerlink" title="在线包"></a>在线包</h5><p>对于命令行窗口安装，有两种终端窗口<br>1、“win”+R，输入”cmd“，如下<br><img src="https://pianshen.com/images/358/3064b99c7a8e0cf1c3804da99e200616.png" alt="在这里插入图片描述"><br>2、右键开始菜单，选择“Windows Powershell(I)”<br><img src="https://pianshen.com/images/12/230a3c00800d10930bae5575315b289c.png" alt="在这里插入图片描述"><br>个人建议可以用后面这个，命令更多。</p>
<p>将命令行的所在文件目录cd/d到有conda或者pip的文件夹下，进行<br>conda install “文件名”<br>pip install “文件名”–&gt; conda 环境中也可以使用哦</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211112185205415.png" alt="image-20211112185205415"></p>
<h5 id="离线安装·请关闭代理–-gt-可以直接在cmd中进行"><a href="#离线安装·请关闭代理–-gt-可以直接在cmd中进行" class="headerlink" title="离线安装·请关闭代理–&gt; 可以直接在cmd中进行"></a>离线安装·<strong>请关闭代理</strong>–&gt; 可以直接在cmd中进行</h5><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211113051536343.png" alt="image-20211113051536343"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>、安装.whl文件--&gt; **请关闭代理**</span><br><span class="line">在Anaconda文件目录下打开Anaconda Powershell Prompt</span><br><span class="line">输入pip install “路径\文件名”</span><br></pre></td></tr></table></figure>



<p>pip 指定某个路径安装包</p>
<p>场景：</p>
<p>有的时候我们安装了annconda环境，有很多的python环境，比如py36, py37, py27。此时，我们使用<code>pip</code>安装包的时候，经常可能安装在一个不知道的路径，或者不是我们期望安装的路径。</p>
<p>这就是本文要解决的问题了。</p>
<p>方法一</p>
<p>指定安装<code>numpy</code>包到固定文件夹下，比如这里“文件夹”是安装路径</p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pip <span class="keyword">install</span> -t 文件夹 numpy</span><br></pre></td></tr></table></figure>

<p>方法二</p>
<p>设置 pip 默认安装路径</p>
<p>找到 <code>site.py</code> 文件。（windows：可以通过自带的查找，或者使用 <code>everything</code>软件；Linux直接使用find命令即可）</p>
<p>我的目录：D:programAnacondaenvspy36Libsite.py</p>
<p>修改 <code>USER_SITE</code> 和 <code>USER_BASE</code> 两个字段的值(之前是null).</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="comment">#自定义依赖安装包的路径</span></span><br><span class="line"><span class="attr">USER_SITE</span> = null</span><br><span class="line"><span class="comment">#自定义的启用Python脚本的路径</span></span><br><span class="line"><span class="attr">USER_BASE</span> = null</span><br></pre></td></tr></table></figure>

<p>我这里修改为</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">USER_SITE</span> = <span class="string">&quot;D:\program\Anaconda\envs\py36\Lib\site-packages&quot;</span></span><br><span class="line"><span class="attr">USER_BASE</span> = <span class="string">&quot;D:\program\Anaconda\envs\py36\Scripts&quot;</span></span><br></pre></td></tr></table></figure>

<p>使用命令查看、验证</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">python -m site</span></span><br></pre></td></tr></table></figure>

<p>结果</p>
<figure class="highlight taggerscript"><table><tr><td class="code"><pre><span class="line">sys.path = [</span><br><span class="line">    &#x27;C:<span class="symbol">\\</span>Users<span class="symbol">\\</span>z2010&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>python36.zip&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>DLLs&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>lib&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>Lib<span class="symbol">\\</span>site-packages&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>Lib<span class="symbol">\\</span>site-packages<span class="symbol">\\</span>torchvision-0.2.1-py3.6.egg&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>Lib<span class="symbol">\\</span>site-packages<span class="symbol">\\</span>tqdm-4.28.1-py3.6.egg&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>Lib<span class="symbol">\\</span>site-packages<span class="symbol">\\</span>pyahocorasick-1.4.0-py3.6-win-amd64.egg&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>Lib<span class="symbol">\\</span>site-packages<span class="symbol">\\</span>win32&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>Lib<span class="symbol">\\</span>site-packages<span class="symbol">\\</span>win32<span class="symbol">\\</span>lib&#x27;,</span><br><span class="line">    &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>Lib<span class="symbol">\\</span>site-packages<span class="symbol">\\</span>Pythonwin&#x27;,</span><br><span class="line">]</span><br><span class="line">USER_BASE: &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>Scripts&#x27; (exists)</span><br><span class="line">USER_SITE: &#x27;D:<span class="symbol">\\</span>program<span class="symbol">\\</span>Anaconda<span class="symbol">\\</span>envs<span class="symbol">\\</span>py36<span class="symbol">\\</span>Lib<span class="symbol">\\</span>site-packages&#x27; (exists)</span><br><span class="line">ENABLE_USER_SITE: True</span><br></pre></td></tr></table></figure>



<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span>、安装.tar.gz文件</span><br><span class="line"></span><br><span class="line">（<span class="number">1</span>）将解压后的文件直接放在…/Anacoanda/Lib/site-packages目录下，删除版本号哦</span><br><span class="line">注：需要将不带版本号的子文件放在目录下</span><br><span class="line">（<span class="number">2</span>）在Anaconda文件目录下打开Anaconda Powershell Prompt·</span><br><span class="line">输入：</span><br><span class="line">python setup.py install</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211112183210140.png" alt="image-20211112183210140"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">离线安装-方法<span class="number">2</span></span><br><span class="line">下载安装包:复制网址https://pypi.tuna.tsinghua.edu.cn/packages/<span class="number">42</span>/<span class="number">02</span>/<span class="number">7</span>b2fb0b81266aa3243dd8f392d48db1a206cc9a1856a14228e75c515616e/opencv-contrib-python-<span class="number">4</span>.<span class="number">5</span>.<span class="number">1</span>.<span class="number">48</span>.tar.gz到浏览器下载安装包</span><br><span class="line">解压安装包:tar -zxvf opencv-contrib-python-<span class="number">4</span>.<span class="number">5</span>.<span class="number">1</span>.<span class="number">48</span>.tar.gz</span><br><span class="line"><span class="built_in">cd</span> opencv-contrib-python-<span class="number">4</span>.<span class="number">5</span>.<span class="number">1</span>.<span class="number">48</span></span><br><span class="line">python setup.py build</span><br><span class="line">提示错误:ModuleNotFoundError: No module named ‘skbuild’</span><br><span class="line">解决:pip install scikit-build</span><br><span class="line">提示错误:</span><br><span class="line">解决:编译OpenCV 以及 openc_contrib 提示缺少boostdesc_bgm.i文件出错的解决</span><br><span class="line">python setup.py install</span><br></pre></td></tr></table></figure>



<p><img src="https://pianshen.com/images/721/b9e6a58aa17d8801db9a1956f2f9e349.png" alt="在这里插入图片描述"></p>
<p>配置环境变量了，cmd中也是可以操作</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>、安装.whl文件--&gt; **请关闭代理**</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211111222403911.png" alt="image-20211111222403911"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211111221853167.png" alt="image-20211111221853167"></p>
<h4 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">##在当前环境中更新包  </span></span><br><span class="line">conda update scrapy   </span><br><span class="line"></span><br><span class="line"><span class="comment">##在指定环境中更新包</span></span><br><span class="line">conda update -n python36 scrapy  </span><br><span class="line"></span><br><span class="line"><span class="comment">##更新当前环境所有包</span></span><br><span class="line">conda update --all  </span><br></pre></td></tr></table></figure>

<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">:: 删除某个环境</span><br><span class="line">conda remove -n your_env_name(虚拟环境名称) --all， 即可删除。</span><br><span class="line"><span class="comment">##在当前环境中删除包</span></span><br><span class="line">conda remove scrapy   </span><br><span class="line"></span><br><span class="line"><span class="comment">##在指定环境中删除包</span></span><br><span class="line">conda remove -n python2 scrapy</span><br><span class="line">conda remove -n python38Video --all</span><br><span class="line">conda clean -p      //删除没有用的包</span><br><span class="line">conda clean -t      //tar打包</span><br><span class="line">conda clean -y --all //删除所有的下载的安装包及cache</span><br></pre></td></tr></table></figure>



<h4 id="分享环境"><a href="#分享环境" class="headerlink" title="分享环境"></a>分享环境</h4><p>如果你想把你当前的环境分享给朋友，让对方也可以快速拥有一个和你相同的环境（相同的版本和包），那么就给TA一个当前环境的<code>.yml</code>文件。</p>
<p>首先通过<code>activate target_env</code>要分享的环境<code>target_env</code>，然后输入以下命令，生成一个<code>.yml</code>文件</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">conda env export &gt; share_env.yml</span><br></pre></td></tr></table></figure>

<p>对方拿到后，放在指定目录下，然后通过命令创建该环境</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">conda env create -f share_env.yml</span><br></pre></td></tr></table></figure>

<p>如果你够厉害的话，这个文件完全可以手写，里面详细记录了每个包的名字和对应的版本号</p>
<h3 id="问题1：新建环境可解决"><a href="#问题1：新建环境可解决" class="headerlink" title="问题1：新建环境可解决"></a>问题1：新建环境可解决</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">发生异常: ImportError       (note: full exception trace is shown but execution is paused at: &lt;module&gt;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">IMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!</span><br><span class="line"></span><br><span class="line">Importing the numpy C-extensions failed. This error can happen <span class="keyword">for</span></span><br><span class="line">many reasons, often due to issues with your setup or how NumPy was</span><br><span class="line">installed.</span><br><span class="line"></span><br><span class="line">We have compiled some common reasons and troubleshooting tips at:</span><br><span class="line"></span><br><span class="line">    https://numpy.org/devdocs/user/troubleshooting-importerror.html</span><br><span class="line"></span><br><span class="line">Please note and check the following:</span><br><span class="line"></span><br><span class="line">  * The Python version is: Python3.8 from <span class="string">&quot;D:\Java\Python\Anaconda3\envs\HelloPython38\python.exe&quot;</span></span><br><span class="line">  * The NumPy version is: <span class="string">&quot;1.20.1&quot;</span></span><br><span class="line"></span><br><span class="line">and make sure that they are the versions you expect.</span><br><span class="line">Please carefully study the documentation linked above <span class="keyword">for</span> further <span class="built_in">help</span>.</span><br><span class="line"></span><br><span class="line">Original error was: DLL load failed <span class="keyword">while</span> importing _multiarray_umath: 找不到指定的模块。</span><br><span class="line"></span><br><span class="line">During handling of the above exception, another exception occurred:</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;H:\douyinVideo\视频拼接.py&quot;</span>, line 2, <span class="keyword">in</span> &lt;module&gt; (Current frame)</span><br><span class="line">    from moviepy.editor import VideoFileClip,concatenate_videoclips</span><br></pre></td></tr></table></figure>





<h3 id="requirements-txt使用"><a href="#requirements-txt使用" class="headerlink" title="requirements.txt使用"></a>requirements.txt使用</h3><p>许多Python项目中都包含了requirements.txt文件，该文件记录了当前程序的所有依赖包及其精确版本号。</p>
<ol>
<li><strong>生成requirement.txt文件</strong></li>
</ol>
<blockquote>
<p>pip freeze &gt; requirements.txt</p>
</blockquote>
<p><strong>安装requirement.txt文件依赖</strong></p>
<blockquote>
<p>pip install -r requirements.txt</p>
</blockquote>
<ol>
<li>除了使用pip命令来生成及安装requirement.txt文件以外，也可以使用<strong>conda命令来安装</strong>。</li>
</ol>
<blockquote>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">## conda install --yes --file requirements.txt</span><br><span class="line"></span><br><span class="line">conda install --name ksDjango3.<span class="number">8</span> autopep8 -y</span><br><span class="line">conda install --name p38 --file requirements.txt  -y </span><br><span class="line"></span><br></pre></td></tr></table></figure>


</blockquote>
<p>但是这里存在一个问题，如果requirements.txt中的包不可用，则会抛出“无包错误”。<br>使用下面这个命令可以解决这个问题</p>
<blockquote>
<p>$ while read requirement; do conda install –yes $requirement; done &lt; requirements.txt</p>
</blockquote>
<p>如果想要在conda命令无效时使用pip命令来代替，那么使用如下命令：</p>
<blockquote>
<p>$ while read requirement; do conda install –yes $requirement || pip install $requirement; done &lt; requirements.txt</p>
</blockquote>
<ol>
<li>也可以这样子操作</li>
</ol>
<p><strong>导出到.yml文件</strong></p>
<blockquote>
<p>conda env export &gt; freeze.yml</p>
</blockquote>
<p><strong>直接创建conda环境</strong></p>
<blockquote>
<p>conda env create -f freeze.yml</p>
</blockquote>
<p>Reference：<br><a href="https://stackoverflow.com/questions/35802939/install-only-available-packages-using-conda-install-yes-file-requirements-t">Install only available packages using “conda install –yes –file requirements.txt” without error</a></p>
<p><img src="C:/Users/HelloWorld/AppData/Roaming/Typora/typora-user-images/image-20211020161426340.png" alt="image-20211020161426340"></p>
<h3 id="添加已安装的应用"><a href="#添加已安装的应用" class="headerlink" title="添加已安装的应用"></a>添加已安装的应用</h3><p>如果已经安装Pycharm Community和Vscode（这个会自动识别）；可以把Pycharm社区版手动添加到Anaconda Navigator里面</p>
<p>File -&gt; Preference -&gt; PyCharm CE path:”D:\Program Files\JetBrains\PyCharm Community Edition 2020.3.2”</p>
<p>MiniConda</p>
<p>Miniconda一个Conda的免费最小安装程序，它是Anaconda的小型启动程序版本，仅包含Python、Conda；最小的依赖包和少量的其他软件，属于精简版Conda；</p>
<h3 id="MiniConda下载地址-官方文档"><a href="#MiniConda下载地址-官方文档" class="headerlink" title="MiniConda下载地址/官方文档"></a><a href="https://docs.conda.io/en/latest/miniconda.html">MiniConda下载地址/官方文档</a></h3><p>选择建议</p>
<p>如果选择Anaconda，则：</p>
<ul>
<li>是Conda或Python新手；</li>
<li>完全集成的环境安装大量软件包</li>
<li>多余的磁盘空间（占用大约3G）和节省安装插件或配置的时间；</li>
<li>不想单独安装每个所用的包或解决包依赖关系。</li>
</ul>
<h2 id="自动导入"><a href="#自动导入" class="headerlink" title="自动导入"></a>自动导入</h2><p>装一下这个插件，在 TS 和 TSX 模块中可用。<br><img src="https://img-blog.csdnimg.cn/3df240aad870487f9a8ac127a3df6b2f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQ4Nzc4Mg==,size_16,color_FFFFFF,t_70" alt="请添加图片描述"><br>例如在这边导出一个 <code>compose</code> 函数：<br><img src="https://img-blog.csdnimg.cn/2086cad42d144b8aa0ac13b34f3b23ef.png" alt="请添加图片描述"><br>在另一个模块中输入 <code>compose</code> 然后按回车：<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110251532711.png" alt="请添加图片描述"><br>即可自动导入：<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110251532102.png" alt="请添加图片描述"></p>
<h1 id="python-pip-安装-requirements-txt-报错"><a href="#python-pip-安装-requirements-txt-报错" class="headerlink" title="python pip 安装 requirements.txt 报错"></a><a href="https://segmentfault.com/a/1190000040128988">python pip 安装 requirements.txt 报错</a></h1><p><a href="https://segmentfault.com/u/ponponon"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2132139767-5c000091a1baa_huge128" alt="img"><strong>ponponon</strong></a>发布于 6 月 6 日</p>
<p><a href="https://segmentfault.com/a/1190000040128988/en">English</a></p>
<h1 id="错误描述"><a href="#错误描述" class="headerlink" title="错误描述"></a>错误描述</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install requirements.txt </span><br><span class="line">Defaulting to user installation because normal site-packages is not writeable</span><br><span class="line">ERROR: Could not find a version that satisfies the requirement requirements.txt (from versions: none)</span><br><span class="line">ERROR: No matching distribution found <span class="keyword">for</span> requirements.txt</span><br><span class="line">vagrant@vagrant:/vagrant$ sudo pip install requirements.txt </span><br></pre></td></tr></table></figure>

<h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>少了 <code>-r</code> 参数，换成如下命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install -r requirements.txt </span><br></pre></td></tr></table></figure>

<p><a href="https://segmentfault.com/t/python"><img src="https://avatar-static.segmentfault.com/252/177/2521771040-54cb53b372821_small" alt="img">python</a></p>
<p>阅读 1.3k发布于 6 月 6 日</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Anaconda</tag>
      </tags>
  </entry>
  <entry>
    <title>Git安装教程（2.30.1详细教程）</title>
    <url>/2021/11/10/cl449bvvd000eb4bheh7zbs63/</url>
    <content><![CDATA[<h1 id="Git安装教程（2-30-1详细教程）"><a href="#Git安装教程（2-30-1详细教程）" class="headerlink" title="Git安装教程（2.30.1详细教程）"></a>Git安装教程（2.30.1详细教程）</h1><p><strong>发表于 2021-02-22 10:36阅读：32103评论：5推荐：17</strong></p>
<p><a href="https://www.cnblogs.com/hdlan/category/1930763.html">GIT</a><a href="https://www.cnblogs.com/hdlan/tag/git/">GIT</a></p>
<p>This blog has running : 429 d 13 h 56 m 5 sღゝ◡╹)ノ♡</p>
<p>Copyright © 2021 hdlan Powered by .NET 6 on Kubernetes</p>
<p>Theme version: <a href="https://github.com/BNDong/Cnblogs-Theme-SimpleMemory/tree/v1.3.3">v1.3.3</a> / Loading theme version: [v1.3.3](</p>
<p><strong>一、下载Git：</strong></p>
<p>官网地址： <a href="https://git-scm.com/download/win">https://git-scm.com/download/win</a> （当前新版本2.30.1） </p>
<p>历史版本下载地址： <a href="https://npm.taobao.org/mirrors/git-for-windows/">https://npm.taobao.org/mirrors/git-for-windows/</a> </p>
<p><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210105131926-1082521164.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2144260-20210210105131926-1082521164.png" alt="img"></a></p>
<hr>
<p> 二、开始安装：</p>
<p><strong>1、打开安装包</strong></p>
<p> <a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210110122205-740598986.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2144260-20210210110122205-740598986.png" alt="img"></a></p>
<p><strong>2、下一步路径选择</strong></p>
<p><strong><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210110412091-2143232084.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210110412091-2143232084.png" alt="img"></a></strong></p>
<p>我选择的是d:\Program Files\Git</p>
<p><strong>3、组件选择</strong></p>
<p><strong><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210113320011-1083302901.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2144260-20210210113320011-1083302901.png" alt="img"></a></strong></p>
<p> <strong>我选的配置请看图，可以自选</strong></p>
<p> <a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210113406153-386662195.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2144260-20210210113406153-386662195.png" alt="img"></a></p>
<p> <strong>4、开始菜单快<strong><strong>捷</strong></strong>方式目录：设置开始菜单中快捷方式的目录名称, 也可以选择不在开始菜单中创建快捷方式。</strong></p>
<p><strong><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210113631575-566257454.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2144260-20210210113631575-566257454.png" alt="img"></a></strong></p>
<p> <strong>5、选择编辑器 默认VIM</strong></p>
<p><strong><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210113909054-757908772.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210113909054-757908772.png" alt="img"></a></strong></p>
<p> 我是默认编辑器Vim</p>
<p><strong>6、调整新存储库中初始分支的名称</strong></p>
<p><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210115203663-483889719.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2144260-20210210115203663-483889719.png" alt="img"></a></p>
<p>我选择默认</p>
<p> <strong>7、设置GIT的PATH环境</strong></p>
<p>选择使用什么样的命令行工具，一般情况下我们使用的是第二种方式他是支持第三方：</p>
<p><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210120014893-1272730525.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210120014893-1272730525.png" alt="img"></a></p>
<p> <strong>8、传输方式</strong></p>
<p><strong><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210120337224-509575570.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210120337224-509575570.png" alt="img"></a></strong></p>
<p> <strong>9、配置提交行尾符号转换</strong></p>
<p><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210121202477-1320249784.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210121202477-1320249784.png" alt="img"></a></p>
<p> 忘记了图上标推荐，推荐默认选项：就是第一个</p>
<p><strong>10、配置终端模拟器以与Git Bash一起使用</strong></p>
<p><strong><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210121452435-945772181.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210121452435-945772181.png" alt="img"></a></strong></p>
<p> <strong>11、选择git仓库获取最新的分支</strong></p>
<p><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210133311877-450920230.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210133311877-450920230.png" alt="img"></a></p>
<p> <strong>12、选择凭据助手</strong></p>
<p><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210133701956-1990022307.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210133701956-1990022307.png" alt="img"></a></p>
<p> <strong>13、额外配置选项</strong></p>
<p> <a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210134137872-1658702291.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210134137872-1658702291.png" alt="img"></a></p>
<p> <strong>14、配置实验选项</strong></p>
<p> <a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210134507526-924288192.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210134507526-924288192.png" alt="img"></a></p>
<p> <strong>15、安装等待</strong></p>
<p><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210134536450-899108863.png"><img src="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210134536450-899108863.png" alt="img"></a></p>
<p> 16、完成安装</p>
<p><a href="https://img2020.cnblogs.com/blog/2144260/202102/2144260-20210210134744104-1086447901.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2144260-20210210134744104-1086447901.png" alt="img"></a></p>
<p> <strong>好了以上是git2.30.1安装过程，安装之后如何关联github仓库请看另外一篇 <a href="https://www.cnblogs.com/hdlan/p/14395681.html">（git连接github仓库）</a></strong></p>
<p> <a href="https://news.cnblogs.com/)https://github.com/BNDong/Cnblogs-Theme-SimpleMemory/tree/v1.3.3">https://news.cnblogs.com/)https://github.com/BNDong/Cnblogs-Theme-SimpleMemory/tree/v1.3.3</a>)</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>MUyangit的Vscode设置     </title>
    <url>/2021/09/16/cl449bvvh000gb4bh7q4869u4/</url>
    <content><![CDATA[<p>界面设置</p>
<h1 id="1·vscode-隐藏右侧进度条-小地图预览"><a href="#1·vscode-隐藏右侧进度条-小地图预览" class="headerlink" title="1·vscode 隐藏右侧进度条-小地图预览"></a>1·vscode 隐藏右侧进度条-小地图预览</h1><p>Visual Studio Code（VSCode）关闭右侧预览功能</p>
<p>关闭方法：点击文件-首选项-设置,搜索”editor.minimap.enabled”,默认值为打钩,我们只需要把钩去掉即可；</p>
<p><img src="https://i.loli.net/2021/09/16/Uu1YWNrZqp2FEtd.jpg" alt="img"></p>
<h1 id="2·调出菜单栏"><a href="#2·调出菜单栏" class="headerlink" title="2·调出菜单栏"></a>2·调出菜单栏</h1><h1 id="3·VScode如何在浏览器中打开html文件"><a href="#3·VScode如何在浏览器中打开html文件" class="headerlink" title="3·VScode如何在浏览器中打开html文件"></a>3·VScode如何在浏览器中打开html文件</h1><p>1.新建一个HTML文件</p>
<p>2.点击左侧的扩展，打开扩展栏</p>
<p>3.在扩展栏的搜索栏中输入open in browser，找到open in browser这款插件，点击右下角“安装”字样即可安装。</p>
<p>因为我已经安装了，所以再搜索不会显示安装字样</p>
<p>4.安装完成后可以看一下这款插件的扩展文档，里面有插件的各种信息，及插件的使用方式等</p>
<p>我们可以看到在默认浏览器中打开是：Alt + B，在其他浏览器中显示是：Shift+Alt+B</p>
<p>5.回到我们刚开始建的HTML文件，在文件中鼠标右键单击，在弹出的窗口中选择使用默认浏览器打开或者其他浏览器打开，也可以使用我们上面说的快捷键（Alt + B或Shift+Alt+B）打开。</p>
<p>6.假如你想用其他浏览器打开，就选择Open In Other Browsers（Shift+Alt+B，顶部会出现一个命令框，其中会显示可以使用的浏览器，选择自己需要的浏览器即可，在此，我们使用chrome打开。</p>
<p><img src="https://i.loli.net/2021/09/16/cIminsXvBawuUR3.png" alt="image-20210916175015037"></p>
<h2 id="VSCode设置网页代码实时预览"><a href="#VSCode设置网页代码实时预览" class="headerlink" title="VSCode设置网页代码实时预览"></a>VSCode设置网页代码实时预览</h2><p><img src="https://i.loli.net/2021/09/16/lV6MpTfoYqGPj9r.png" alt="img"></p>
<p><img src="https://i.loli.net/2021/09/16/JC94wKZe3p1OlUE.png" alt="img"></p>
<p>接下来修改代码我们只需要ctrl+S保存修改后的代码，浏览器自动刷新</p>
<h1 id="VScode中配置git的路径"><a href="#VScode中配置git的路径" class="headerlink" title="VScode中配置git的路径"></a><a href="https://segmentfault.com/a/1190000021898415">VScode中配置git的路径</a></h1><p><a href="https://segmentfault.com/u/radiomm_5d22c22757383"><img src="https://avatar-static.segmentfault.com/781/199/781199053-5f0eb6886d467_huge128" alt="img"><strong>RadiomM</strong></a>发布于 2020-03-03</p>
<p>最近才开始用VScode写代码，因为之前用的都是webstorm的，虽然好用啊但是经常需要激活，而且激活码变得越来越难找的，所以就改用VScode的。</p>
<p>开始进入主题。今天装完插件Gitlens的时候报错了，说找不到git的路径。<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110220001632.png" alt="2020-03-03_111734.png"></p>
<p>经过十几分钟的百度，终于知道如何配置了git的路径了（前提是你电脑已经安装好了git）。<br>1.打开vs的设置<br><img src="https://segmentfault.com/img/bVbD2UW" alt="2020-03-03_112425.png"></p>
<p>2.搜索git.path，冰灾setting.json中打开<br><img src="https://segmentfault.com/img/bVbD2Vb" alt="2020-03-03_112509.png"></p>
<p>3.找到你的git.exe的位置，如图这是我的git.exe的位置，将地址复制。<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110220001878.png" alt="2020-03-03_112600.png"></p>
<p>4.直接复制在setting.json中<br><img src="https://segmentfault.com/img/bVbD2Vx" alt="2020-03-03_112633.png"></p>
<p>明显这是个报错，不能用单斜杠，而是用双斜杠。<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110220001544.png" alt="2020-03-03_112652.png"></p>
<p>好了，重启VScode就不会报错了，并且可以使用Gitlens的功能了。希望能帮助大家少踩坑，如果有帮助希望点了赞，谢谢。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110220003368.png" alt="image-20211022000351300"></p>
<h1 id="在项目中无法正确导入VS-code-python-环境下提示找不到-module"><a href="#在项目中无法正确导入VS-code-python-环境下提示找不到-module" class="headerlink" title="在项目中无法正确导入VS code python 环境下提示找不到 module"></a>在项目中无法正确导入VS code python 环境下提示找不到 module</h1><p>{<br>    // 使用 IntelliSense 了解相关属性。<br>    // 悬停以查看现有属性的描述。<br>    // 欲了解更多信息，请访问: <a href="https://go.microsoft.com/fwlink/?linkid=830387">https://go.microsoft.com/fwlink/?linkid=830387</a><br>    “version”: “0.2.0”,<br>    “configurations”: [</p>
<pre><code>    &#123;
       &quot;name&quot;: &quot;Python&quot;,
        &quot;type&quot;: &quot;python&quot;,
        &quot;request&quot;: &quot;launch&quot;,
        &quot;stopOnEntry&quot;: false,
        &quot;pythonPath&quot;: &quot;$&#123;config:python.pythonPath&#125;&quot;,
        &quot;program&quot;: &quot;$&#123;file&#125;&quot;,
        &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;,
        &quot;env&quot;: &#123;&quot;PYTHONPATH&quot;:&quot;$&#123;workspaceRoot&#125;&quot;&#125;,
        &quot;envFile&quot;: &quot;$&#123;workspaceRoot&#125;/.env&quot;,
        &quot;debugOptions&quot;: [
        &quot;WaitOnAbnormalExit&quot;,
        &quot;WaitOnNormalExit&quot;,
        &quot;RedirectOutput&quot;

    &#125;
]
</code></pre>
<p>}</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title> Markdown转换word（两种方法，实现两者互转）非原创    </title>
    <url>/2021/09/25/cl449bvvu000kb4bhfnfi42uw/</url>
    <content><![CDATA[<h1 id="Markdown转换word（两种方法，实现两者互转）非原创"><a href="#Markdown转换word（两种方法，实现两者互转）非原创" class="headerlink" title="Markdown转换word（两种方法，实现两者互转）非原创"></a>Markdown转换word（两种方法，实现两者互转）非原创</h1><p>来自<a href="https://blog.csdn.net/weixin_43314519">Hi丶ImViper</a> 2020-06-15 17:15:43 <img src="H:/MuyanGitBlog/MuyanGit/source/_posts/articleReadEyes-163250913096526.png" alt="img"> 3113 <img src="H:/MuyanGitBlog/MuyanGit/source/_posts/tobarCollect-163250913096528.png" alt="img"> 收藏 8</p>
<p>分类专栏： <a href="https://blog.csdn.net/weixin_43314519/category_10066504.html">Tools</a> 文章标签： <a href="https://www.csdn.net/tags/MtzaYgwsMzEzMy1ibG9n.html">git</a> <a href="https://www.csdn.net/tags/MtzaUg4sNDIwOC1ibG9n.html">github</a> <a href="https://www.csdn.net/tags/MtTaEg0sNTAxMTMtYmxvZwO0O0OO0O0O.html">windows</a> <a href="https://www.csdn.net/tags/MtTaEg0sMjI3NDgtYmxvZwO0O0OO0O0O.html">markdown</a></p>
<h1 id="Markdown转换成word"><a href="#Markdown转换成word" class="headerlink" title="Markdown转换成word"></a>Markdown转换成word</h1><p>Typora+pandoc就可以简单的实现Markdown转换成word啦！</p>
<p>在日常使用过程中，需要用到其他的格式，typora默认支持 .md文件转 .pdf与 .html格式，其余的常见格式需要使用 pandoc扩展程序来支持。</p>
<h2 id="Typora安装"><a href="#Typora安装" class="headerlink" title="Typora安装"></a>Typora安装</h2><p>1.打开Typora的官网：</p>
<p>打开链接如下所示：下滑，选择适合自己系统的安装包。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20210925025131140.png" alt="image-20210925025131140"></p>
<p>2.下载完成后打开exe文件安装即可。可以简单测试一下</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/70.gif" alt="img"></p>
<h2 id="pandoc安装"><a href="#pandoc安装" class="headerlink" title="pandoc安装"></a>pandoc安装</h2><p>1.pandoc官网获取安装包：<a href="https://github.com/jgm/pandoc/releases/tag/2.2.1">https://github.com/jgm/pandoc/releases/tag/2.2.1</a><br>进入官网如下所示：选择适合自己系统的安装包(博主选择的是win-64位的.msi)</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/70.gif" alt="这里写图片描述"></p>
<p><strong>说明：</strong></p>
<p>因为github的服务器在国外，所以下载的速度可能会非常慢。或者链接超时，这里提供一个百度云链接。</p>
<p>链接：<a href="https://pan.baidu.com/s/1RmODxICewSbii5Bc_VjNOg">https://pan.baidu.com/s/1RmODxICewSbii5Bc_VjNOg</a> 密码：346h</p>
<p>2.安装：</p>
<p> 双击安装，一路默认就可以了。安装完成之后测试一下安装结果。</p>
<p> 打开cmd控制台，输入<code>pandoc –-version</code>，出现以下结果则说明安装成功。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20200615171458745.png" alt="在这里插入图片描述"></p>
<h2 id="使用Typora测试导出word"><a href="#使用Typora测试导出word" class="headerlink" title="使用Typora测试导出word"></a>使用Typora测试导出word</h2><p><strong>说明：</strong><br>在安装完pandoc之后，执行导出word功能时还是提示安装pandoc，此时可重新启动电脑，或者卸载typora，然后再安装–再开始导出word文件。<br>完成上述操作之后，将可以方便的使用pandoc的.md转其他格式。<br>在前面使用Typora随便写了一个.md文件，现在进行导出word。<br>1：.md文件(原始文件)点击左上角文件，选择导出，选择word格式，则可以导出word文档。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/70-16325090430439" alt="这里写1图片描述"></p>
<h1 id="word转换为Markdown"><a href="#word转换为Markdown" class="headerlink" title="word转换为Markdown"></a>word转换为Markdown</h1><h2 id="下载并安装Writage"><a href="#下载并安装Writage" class="headerlink" title="下载并安装Writage"></a>下载并安装Writage</h2><p>1.打开网站<a href="http://www.writage.com,点击download/">www.writage.com，点击download</a> now开始下载。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzMxNDUxOQ==,size_16,color_FFFFFF,t_70.png" alt="在这里插入图片描述"></p>
<p>2.运行安装程序，按照默认选项即可。安装完成后重启电脑。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzMxNDUxOQ==,size_16,color_FFFFFF,t_70-163250904304411" alt="在这里插入图片描述"><br>3.使用office word新建或打开任意一个文档，在文件 菜单栏下选另存为，查看保存类型中是否有Markdown格式。</p>
<p>，查看保存类型中是否有Markdown格式。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzMxNDUxOQ==,size_16,color_FFFFFF,t_70-163250904304412" alt="在这里插入图片描述"></p>
<p>4.选择Markdown格式保存即可。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>NET.core在vscode配置</title>
    <url>/2021/11/16/cl449bvvw000ob4bhbw7e8xab/</url>
    <content><![CDATA[<p>如何在多个.NET Core SDK 版本之间进行切换(global.json) _ The Will Will Web</p>
<h2 id="如何在多個-NET-Core-SDK-版本之間進行切換-global-json-分享"><a href="#如何在多個-NET-Core-SDK-版本之間進行切換-global-json-分享" class="headerlink" title="如何在多個 .NET Core SDK 版本之間進行切換 (global.json)分享"></a><a href="https://blog.miniasp.com/post/2018/04/19/How-to-switch-between-DotNet-SDK-versions">如何在多個 .NET Core SDK 版本之間進行切換 (global.json)</a>分享</h2><p>2018/04/20 05:41 <a href="https://blog.miniasp.com/author/will">Will 保哥</a> <a href="https://blog.miniasp.com/category/NET-Core">.NET Core</a></p>
<p><a href="https://www.duotify.com/contact.html"><img src="https://blog.miniasp.com/Custom/Themes/Standard-2015/images/choose_the_right_partner3.png" alt="img"></a></p>
<p>由於同一台電腦可以安裝多個版本的 .NET Core SDK，每個版本的 SDK 都會包含完整的工具組、執行環境、組件庫與編譯器等等，所以蠻多人詢問過我這個問題：「當安裝了許多不同版本的 .NET Core SDK 之後，要如何才能使用舊版 <a href="https://docs.microsoft.com/zh-tw/dotnet/core/tools/dotnet?tabs=netcore2x&WT.mc_id=DT-MVP-4015686">dotnet</a> 命令，執行 <strong>dotnet new</strong> 或 <strong>dotnet build</strong> 之類的命令。」這部分其實並不困難，只要設定 <a href="https://docs.microsoft.com/zh-tw/dotnet/core/tools/global-json?WT.mc_id=DT-MVP-4015686">global.json</a> 即可。</p>
<p>在 .NET Core 2.0 版以前，要查詢目前電腦所有安裝過的 SDK 版本，如果在 Windows 作業系統，可以透過控制台的「應用程式與功能」查看安裝過的 .NET Core SDK 版本，或是透過檔案總管開啟 C:\Program Files\dotnet\sdk 資料夾，查看有哪些版本。如果在 Linux 作業系統下，路徑則在 /usr/share/dotnet/sdk 目錄下。</p>
<p><a href="https://blog.miniasp.com/image.axd?picture=image_3110.png"><img src="https://blog.miniasp.com/image.axd?picture=image_thumb_242.png" alt="image"></a></p>
<p>但是從 .NET Core SDK 2.1 開始，預設的 <strong>dotnet</strong> 命令就包含了 <strong>dotnet –list-sdks</strong> 命令，直接可以列出所有已安裝過的版本。</p>
<p><a href="https://blog.miniasp.com/image.axd?picture=image_3111.png"><img src="https://blog.miniasp.com/image.axd?picture=image_thumb_243.png" alt="img"></a></p>
<p>查詢已經安裝過 SDK 版本號是非常重要的，當你想透過 <strong>global.json</strong> 切換 SDK 版本的時候，必須手動輸入這些已安裝的版本號。</p>
<p>首先，我們先來示範如何快速建立 <strong>global.json</strong> 檔案：</p>
<p>\1. 先利用 <strong>dotnet new globaljson</strong> 快速建立這個檔案</p>
<ul>
<li>預設這個檔案會記錄當前目錄要使用的 .NET Core SDK 版本</li>
<li>預設的 SDK 會等同於目前執行 dotnet 命令時所用的 SDK 版本一致<br><a href="https://blog.miniasp.com/image.axd?picture=image_3112.png"><img src="https://blog.miniasp.com/image.axd?picture=image_thumb_244.png" alt="img"></a></li>
</ul>
<p>\2. 然後將 <strong>global.json</strong> 檔案內的 “version” 修改為特定 SDK 版本即可</p>
<ul>
<li>如下圖示<br><a href="https://blog.miniasp.com/image.axd?picture=image_3113.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image.axd" alt="img"></a></li>
</ul>
<p>或者是你也可以利用 <strong>–sdk-version</strong> 參數，直接給定 SDK 版本，如下圖示：</p>
<p><a href="https://blog.miniasp.com/image.axd?picture=image_3114.png"><img src="https://blog.miniasp.com/image.axd?picture=image_thumb_246.png" alt="img"></a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">dotnet new globaljson --sdk-version 2.1.805</span><br></pre></td></tr></table></figure>

<p><strong>請注意：</strong>在執行 <strong>dotnet</strong> 命令的時候，它會自動找尋<strong>當前目錄</strong>與<strong>上層目錄</strong>的 <strong>global.json</strong> 檔案，這裡的<strong>上層目錄</strong>會一直往上找，找到<strong>根目錄</strong>為止！如果都找不到 <strong>global.json</strong> 就會預設選用目前所有已安裝 .NET Core SDK 的最新版。</p>
<p>一般來說，每一個透過 .NET Core 開發的專案，都不太需要 <strong>global.json</strong> 檔案的存在，因為隨著每次 .NET Core 版本升級，可以讓該專案永遠以「最新版 SDK」進行建置或發行。但是如果你還是擔心會有破壞性更新出現的話，這時你就可以建立一個 <strong>global.json</strong> 定義檔，將使用的 .NET Core SDK 鎖定在特定版本，以確保應用系統的穩定。</p>
<p><strong>相關連結</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/core/tools/global-json?WT.mc_id=DT-MVP-4015686">global.json reference | Microsoft Docs</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/core/tools/global-json?WT.mc_id=DT-MVP-4015686">global.json 參考 | Microsoft Docs</a></li>
</ul>
<p>set 限制解除 </p>
<p><a href="https://www.cnblogs.com/"><img src="https://www.cnblogs.com/images/logo.svg?v=R9M0WmLAIPVydmdzE2keuvnjl-bPR7_35oHqtiBzGsM" alt="博客园Logo"></a><a href="https://www.cnblogs.com/">首页</a><a href="https://news.cnblogs.com/">新闻</a><a href="https://q.cnblogs.com/">博问</a><a href="https://brands.cnblogs.com/">专区</a><a href="https://ing.cnblogs.com/">闪存</a><a href="https://edu.cnblogs.com/">班级</a><img src="https://www.cnblogs.com/images/aggsite/search.svg" alt="搜索"><a href="https://account.cnblogs.com/signup/">注册</a>登录</p>
<p><a href="https://www.cnblogs.com/linezero/"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/logo.gif" alt="返回主页"></a></p>
<h1 id="LineZero’s-Blog"><a href="#LineZero’s-Blog" class="headerlink" title="LineZero’s Blog"></a><a href="https://www.cnblogs.com/linezero/">LineZero’s Blog</a></h1><h2 id="做自己！简单即幸福即快乐。"><a href="#做自己！简单即幸福即快乐。" class="headerlink" title="做自己！简单即幸福即快乐。"></a>做自己！简单即幸福即快乐。</h2><ul>
<li><a href="https://www.cnblogs.com/">博客园</a></li>
<li><a href="https://www.cnblogs.com/linezero/">首页</a></li>
<li></li>
<li></li>
<li>订阅</li>
<li><a href="https://i.cnblogs.com/">管理</a></li>
</ul>
<p>随笔 - 100 文章 - 0 评论 - 1036 阅读 - 110万</p>
<h1 id="使用VS-Code从零开始开发调试-NET-5"><a href="#使用VS-Code从零开始开发调试-NET-5" class="headerlink" title="使用VS Code从零开始开发调试.NET 5"></a><a href="https://www.cnblogs.com/linezero/p/14300097.html">使用VS Code从零开始开发调试.NET 5</a></h1><p>使用VS Code 从零开始开发调试.NET 5。无需安装VS 2019即可开发调试.NET 5应用。</p>
<p>VS Code 全称是 Visual Studio Code，Visual Studio Code是一个轻量级的跨平台Web集成开发环境，可以运行在 Linux，Mac 和Windows下！</p>
<p>本篇为VS Code 开发调试.NET 5教程，在Windows下做实际操作，但同样适用于其它系统。</p>
<h2 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h2><p>本文演示开发环境: WIN10 x64 Visual Studio Code 1.55.1</p>
<p>.NET 5.0 SDK Windows x64 Installer:</p>
<p><a href="https://dotnet.microsoft.com/download/dotnet/thank-you/sdk-5.0.202-windows-x64-installer">https://dotnet.microsoft.com/download/dotnet/thank-you/sdk-5.0.202-windows-x64-installer</a></p>
<p>更多系统版本下载：<a href="https://dotnet.microsoft.com/download">https://dotnet.microsoft.com/download</a></p>
<p>VSCode :</p>
<p><a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></p>
<p>VSCode C#插件：</p>
<p>打开扩展搜索C#， 选择C# 安装。</p>
<p> <img src="https://img2020.cnblogs.com/blog/443844/202101/443844-20210119210634558-2041137445.png" alt="img"></p>
<p>安装好插件以后重启VS Code。</p>
<h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p>首先确保 .NET Core SDK 安装成功。</p>
<p>dotnet –version</p>
<p>输出如下：</p>
<p>5.0.202</p>
<p>然后就可以创建项目。</p>
<blockquote>
<p>dotnet new console -o myapp</p>
<p>cd myapp</p>
<p>dotnet run</p>
</blockquote>
<p><img src="https://img2020.cnblogs.com/blog/443844/202101/443844-20210119211155824-156662802.png" alt="img"></p>
<p>整个命令执行完成，项目就创建好了。 dotnet new会默认执行 dotnet restore ，只需要dotnet run即可。</p>
<h2 id="使用-VS-Code-开发"><a href="#使用-VS-Code-开发" class="headerlink" title="使用 VS Code 开发"></a>使用 VS Code 开发</h2><p>使用 VS Code 打开myapp文件夹，打开Program.cs 文件</p>
<p>如果是首次打开需耐心等待插件的安装。安装成功如下图：</p>
<p> <img src="https://img2020.cnblogs.com/blog/443844/202101/443844-20210119211410010-338956512.png" alt="img"></p>
<p>然后稍微等待一下，会出现如上图所示，提示 Required assets to build and debug are missing from ‘myapp’. Add them?，选择Yes 即可。</p>
<p>插件会自动生成.vscode文件夹，并为我们配置好 launch.json 。</p>
<h2 id="使用-VS-Code-调试"><a href="#使用-VS-Code-调试" class="headerlink" title="使用 VS Code 调试"></a>使用 VS Code 调试</h2><p>接下来切换到调试窗口就可以进行调试，点击调试按钮</p>
<p>下断点成功断下。</p>
<p> <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/443844-20210119212646090-1244043507.png" alt="img"></p>
<p><strong>F10 单步跳过 F11 单步调试 F5 执行.</strong></p>
<p>也可以选择附加调试，如下：</p>
<p>代码加入 Console.ReadKey();</p>
<p>然后在终端中执行 <strong>dotnet .\bin\Debug\net5.0\myapp.dll</strong></p>
<p>接着在调试中切换为 <strong>.NET Core Attach</strong> 点击调试按钮，选择 dotnet.exe</p>
<p><img src="https://img2020.cnblogs.com/blog/443844/202104/443844-20210411155511487-787270754.png" alt="img"></p>
<p>在VS Code中插入断点，然后终端输入任意键既可继续，程序也能正常走到调试状态。</p>
<p><img src="https://img2020.cnblogs.com/blog/443844/202104/443844-20210411155627704-506106542.png" alt="img"></p>
<p>可以很方便的编写代码，C#插件为开发提供智能提示功能。这样不用安装VS 2019 也可以开发 .NET 5。</p>
<h2 id="VS-Code插件"><a href="#VS-Code插件" class="headerlink" title="VS Code插件"></a>VS Code插件</h2><h3 id="外观类插件"><a href="#外观类插件" class="headerlink" title="外观类插件"></a>外观类插件</h3><p>主题插件 GitHub Theme</p>
<p><img src="https://img2020.cnblogs.com/blog/443844/202104/443844-20210411144834533-1622839391.png" alt="img"></p>
<p> 更多主题可以搜索Theme</p>
<p>Icon 图标插件： vscode-icons</p>
<h3 id="开发类插件"><a href="#开发类插件" class="headerlink" title="开发类插件"></a>开发类插件</h3><p>Visual Studio IntelliCode 编码智能提示</p>
<p>REST Client 接口请求神器</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p>　　<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><br>POST https:<code>//example</code>.com<code>/comments` `HTTP</code>/1<code>.1</code>content-<code>type</code>: application<code>/json` `&#123;</code>  <code>&quot;name&quot;</code>: <code>&quot;sample linezero&quot;</code>,<code>  </code>“time”<code>: </code>“Wed, 21 Oct 2020 18:27:50 GMT”``}</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Thunder Client 像PostMan 一样请求接口</span><br><span class="line"></span><br><span class="line">![img](https://img2020.cnblogs.com/blog/443844/202104/443844-20210411154311106-1437423367.png)</span><br><span class="line"></span><br><span class="line">vscode-solution-explorer 像VS一样操作项目</span><br><span class="line"></span><br><span class="line">![img](https://img2020.cnblogs.com/blog/443844/202104/443844-20210411160530623-1597839623.png)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">ASP.NET Core 3.1 新书发布 《[ASP.NET Core项目开发实战入门](https://item.jd.com/12961032.html)》 [京东](https://item.jd.com/12961032.html) [当当](http://product.dangdang.com/29122210.html) [淘宝](https://s.taobao.com/search?q=9787121393846)</span><br><span class="line"></span><br><span class="line">GitHub：https://github.com/linezero</span><br><span class="line"></span><br><span class="line">博客示例代码GitHub：https://github.com/linezero/Blog</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="项目名字-name-里有-python-的"><a href="#项目名字-name-里有-python-的" class="headerlink" title="项目名字(name)里有 python 的"></a>项目名字(name)里有 python 的</h1><p>in:name python</p>
<h1 id="名字-name-里有-python-的并且-stars-大于-3000-的"><a href="#名字-name-里有-python-的并且-stars-大于-3000-的" class="headerlink" title="名字(name)里有 python 的并且 stars 大于 3000 的"></a>名字(name)里有 python 的并且 stars 大于 3000 的</h1><p>in:name python starts:&gt;3000</p>
<h1 id="名字-name-里有-python-的并且-stars-大于-3000-、forks-大于-200-的"><a href="#名字-name-里有-python-的并且-stars-大于-3000-、forks-大于-200-的" class="headerlink" title="名字(name)里有 python 的并且 stars 大于 3000 、forks 大于 200 的"></a>名字(name)里有 python 的并且 stars 大于 3000 、forks 大于 200 的</h1><p>in:name python starts:&gt;3000 forks:&gt;200</p>
<h1 id="详情-readme-里面有-python-的并且-stars-大于-3000-的"><a href="#详情-readme-里面有-python-的并且-stars-大于-3000-的" class="headerlink" title="详情(readme)里面有 python 的并且 stars 大于 3000 的"></a>详情(readme)里面有 python 的并且 stars 大于 3000 的</h1><p>in:readme python starts:&gt;3000</p>
<h1 id="描述-description-里面有-python-的并且-stars-大于-3000-的"><a href="#描述-description-里面有-python-的并且-stars-大于-3000-的" class="headerlink" title="描述(description)里面有 python 的并且 stars 大于 3000 的"></a>描述(description)里面有 python 的并且 stars 大于 3000 的</h1><p>in:description python starts:&gt;3000</p>
<h1 id="描述-description-里面有-python-的并且是-python-语言的"><a href="#描述-description-里面有-python-的并且是-python-语言的" class="headerlink" title="描述(description)里面有 python 的并且是 python 语言的"></a>描述(description)里面有 python 的并且是 python 语言的</h1><p>in:description python language:python</p>
<h1 id="描述-description-里面有-python-的并且-2019-12-20-号之后有更新过的"><a href="#描述-description-里面有-python-的并且-2019-12-20-号之后有更新过的" class="headerlink" title="描述(description)里面有 python 的并且 2019-12-20 号之后有更新过的"></a>描述(description)里面有 python 的并且 2019-12-20 号之后有更新过的</h1><p>in:description python pushed:&gt;2019-12-20</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```cmd</span><br><span class="line">注意重启</span><br></pre></td></tr></table></figure>







<p>查看源码-版本-项目还原</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211117171052405.png" alt="image-20211117171052405"></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>.NET Core</tag>
      </tags>
  </entry>
  <entry>
    <title> Python3读取写入json的中文乱码问题_SeniorZ的点滴记录-程序员信息网    </title>
    <url>/2021/10/23/cl449bvvy000rb4bhc1ldhdxi/</url>
    <content><![CDATA[<h2 id="Python3读取写入json的中文乱码问题-SeniorZ的点滴记录-程序员信息网"><a href="#Python3读取写入json的中文乱码问题-SeniorZ的点滴记录-程序员信息网" class="headerlink" title="Python3读取写入json的中文乱码问题_SeniorZ的点滴记录-程序员信息网"></a>Python3读取写入json的中文乱码问题_SeniorZ的点滴记录-程序员信息网</h2><p>技术标签： <a href="https://www.i4k.xyz/searchArticle?qc=Python&page=1">Python</a> <a href="https://www.i4k.xyz/copyright">https://www.i4k.xyz/copyright</a>)</p>
<p>问题1.中文写入json，但json文件中显示”\u6731\u5fb7\u57f9”,不是中文。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#中文写入json，但文件中显示&quot;\u6731\u5fb7\u57f9&quot;,不是中文。</span><br><span class="line"># encoding=&#x27;utf-8&#x27;，用于确保写入中文不乱码</span><br><span class="line">with open(filename,&#x27;w&#x27;,encoding=&#x27;utf-8&#x27;) as f_obj:</span><br><span class="line">    json.dump(username,f_obj)</span><br></pre></td></tr></table></figure>

<p>解决方法：加入ensure_ascii=False</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># encoding=&#x27;utf-8&#x27;，用于确保写入中文不乱码</span><br><span class="line">with open(filename,&#x27;w&#x27;,encoding=&#x27;utf-8&#x27;) as f_obj:</span><br><span class="line">    # ensure_ascii=False，用于确保写入json的中文不发生乱码</span><br><span class="line">    json.dump(username,f_obj,ensure_ascii=False)</span><br></pre></td></tr></table></figure>

<p>问题2.当目标json文件内容为空时，出现</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">json.decoder.JSONDecodeError: Expecting value: line <span class="number">1</span> column <span class="number">1</span> (char <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>解决方法：新增一个异常</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 当username.json为空，这里如果不加入 json.decoder.JSONDecodeError: 异常</span></span><br><span class="line"><span class="comment"># 会导致json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)</span></span><br><span class="line"><span class="keyword">except</span> json.decoder.JSONDecodeError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;文件内容是空的。&quot;</span>)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>NodeJs 的安装及配置环境变量</title>
    <url>/2021/11/10/cl449bvvz000vb4bhdc6zd98o/</url>
    <content><![CDATA[<p>set 限制解除 </p>
<h1 id="NodeJs-的安装及配置环境变量"><a href="#NodeJs-的安装及配置环境变量" class="headerlink" title="NodeJs 的安装及配置环境变量"></a>NodeJs 的安装及配置环境变量</h1><p><a href="https://blog.csdn.net/zimeng303">Alisone_li</a> 2021-01-04 10:56:24 </p>
<h3 id="NodeJs-的安装及配置环境变量-1"><a href="#NodeJs-的安装及配置环境变量-1" class="headerlink" title="NodeJs 的安装及配置环境变量"></a>NodeJs 的安装及配置环境变量</h3><ul>
<li><a href="https://blog.csdn.net/zimeng303/article/details/112167688#Nodejs__1">一、Node.js 下载与安装</a></li>
<li><a href="https://blog.csdn.net/zimeng303/article/details/112167688#Nodejs_31">二、Node.js环境变量配置</a></li>
<li><a href="https://blog.csdn.net/zimeng303/article/details/112167688#_79">三、国内镜像网站配置</a></li>
</ul>
<h1 id="一、Node-js-下载与安装"><a href="#一、Node-js-下载与安装" class="headerlink" title="一、Node.js 下载与安装"></a>一、Node.js 下载与安装</h1><p><strong>下载</strong></p>
<ol>
<li>在 <a href="https://nodejs.org/zh-cn/">Node官网</a> 上，下载对应的安装包<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210104083349537.png" alt="在这里插入图片描述"><br>这里下载的是 64位window系统 的安装文件 <code>node-v14.15.3-x64</code></li>
</ol>
<p><strong>安装</strong></p>
<ol>
<li><p>点击安装文件，开始安装 <code>node.js</code><br><img src="https://img-blog.csdnimg.cn/20210104083632728.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li><p>点击 Next (下一步)</p>
<p><strong>初次安装</strong><br><img src="https://img-blog.csdnimg.cn/20210104084514501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>已安装NodeJs，再次安装</strong><br><img src="https://img-blog.csdnimg.cn/20210104083942430.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li><p>勾选同意选项(I accept the terms …)，并点击 Next (下一步)<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210104085506611.png" alt="在这里插入图片描述"></p>
</li>
<li><p>选择node.js的安装目录，这里选择安装在E盘<br><img src="https://img-blog.csdnimg.cn/2021010408571977.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li><p>接着一直点击 Next (下一步) 到下面的界面<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210104090119293.png" alt="在这里插入图片描述"></p>
</li>
<li><p>点击 Install (安装)<br><img src="https://img-blog.csdnimg.cn/20210104090307991.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li><p>点击 Finish，完成安装<br><img src="https://img-blog.csdnimg.cn/20210104090426794.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li><p>使用 window + R 快捷键，启动 <code>cmd命令行</code> 验证 <code>node.js</code> 是否安装成功<br><img src="https://img-blog.csdnimg.cn/20210104092934341.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>出现以上情况，即表示安装成功</p>
</li>
</ol>
<h1 id="二、Node-js环境变量配置"><a href="#二、Node-js环境变量配置" class="headerlink" title="二、Node.js环境变量配置"></a>二、Node.js环境变量配置</h1><blockquote>
<ul>
<li>在上面已经完成了 <code>node.js</code> 的安装，即使不进行此步骤的环境变量配置也不影响node.js的使用</li>
<li>但是，若不进行环境变量配置，那么在使用命令安装 <code>node.js全局模块</code> （如：npm install -g vue）时，会默认安装到C盘的路径 (<code>C:\Users\hua\AppData\Roaming\npm</code>) 中</li>
<li>因此，需要配置 <strong>全局安装模块 <code>node_global</code></strong> 以及 <strong>缓存目录 <code>node_cache</code></strong> 的环境变量；</li>
</ul>
</blockquote>
<ol>
<li><p>在<strong>node.js的安装目录</strong>中，新建两个文件夹 <code>node_global</code> 和 <code>node_cache</code>，分别用来存放安装的全局模块和全局缓存信息<br><img src="https://img-blog.csdnimg.cn/20210104094550475.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li><p>创建完两个文件夹后，在cmd窗口中输入以下命令（两个路径即是两个文件夹的路径）：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 设置全局模块安装路径</span></span><br><span class="line">npm config <span class="built_in">set</span> prefix <span class="string">&quot;E:\leading\NodeJs\info\node_global&quot;</span></span><br><span class="line"><span class="comment"># 设置全局缓存存放路径</span></span><br><span class="line">npm config <span class="built_in">set</span> cache <span class="string">&quot;E:\leading\NodeJs\info\node_cache&quot;</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<p>命令执行，效果如图： <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210104095317507.png" alt="在这里插入图片描述"></p>
</li>
<li><p>设置电脑环境变量，环境变量界面打开顺序：<code>右键 “我的电脑”=》属性=》高级系统设置=》环境变量</code> ，具体实行过程，请看下图：<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210104100243947.png" alt="在这里插入图片描述"></p>
</li>
<li><p>进入环境变量对话框，在【系统变量】中新建环境变量 <code>NODE_PATH</code>，值为 <code>E:\leading\NodeJs\info\node_global\node_modules</code>，其中 <code>E:\leading\NodeJs\info\node_global</code> 是新创建的全局模块安装路径</p>
<p>eg:</p>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110225626509.png" alt="image-20211110225626509"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110225515117.png" alt="image-20211110225515117"></p>
<ol>
<li><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210104100859831.png" alt="在这里插入图片描述"></p>
</li>
<li><p>修改【用户变量】中的 <code>path</code> 变量，将 <code>C:\Users\86135\AppData\Roaming\npm</code> 修改为<code>E:\leading\NodeJs\info\node_global</code></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110225742011.png" alt="image-20211110225742011"></p>
<p>eg:</p>
<p><strong>修改前</strong><br><img src="https://img-blog.csdnimg.cn/20210104101707544.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>修改后</strong><br><img src="https://img-blog.csdnimg.cn/2021010410150955.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li><p>点击确定后，配置完成。</p>
</li>
<li><p>测试是否配置成功，在cmd窗口中输入以下指令 全局安装Vue模块</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">npm install <span class="literal">-g</span> vue <span class="comment"># -g 表示全局安装</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<p>执行效果，如图所示：<img src="https://img-blog.csdnimg.cn/20210104102133308.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>vue 模块安装目录，如图所示：<br><img src="https://img-blog.csdnimg.cn/2021010410231073.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbWVuZzMwMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>可以看出，node.js环境变量配置成功。</p>
</li>
<li><p>至此，node.js安装和环境变量配置全部完成。</p>
</li>
</ol>
<p><strong>注意</strong></p>
<blockquote>
<p>配置完，一定要重启，否则不生效</p>
<p>配置完，一定要重启，否则不生效</p>
<p>配置完，一定要重启，否则不生效</p>
</blockquote>
<h1 id="三、国内镜像网站配置"><a href="#三、国内镜像网站配置" class="headerlink" title="三、国内镜像网站配置"></a>三、国内镜像网站配置</h1><p>配置国内镜像，解决模块安装缓慢或者失败的问题。</p>
<p>一般配置 <code>淘宝npm镜像</code></p>
<p><strong>直接切换</strong></p>
<ol>
<li><p>在 cmd 命令行中，通过命令配置淘宝镜像</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">  npm install <span class="literal">-g</span> cnpm -<span class="literal">-registry</span>=https://registry.npm.taobao.org</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure></li>
<li><p>使用淘宝镜像下载模块，即，将 <code>npm</code> 替换成 <code>cnpm</code> 即可</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">  cnpm install <span class="comment"># module_name</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>切换工具</strong></p>
<p>上述切换镜像的方式比较麻烦。这里推荐一款切换镜像的工具：<code>nrm</code></p>
<ol>
<li><p>使用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm</span><br></pre></td></tr></table></figure>

<p>全局安装</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nrm</span><br></pre></td></tr></table></figure>

<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">npm install nrm <span class="literal">-g</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<p>执行命令，效果如下：</p>
</li>
<li><p>通过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nrm ls</span><br></pre></td></tr></table></figure>

<p>命令，查看npm的仓库列表，带</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*</span><br></pre></td></tr></table></figure>

<p>的就是当前选中的镜像仓库：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">nrm <span class="built_in">ls</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<p>执行命令，效果如下：</p>
</li>
<li><p>通过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nrm use taobao</span><br></pre></td></tr></table></figure>

<p>来指定要使用的镜像源：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">nrm use taobao</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<p>执行命令，效果如下：</p>
</li>
<li><p>最后，通过</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nrm test npm</span><br></pre></td></tr></table></figure>

<p>来测试速度：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">nrm test npm</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<p>执行命令，效果如下：</p>
</li>
</ol>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>NodeJs</tag>
      </tags>
  </entry>
  <entry>
    <title>Pyinstaller打包Python代码为.exe，多个.py文件和多模块打包_Ethan的博客-程序员宅基地_pyinstaller打包多个py文件     </title>
    <url>/2021/10/23/cl449bvw4000yb4bhg3ljhtrj/</url>
    <content><![CDATA[<h2 id="Pyinstaller打包Python代码为-exe，多个-py文件和多模块打包-Ethan的博客-程序员宅基地-pyinstaller打包多个py文件"><a href="#Pyinstaller打包Python代码为-exe，多个-py文件和多模块打包-Ethan的博客-程序员宅基地-pyinstaller打包多个py文件" class="headerlink" title="Pyinstaller打包Python代码为.exe，多个.py文件和多模块打包_Ethan的博客-程序员宅基地_pyinstaller打包多个py文件"></a>Pyinstaller打包Python代码为.exe，多个.py文件和多模块打包_Ethan的博客-程序员宅基地_pyinstaller打包多个py文件</h2><p>技术标签： <a href="https://www.cxyzjd.com/searchArticle?qc=Pyinstaller%E6%89%93%E5%8C%85%E6%95%99%E7%A8%8B&page=1">Pyinstaller打包教程</a> </p>
<p><strong>文件结构</strong>test<a href="http://entrance.py/">entrance.py</a><a href="http://clip.py/">clip.py</a><a href="http://data.py/">data.py</a>unet.dbaccd.xmlreason.csv<strong>多个.py文件和多个打包命令格式如下：</strong></p>
<p>`pyinstaller [主文件] -p [其他文件1] -p [其他文件2] –hidden-import [自建模块1] –hidden-import [自建模块2] </p>
<p><strong>根据上面的文件结构打包命令如下</strong></p>
<p><code>pyinstaller -F entrance.py -p clip.py -p data.py --hidden-import clip --hidden-import data </code></p>
<p><strong>注意：</strong>其中entrance.py是主程序入口文件，其他.py文件是自建模块，需要在主文件中使用，仅打包.py文件其余依赖项只需在打包完成后，将它们放在打包后生成的.exe文件的同一个目录下即可</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110230517724.png" alt="image-20211023051700876"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110230517148.png" alt="image-20211023051633817"></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>Sublime配置     </title>
    <url>/2021/09/16/cl449bvw50012b4bhax5m7er2/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>Typora使用了0号显卡，怀疑是导致其卡顿的原因Typora启动加速</title>
    <url>/2021/11/10/cl449bvw60015b4bhbis922iv/</url>
    <content><![CDATA[<p>Typora使用了0号显卡，怀疑是导致其卡顿的原因。<br> 于是决定关闭GPU, 找到Typora的配置文件<br> 大概在如下所示位置</p>
<p>c:\Users\AppData\Roaming\Typora\conf\conf.user.json<br>打开后修改flags, 保存并重启typora，就不再使用GPU了:</p>
<p> “flags”: [[“disable-gpu”]]<br>禁用GPU之后，软件启动的时候比之前慢，但是打开之后不卡顿了。<br> 怀疑是跟Chromium，GPU驱动有冲突。<br> 有兴趣的同学可以试一下换1号GPU支持来试一下。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/** For advanced users. */</span><br><span class="line">&#123;</span><br><span class="line">  &quot;defaultFontFamily&quot;: &#123;</span><br><span class="line">    &quot;standard&quot;: null, //String - Defaults to &quot;Times New Roman&quot;.</span><br><span class="line">    &quot;serif&quot;: null, // String - Defaults to &quot;Times New Roman&quot;.</span><br><span class="line">    &quot;sansSerif&quot;: null, // String - Defaults to &quot;Arial&quot;.</span><br><span class="line">    &quot;monospace&quot;: null // String - Defaults to &quot;Courier New&quot;.</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;autoHideMenuBar&quot;: false, //Boolean - Auto hide the menu bar unless the `Alt` key is pressed. Default is false.</span><br><span class="line"></span><br><span class="line">  // Array - Search Service user can access from context menu after a range of text is selected. Each item is formatted as [caption, url]</span><br><span class="line">  &quot;searchService&quot;: [</span><br><span class="line">    [&quot;Search with Google&quot;, &quot;https://google.com/search?q=%s&quot;]</span><br><span class="line">  ],</span><br><span class="line"></span><br><span class="line">  // Custom key binding, which will override the default ones.</span><br><span class="line">  // see https://support.typora.io/Shortcut-Keys/#windows--linux for detail</span><br><span class="line">  &quot;keyBinding&quot;: &#123;</span><br><span class="line">    // for example: </span><br><span class="line">    // &quot;Always on Top&quot;: &quot;Ctrl+Shift+P&quot;</span><br><span class="line">    // All other options are the menu items &#x27;text label&#x27; displayed from each typora menu</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  &quot;monocolorEmoji&quot;: false, //default false. Only work for Windows</span><br><span class="line">  &quot;maxFetchCountOnFileList&quot;: 500,</span><br><span class="line">  &quot;flags&quot;: [[&quot;disable-gpu&quot;]] // default [], append Chrome launch flags, e.g: [[&quot;disable-gpu&quot;], [&quot;host-rules&quot;, &quot;MAP * 127.0.0.1&quot;]]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Typora</tag>
      </tags>
  </entry>
  <entry>
    <title>Typora+PicGO+Gitee图床配置</title>
    <url>/2021/09/06/cl449bvw80018b4bhehu90uba/</url>
    <content><![CDATA[<h1 id="1·Typora-PicGO-Gitee-图床"><a href="#1·Typora-PicGO-Gitee-图床" class="headerlink" title="1·Typora+PicGO+Gitee****图床"></a>1·<strong>Typora+PicGO+Gitee****图床</strong></h1><p>我们在写markdown文档的时候，如果说写的文档有插入图片的话，图片管理起来非常的麻烦，而且移动或复制文档到其他设备时必须把图片的文件夹也一起复制。图片在markdown文档中就是一个链接，这个链接可以是本地的文件路径也可以是网络路径（url)。所以我们可以把图片放到网络上集中管理（这个就叫着图床），写文档的时候插入图片只要插入相应图片的url就可以了，在其他设备查看文档只要有网络就可以加载图片。</p>
<p>下面我们使用Typora写Markdown文档，用PicGo上传图片，图片放在gitee仓库中。整个过程虽然看起来比较麻烦，但是只要配置好，所有的一切动作都是自动完成的。</p>
<p><strong>1. Typora****安装配置</strong></p>
<p><strong>1.1</strong> <strong>安装</strong></p>
<p>下载<a href="https://www.typora.io/">Typora</a>，Typora的安装比较简单，和普通软件安装一样，可参考<a href="https://www.bilibili.com/video/BV1rf4y1t7Nz?spm_id_from=333.999.0.0">B站视频（包括Markdown语法介绍）</a></p>
<p><strong>1.2</strong> <strong>配置</strong></p>
<p>打开Typora，文件-&gt;偏好设置-&gt;图像</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109061829704.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591557445-763e3b8f-80e1-4025-9e74-e1752914881a.png"></p>
<p>按照上图的配置Typora，其中 <strong>PicGo****路径</strong> 的选项是安装了PicGO会自动检测的，如果没有自动检测到PicGO软件的路径可以手动填写。PicGo软件的安装和配置在下面会详细说明。</p>
<p>Typora软件的配置就这样完成了，安装PicGo再把PicGo路径填好就可以了</p>
<p><strong>2. PicGo****和Gitee图床配置</strong></p>
<p><strong>2.1 PicGo****安装</strong></p>
<p><a href="https://github.com/Molunerfinn/picgo/releases">PicGo下载</a> ， 我们可以看到在Typora的设置中也有PicGo的下载地址，这个按钮跳转的地址和我给出的是一样的。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129007.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591557463-f09e4b40-4f7f-46c4-92f7-416c1bd08c1e.png"></p>
<p>若是失败，请检查PicGo端口</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129756.png" alt="image-20210906191027442"></p>
<p><strong>2.2 PicGo****插件安装</strong></p>
<p>安装插件之前需要安装Nodejs，因为PicGo的插件需要Nodejs才可以使用，</p>
<p><a href="http://nodejs.cn/download/">下载Node.js</a>，版本没有多大的关系，建议下载LTS版的</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129133.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591557514-f7a10393-3e2a-4cf0-aebe-a4a72bbe69b7.png"></p>
<p>下载安装Nodejs后，打开PicGo，在插件设置中搜索gitee，下载图中框选的那个，<strong>一定要下载这个，其他的gitee插件的配置会有些许的不同</strong></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129832.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591557460-d4d47147-f0ae-4dc1-9818-e33c343f4e41.png"></p>
<p><strong>2.3 gitee****仓库创建</strong></p>
<p>仓库的名称可以随意写，这里以ImageBed为例，一定要初始化仓库</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129132.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591557516-aada9afe-90ba-4ab1-8256-f037cb48db65.png"></p>
<p>生成token，打开gitee的设置，点击生成新令牌</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129724.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591559340-7840fc5f-2991-4a56-836c-d0d463efb047.png"></p>
<p>Token的权限设置如下，令牌的描述同样是可以随意写的，权限设置如图，点击提交，会提示输入gitee账号密码 <strong>把生成的token复制保存，配置PicGo需要</strong></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129361.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591559317-ccb01af0-e510-4f0e-9472-058c77c5433d.png"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109061829416.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591559293-77f34d60-1254-44d3-861a-ac7894e58d28.png"></p>
<p><strong>2.3 PicGo****配置</strong>，</p>
<p>若是不配置则自动上传到SM.SM【Error: This image has been blocked, please contact webmaster for more information.++++[PicGo Server] upload failed, see picgo.log for more detail ↑ 】</p>
<p><a href="https://picgo.github.io/PicGo-Doc/zh/guide/advance.html#%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8A%E4%BC%A0">picgo的文档l#命令行上传)</a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129572.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591559344-d6f571e2-fbdc-423a-9d0e-c15bd2ec1cef.png"></p>
<p>·     repo: 填写仓库的名称，这个名称是地址栏的一部分，<strong>不是下面绿框中的名称</strong><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129927.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591559486-a1c76e60-92bc-4804-86fc-955a15e4eea0.png"></p>
<p>·     branch：填写分支的名称，一般为master</p>
<p>·     token：填写我们刚刚生成的令牌</p>
<p>·     path: 如果图片是放在仓库的根目录可以不填，放在文件夹下可以填写文件夹的名字，如果仓库中没有这个文件夹，它会自动创建</p>
<p>·     后面两个可以不要填</p>
<p><strong>3.</strong> <strong>测试</strong></p>
<p>选择gitee图床，从本地上传图片测试是否可以上传成功</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129229.png" alt="说明: https://cdn.nlark.com/yuque/0/2021/png/21450199/1630591560470-8980fba9-ab75-4626-b633-8db4baa85f34.png"></p>
<p>在Typora的使用，我们不需要手动上传图片，因为前面配置过了Typora，所以只要把图片插入到markdown文档中，Typora会自动运行PicGo上传图片，并将markdown中的图片链接替换成URL。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109062129465.png" alt="image-20210906191307303"></p>
<p>解决：picgo+gitee中出现StatusCodeError: 404 - {“message”:“Branch”}</p>
<p> 若是上传失败，请检查，404{“message“：”Branch”}</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109061914812.png" alt="image-20210906191146263"></p>
<p>用picgo+gitee作为typora的图床时候，出现下面的错误</p>
<figure class="highlight plaintext"><figcaption><span>Stack Begin------</span></figcaption><table><tr><td class="code"><pre><span class="line">StatusCodeError: 404 - &#123;&quot;message&quot;:&quot;Branch&quot;&#125;</span><br><span class="line">    at new StatusCodeError (D:\Program Files\picgo\resources\app.asar\node_modules\request-promise-core\lib\errors.js:32:15)</span><br><span class="line">    at Request.plumbing.callback (D:\Program Files\picgo\resources\app.asar\node_modules\request-promise-core\lib\plumbing.js:104:33)</span><br><span class="line">    at Request.RP$callback [as _callback] (D:\Program Files\picgo\resources\app.asar\node_modules\request-promise-core\lib\plumbing.js:46:31)</span><br><span class="line">    at Request.self.callback (D:\Program Files\picgo\resources\app.asar\node_modules\request\request.js:185:22)</span><br><span class="line">    at Request.emit (events.js:200:13)</span><br><span class="line">    at Request.&lt;anonymous&gt; (D:\Program Files\picgo\resources\app.asar\node_modules\request\request.js:1161:10)</span><br><span class="line">    at Request.emit (events.js:200:13)</span><br><span class="line">    at IncomingMessage.&lt;anonymous&gt; (D:\Program Files\picgo\resources\app.asar\node_modules\request\request.js:1083:12)</span><br><span class="line">    at Object.onceWrapper (events.js:288:20)</span><br><span class="line">    at IncomingMessage.emit (events.js:205:15)</span><br><span class="line"></span><br><span class="line">原因：在创建的仓库的时候，没有初始化readme</span><br></pre></td></tr></table></figure>

<p>解决：初始化就可以解决这个问题。<br>————————————————</p>
<h1 id="1·插件无法安装-删除以下所有-git-clone-https-github-com-lizhuangs-picgo-plugin-gitee-uploader-git"><a href="#1·插件无法安装-删除以下所有-git-clone-https-github-com-lizhuangs-picgo-plugin-gitee-uploader-git" class="headerlink" title="1·插件无法安装-删除以下所有-git clone -https://github.com/lizhuangs/picgo-plugin-gitee-uploader.git"></a>1·插件无法安装-删除以下所有-git clone -<a href="https://github.com/lizhuangs/picgo-plugin-gitee-uploader.git">https://github.com/lizhuangs/picgo-plugin-gitee-uploader.git</a></h1><p><img src="https://i.loli.net/2021/11/06/GtWBSbaCFQVjc6O.png" alt="image-20211106234116036"></p>
<h1 id="3·再次启用插件后-确认配置"><a href="#3·再次启用插件后-确认配置" class="headerlink" title="3·再次启用插件后`确认配置"></a>3·再次启用插件后`确认配置</h1><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211106234635545.png" alt="image-20211106234635545"></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>WPS专业版下载，激活密钥，永久激活无广告，无弹窗，企业版专用【高速下载】</title>
    <url>/2021/11/10/cl449bvw9001bb4bh92bkh4hw/</url>
    <content><![CDATA[<p>WPS Office 2019专用版下载，无广告，无弹窗，可以微信登陆，云服务正常使用。良心的办公软件，兼容性极强，欢迎大家下载使用，按照教程激活即可免费无广告！<br>下载地址官方网站：WPS官方下载：<a href="https://ep.wps.cn/download">https://ep.wps.cn/download</a><br>下载成功安装步骤：</p>
<p><a href="https://cdn.localhost.com.cn/xregcn/2021/07/20210713044803710.jpg"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210714003547563.jpg" alt="20210714003547563"></a></p>
<p>自定义安装路径与设置，</p>
<p><a href="https://cdn.localhost.com.cn/xregcn/2021/07/20210713044844482.jpg"><img src="https://cdn.localhost.com.cn/xregcn/2021/07/20210714003548146.jpg" alt="20210714003548146"></a></p>
<p>安装成功后，找到安装路径的过马路，删除【acm.dll】文件，没有管理员的提供管理员权限删除，</p>
<p>打开输入如下的序列号即可激活，整个过程无需断网，可以正常激活。</p>
<p><a href="https://cdn.localhost.com.cn/xregcn/2021/07/20210713045051212.jpg"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210714003549956.jpg" alt="20210714003549956"></a></p>
<p>序列号：694BF-YUDBG-EAR69-BPRGB-ATQXH<br>备用：R8R8P-MTT6F-KLRPM-J7CAB-PJM8C</p>
<p><a href="https://cdn.localhost.com.cn/xregcn/2021/07/20210713045124638.jpg"><img src="https://cdn.localhost.com.cn/xregcn/2021/07/20210714003549143.jpg" alt="20210714003549143"></a><a href="https://cdn.localhost.com.cn/xregcn/2021/07/20210713045126668.jpg"><img src="https://cdn.localhost.com.cn/xregcn/2021/07/20210714003550687.jpg" alt="20210714003550687"></a></p>
<p>激活成功之后即可使用，可以登陆WPS账户，目前是无广告的，多功能自己探究。</p>
<p>PS:强迫症图标去除</p>
<p><a href="https://cdn.localhost.com.cn/xregcn/2021/07/20210713045515463.jpg"><img src="https://cdn.localhost.com.cn/xregcn/2021/07/20210714003551679.jpg" alt="20210714003551679"></a></p>
<p>强迫症患者可能需要去除【wps办公助手】资源管理器的【WPS网盘】图标，请点击这里解决！</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110173629773.png" alt="image-20211110173629773"></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>工具</tag>
      </tags>
  </entry>
  <entry>
    <title>URL Schemes - 汇总,qq,tim,支付宝</title>
    <url>/2021/09/08/cl449bvwa001db4bh7zs3cbe2/</url>
    <content><![CDATA[<p>github gitee</p>
<p><a href="https://github.com/search?l=JavaScript&amp;q=im/chat?chat_type=&amp;type=Code">https://github.com/search?l=JavaScript&amp;q=im%2Fchat%3Fchat_type%3D&amp;type=Code</a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109080041420.png" alt="image-20210908004143462"></p>
<p>qq对话框</p>
<p>data:”mqq://im/chat?chat_type=wpa&amp;version=1&amp;src_type=web&amp;uin=” + qq, </p>
<p>资料卡</p>
<p><a href="https://github.com/search?q=mqqapi://card/show_pslcard&amp;type=code">https://github.com/search?q=mqqapi%3A%2F%2Fcard%2Fshow_pslcard&amp;type=code</a></p>
<p>data:”mqqapi://card/show_pslcard?&amp;uin=</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109080043085.png" alt="image-20210908004321893"></p>
<p>以下转发自<a href="https://www.ryannn.com/">Ryan</a></p>
<h1 id="URL-Schemes-汇总"><a href="#URL-Schemes-汇总" class="headerlink" title="URL Schemes - 汇总"></a>URL Schemes - 汇总</h1><p><a href="https://www.ryannn.com/tag/ios/">iOS</a></p>
<p>本文章将不定时更新、记录和分享 iOS 常用 Apps 的 URL Schemes ，主要是一些近期的新发现或一些实用动作。不同于早前独立成文的 URL Schemes 分享文章，本文章不仔细区分应用，以常用的 URL Schemes 为出发点更新，因此如果你有这方面的需求，却又没有在各大搜索平台上找到自己想要的 URL Schemes ，欢迎不定时查阅本文章哦 :)</p>
<h2 id="更新于2018-07-07"><a href="#更新于2018-07-07" class="headerlink" title="更新于2018-07-07"></a>更新于2018-07-07</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 豆瓣搜索 */</span><br><span class="line">douban:///search?q=[URL Encode]</span><br><span class="line"></span><br><span class="line">/* 豆瓣详细页，分别为电影、影人、书籍、音乐、活动 */</span><br><span class="line">douban://v2/[movie|subject|book|music|event]/[id]</span><br></pre></td></tr></table></figure>

<h2 id="更新于2018-05-08"><a href="#更新于2018-05-08" class="headerlink" title="更新于2018-05-08"></a>更新于2018-05-08</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* Shared by @sky(TG) */</span><br><span class="line">/* QQ 扫一扫 */</span><br><span class="line">mqqapi://qrcode/scan_qrcode?version=1&amp;src_type=app</span><br><span class="line"></span><br><span class="line">/* TIM 扫一扫 */</span><br><span class="line">tim://qrcode/scan_qrcode?version=1&amp;src_type=app</span><br></pre></td></tr></table></figure>

<h2 id="更新于2018-04-07"><a href="#更新于2018-04-07" class="headerlink" title="更新于2018-04-07"></a>更新于2018-04-07</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* Mtime 电影详细页，参数是 URL Encode 的 JSON */</span><br><span class="line">mtime://scheme?applinkData=%7b%22handleType%22%3a%22jumpPage%22%2c%22pageType%22%3a%22movieDetail%22%2c%22movieId%22%3a%22[movie id]%22%7d</span><br></pre></td></tr></table></figure>

<h2 id="更新于2018-03-04"><a href="#更新于2018-03-04" class="headerlink" title="更新于2018-03-04"></a>更新于2018-03-04</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 安装已签名 IPA */</span><br><span class="line">itms-services://?action=download-manifest&amp;url=[plist URL]</span><br></pre></td></tr></table></figure>

<h2 id="更新于2017-09-01"><a href="#更新于2017-09-01" class="headerlink" title="更新于2017-09-01"></a>更新于2017-09-01</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* Shared by 搪瓷铁皮 */</span><br><span class="line">/* 微软翻译文字 */</span><br><span class="line">translator://action</span><br><span class="line"></span><br><span class="line">/* Shared by 能蟹仔 */</span><br><span class="line">/* 小米路由器 */</span><br><span class="line">miwifi://</span><br></pre></td></tr></table></figure>

<h2 id="更新于2017-08-22"><a href="#更新于2017-08-22" class="headerlink" title="更新于2017-08-22"></a>更新于2017-08-22</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 将 http(s) 换成 googlechrome(s) */</span><br><span class="line">/* 由 Chrome 打开 http(s) 链接 */</span><br><span class="line">googlechrome(s)://[location]</span><br><span class="line"></span><br><span class="line">/* 或直接传递 URL */</span><br><span class="line">/* 由 Chrome 打开 URL */</span><br><span class="line">googlechrome://x-callback-url/open/?url=[URL]</span><br></pre></td></tr></table></figure>

<h2 id="更新于2017-08-13"><a href="#更新于2017-08-13" class="headerlink" title="更新于2017-08-13"></a>更新于2017-08-13</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* Shared by Forward */</span><br><span class="line">/* 打开知乎搜索，唤起键盘 */</span><br><span class="line">zhihu://search?q=[URL Encode]</span><br><span class="line"></span><br><span class="line">/* 知乎具体问题页 */</span><br><span class="line">zhihu://question/[id]</span><br></pre></td></tr></table></figure>

<h2 id="更新于2017-07-27"><a href="#更新于2017-07-27" class="headerlink" title="更新于2017-07-27"></a>更新于2017-07-27</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* Shared by NEO */</span><br><span class="line">/* 淘宝搜索 */</span><br><span class="line">taobao://s.taobao.com?q=[URL Encode]</span><br><span class="line"></span><br><span class="line">/* 哔哩哔哩搜索 */</span><br><span class="line">bilibili://search?keyword=[URL Encode]</span><br></pre></td></tr></table></figure>

<h2 id="更新于2017-06-24"><a href="#更新于2017-06-24" class="headerlink" title="更新于2017-06-24"></a>更新于2017-06-24</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* Shared by Nyaa */</span><br><span class="line">/* 微博私信页 */</span><br><span class="line">weibo://message</span><br></pre></td></tr></table></figure>

<h2 id="更新于2017-01-22"><a href="#更新于2017-01-22" class="headerlink" title="更新于2017-01-22"></a>更新于2017-01-22</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* Shared by cactus */</span><br><span class="line">/* 手机充值 */</span><br><span class="line">alipayqr://platformapi/startapp?saId=10000003</span><br><span class="line"></span><br><span class="line">/* 口令红包 */</span><br><span class="line">alipayqr://platformapi/startapp?saId=88886666</span><br><span class="line"></span><br><span class="line">/* 口令红包，带口令 */</span><br><span class="line">alipayqr://platformapi/startapp?saId=88886666&amp;passcode=[code]</span><br></pre></td></tr></table></figure>

<h2 id="更新于2017-01-15"><a href="#更新于2017-01-15" class="headerlink" title="更新于2017-01-15"></a>更新于2017-01-15</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* iMark 快速新建 */</span><br><span class="line">clover-imark://new/[camera|latest|web|map|library|session]</span><br><span class="line"></span><br><span class="line">/* iMark 新建画布，尺寸可更改 */</span><br><span class="line">clover-imark://new/canvas?width=[1000]&amp;height=[1000]</span><br></pre></td></tr></table></figure>

<h2 id="更新于2017-01-04"><a href="#更新于2017-01-04" class="headerlink" title="更新于2017-01-04"></a>更新于2017-01-04</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 115 App 扫一扫 */</span><br><span class="line">oof.disk://scan</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="更新于2016-11-18"><a href="#更新于2016-11-18" class="headerlink" title="更新于2016-11-18"></a>更新于2016-11-18</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 万分注意：只能切换店面地区，并不能切换账号 */</span><br><span class="line">/* App Store 店面切换，其他地区雷同，请自行修改地区缩写 */</span><br><span class="line">https://itunes.apple.com/[us|jp|...]/app/region-changer/id0123456789</span><br></pre></td></tr></table></figure>

<h2 id="更新于2016-08-24"><a href="#更新于2016-08-24" class="headerlink" title="更新于2016-08-24"></a>更新于2016-08-24</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 打开AppStore并兑换 [Redeem Code] */</span><br><span class="line">itms-apps://buy.itunes.apple.com/WebObjects/MZFinance.woa/wa/freeProductCodeWizard?mt=8&amp;code=[Redeem Code]</span><br></pre></td></tr></table></figure>

<h2 id="更新于2016-06-09"><a href="#更新于2016-06-09" class="headerlink" title="更新于2016-06-09"></a>更新于2016-06-09</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 打开 Safari 并搜索内容，搜索引擎跟随系统设置 */</span><br><span class="line">x-web-search://?[URL Encode]</span><br><span class="line"></span><br><span class="line">/* 打开 AppStore 并搜索内容，显示搜索页面 */</span><br><span class="line">itms-apps://search.itunes.apple.com/WebObjects/MZSearch.woa/wa/search?media=software&amp;term=[URL Encode]</span><br></pre></td></tr></table></figure>

<h2 id="更新于2016-05-26"><a href="#更新于2016-05-26" class="headerlink" title="更新于2016-05-26"></a>更新于2016-05-26</h2><ul>
<li><p>新浪微博</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 首页，同时可作刷新功能 */</span><br><span class="line">weibo://gotohome</span><br><span class="line"></span><br><span class="line">/* 发布页 */</span><br><span class="line">weibo://share?content=[id]</span><br><span class="line"></span><br><span class="line">/* 发现页 */</span><br><span class="line">weibo://discover</span><br><span class="line"></span><br><span class="line">/* 搜索页，可带搜索内容 */</span><br><span class="line">weibo://searchall?q=[URL Encode]</span><br><span class="line"></span><br><span class="line">/* 微博扫一扫 */</span><br><span class="line">weibo://qrcode</span><br><span class="line"></span><br><span class="line">/* 微博支付 */</span><br><span class="line">weibo://paymentcards?containerid=106403</span><br><span class="line"></span><br><span class="line">/* 我的收藏 */</span><br><span class="line">weibo://cardlist?containerid=2302592168131095&amp;cache_need=1</span><br><span class="line"></span><br><span class="line">/* 具体文章页，需要自行分析 mblogid */</span><br><span class="line">weibo://detail?mblogid=[mblogid]</span><br><span class="line"></span><br><span class="line">/* 具体内页，如热门博客、热门话题等，需要自行分析 containerid */</span><br><span class="line">weibo://cardlist?containerid=[containerid]</span><br><span class="line"></span><br><span class="line">/* 具体个人页，需要自行分析个人 uid */</span><br><span class="line">weibo://userinfo?uid=[uid]</span><br></pre></td></tr></table></figure></li>
<li><p>微信</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 微信扫一扫，免内置浏览器跳转 */</span><br><span class="line">weixin://scanqrcode</span><br></pre></td></tr></table></figure></li>
<li><p>支付宝</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 付款码 */</span><br><span class="line">alipayqr://platformapi/startapp?saId=20000056</span><br><span class="line"></span><br><span class="line">/* 余额宝 */</span><br><span class="line">alipayqr://platformapi/startapp?saId=20000032</span><br><span class="line"></span><br><span class="line">/* 转账 */</span><br><span class="line">alipayqr://platformapi/startapp?saId=09999988</span><br><span class="line"></span><br><span class="line">/* 提现 */</span><br><span class="line">alipayqr://platformapi/startapp?saId=20000033</span><br><span class="line"></span><br><span class="line">/* 卡券 */</span><br><span class="line">alipayqr://platformapi/startapp?saId=20000021</span><br><span class="line"></span><br><span class="line">/* 扫一扫 */</span><br><span class="line">alipayqr://platformapi/startapp?saId=10000007</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>动作类 URL Schemes 一般都难以获取，如果你有新的好的发现想要分享交流，欢迎留言哦。也敬请各位尊重大家的劳动成果，愉快交流 :)</p>
<hr>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>V2Ray路由器高级功能配置丨使用教程</title>
    <url>/2021/11/10/cl449bvwb001hb4bh75606oqi/</url>
    <content><![CDATA[<h1 id="无需配置–-gt-直接自动配置系统代理"><a href="#无需配置–-gt-直接自动配置系统代理" class="headerlink" title="无需配置–&gt; 直接自动配置系统代理"></a>无需配置–&gt; 直接自动配置系统代理</h1><p>查看IP代理情况：<a href="http://ip111.cn/">http://ip111.cn/</a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211111141552523.png" alt="image-20211111141552523"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211111141623424.png" alt="image-20211111141623424"></p>
<p>已经删除PAC功能的主流V2Ray客户端V2RayN，要完美实现GFW黑名单代理模式，只能启用高级路由功能。当您使用过功能更强大的高级路由，就会理解开发人员去掉PAC代理模式并非没有理由。</p>
<p>前面分享了我在用的高级路由规则集：</p>
<p><a href="https://baiyunju.cc/7523">《V2Ray路由器配置PAC代理规则集丨GFWlist黑名单模式》</a>　<a href="https://baiyunju.cc/7523">https://baiyunju.cc/7523</a></p>
<p><a href="https://baiyunju.cc/7753">《V2RayN高级路由器配置规则集丨黑白名单、全局直连、全局代理模式》</a>　<a href="https://baiyunju.cc/7753">https://baiyunju.cc/7753</a></p>
<p>配置完毕后，就可以一键在“PAC代理模式（GFW黑名单）”、“全局代理模式”、“绕过大陆模式（白名单）”等代理模式之间自由切换，如下图：</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/V2Ray%E9%BB%91%E7%99%BD%E5%90%8D%E5%8D%95PAC%E6%A8%A1%E5%BC%8F-baiyunju.cc.jpg.jpg" alt="图片丨V2RayN一键切换路由代理模式">图片丨V2RayN一键切换路由代理模式</p>
<p>只有开启了高级路由功能，才会出现“路由”菜单。</p>
<p>当然，如果感觉高级路由功能太复杂（实际上并不复杂），也可以参考<a href="https://baiyunju.cc/7501">《可以代替PAC模式的V2Ray路由器策略代理规则配置》</a>　<a href="https://baiyunju.cc/7501">https://baiyunju.cc/7501</a>　，此文介绍了仅通过基础规则设置，也可以实现非常接近PAC代理模式的分流效果。</p>
<p>下面介绍V2RayN电脑客户端高级路由功能的设置、添加、导入自定义代理规则的方法。</p>
<h1 id="V2Ray路由高级功能导入代理规则的方法："><a href="#V2Ray路由高级功能导入代理规则的方法：" class="headerlink" title="V2Ray路由高级功能导入代理规则的方法："></a>V2Ray路由高级功能导入代理规则的方法：</h1><p>首先，点击电脑底栏的V2RayN图标，进入软件界面。点击软件顶部的“设置”-“路由设置”，勾选“启用路由高级功能”，再点击菜单“高级功能”-“添加规则集”，如下图所示：</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/V2RayN%E5%90%AF%E7%94%A8%E9%AB%98%E7%BA%A7%E8%B7%AF%E7%94%B1%E5%8A%9F%E8%83%BD-baiyunju.cc.jpg" alt="图片丨添加高级路由规则集">图片丨添加高级路由规则集</p>
<p>在添加规则前，规则列表中还是空白，可以手动逐条添加，也可以导入规则集。</p>
<p>V2RayN支持三种导入方式：“从文件中导入规则”、“从剪贴板中导入规则”、“从订阅URL中导入规则”。现在，从本文开头提到的文章中复制了规则集代码，这里选择“从剪贴板中导入规则”，如下图：</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/%E4%BB%8E%E5%89%AA%E8%B4%B4%E6%9D%BF%E4%B8%AD%E5%AF%BC%E5%85%A5%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99-baiyunju.cc.jpg" alt="图片丨导入复制过来的V2Ray路由规则集代码">图片丨导入复制过来的路由规则集代码</p>
<p>操作成功，导入了几行规则。可以双击每一条规则，进行添加、删减等自定义操作，相关教程见本文末。</p>
<p>当然，也可以点击菜单“规则功能”-“添加规则”，来一条一条添加。路由规则详情设置界面，和路由基础功能规则界面相同，路由器规则编写方法也相同，<br>如下图：</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/V2Ray%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99%E9%9B%86%E4%B8%AD%E6%B7%BB%E5%8A%A0%E8%A7%84%E5%88%99-baiyunju.cc.jpg" alt="图片丨在高级路由功能中手工添加路由规则">图片丨在高级路由功能中手工添加路由规则</p>
<p>需要注意的是，在高级路由规则内，排列在上面的规则具有更高的优先级别，可以右键点击每一条规则，选择“上移”“下移”，来达到不同的分流效果。</p>
<h1 id="V2Ray路由器配置PAC代理规则集丨GFWlist黑名单模式"><a href="#V2Ray路由器配置PAC代理规则集丨GFWlist黑名单模式" class="headerlink" title="V2Ray路由器配置PAC代理规则集丨GFWlist黑名单模式"></a><a href="https://baiyunju.cc/7523">V2Ray路由器配置PAC代理规则集丨GFWlist黑名单模式</a></h1><ul>
<li>黑名单好用，国内显示国内IP，国外显示国外IP</li>
<li>坐看云起 发布于 2021-03-07</li>
<li>分类：<a href="https://baiyunju.cc/ji">技</a> / <a href="https://baiyunju.cc/ji/pc-skills">电脑技巧</a></li>
<li></li>
</ul>
<p>最新版本的V2Ray客户端V2RayN，也可以完美支持PAC代理模式。也就是只让GFWlist列表中被封锁的网站域名走代理，其他所有国内、国外的域名流量直连。</p>
<p>自从V2RayN 4.0版本开始删掉PAC功能后，很多习惯使用该代理模式的朋友不习惯路由模式，希望再添加PAC代理模式功能。其实，这是还不了解路由功能的强大和便捷。</p>
<p>事实上，V2RayN最新版本进一步增强了路由功能，不仅可以完美支持并实现PAC黑名单GFWlist模式，而且功能更加强大，使用起来也更方便。</p>
<p>使用GFW黑名单代理模式的优点之一，是节省购买的V2Ray节点流量，因为只有少量被墙封锁的网站走代理，其他的全部直连。另外，使用该代理模式，不会影响BT下载，因为GFW列表外的所有流量包括BT流量在内，会全部直连。</p>
<p>之前白云居丨baiyunju.cc分享过<a href="https://baiyunju.cc/7501">《可以代替PAC模式的V2Ray路由器策略代理规则配置》</a>　<a href="https://baiyunju.cc/7501">https://baiyunju.cc/7501</a>　，文中介绍的是通过路由基础规则实现的，仅仅是接近PAC模式。</p>
<p>以及全部代理规则集：<a href="https://baiyunju.cc/7753">《V2RayN高级路由器配置规则集丨黑白名单、全局直连、全局代理模式》</a><a href="https://baiyunju.cc/7753">https://baiyunju.cc/7753</a></p>
<p>本文现在分享的，是通过高级路由功能实现的、<strong>真正的PAC代理模式，走代理的只有GFW黑名单中的网址</strong>。</p>
<p>启用V2RayN的路由高级功能后，不仅可实现PAC，而且还可以通过右键菜单一键切换代理模式，在GFWlist黑名单、大陆绕行白名单、全局代理模式之间切换，如下图所示：</p>
<p><img src="https://baiyunju.cc/wp-content/uploads/2021/04/V2Ray%E9%BB%91%E7%99%BD%E5%90%8D%E5%8D%95PAC%E6%A8%A1%E5%BC%8F-baiyunju.cc.jpg.jpg" alt="图片丨V2RayN一键切换路由代理模式黑名单白名单">图片丨V2RayN一键切换路由代理模式</p>
<h2 id="V2RayN高级路由策略PAC设置规则"><a href="#V2RayN高级路由策略PAC设置规则" class="headerlink" title="V2RayN高级路由策略PAC设置规则"></a>V2RayN高级路由策略PAC设置规则</h2><p>下面分享的是白云居丨baiyunju.cc在用的路由设置代理规则集，启用路由高级功能后，复制下面代码，并在规则集设置中，从剪贴板中导入规则即可（详细导入方法见文末教程）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;outboundTag&quot;: &quot;proxy&quot;,</span><br><span class="line">    &quot;domain&quot;: [</span><br><span class="line">      &quot;#以下三行是GitHub网站，为了不影响下载速度走代理&quot;,</span><br><span class="line">      &quot;github.com&quot;,</span><br><span class="line">      &quot;githubassets.com&quot;,</span><br><span class="line">      &quot;githubusercontent.com&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;outboundTag&quot;: &quot;block&quot;,</span><br><span class="line">    &quot;domain&quot;: [</span><br><span class="line">      &quot;#阻止CrxMouse鼠标手势收集上网数据&quot;,</span><br><span class="line">      &quot;mousegesturesapi.com&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;outboundTag&quot;: &quot;direct&quot;,</span><br><span class="line">    &quot;domain&quot;: [</span><br><span class="line">      &quot;bitwarden.com&quot;,</span><br><span class="line">      &quot;bitwarden.net&quot;,</span><br><span class="line">      &quot;baiyunju.cc&quot;,</span><br><span class="line">      &quot;letsencrypt.org&quot;,</span><br><span class="line">      &quot;adblockplus.org&quot;,</span><br><span class="line">      &quot;safesugar.net&quot;,</span><br><span class="line">      &quot;#下两行谷歌广告&quot;,</span><br><span class="line">      &quot;googleads.g.doubleclick.net&quot;,</span><br><span class="line">      &quot;adservice.google.com&quot;,</span><br><span class="line">      &quot;#【以下全部是geo预定义域名列表】&quot;,</span><br><span class="line">      &quot;#下一行是所有私有域名&quot;,</span><br><span class="line">      &quot;geosite:private&quot;,</span><br><span class="line">      &quot;#下一行包含常见大陆站点域名和CNNIC管理的大陆域名，即geolocation-cn和tld-cn的合集&quot;,</span><br><span class="line">      &quot;geosite:cn&quot;,</span><br><span class="line">      &quot;#下一行包含所有Adobe旗下域名&quot;,</span><br><span class="line">      &quot;geosite:adobe&quot;,</span><br><span class="line">      &quot;#下一行包含所有Adobe正版激活域名&quot;,</span><br><span class="line">      &quot;geosite:adobe-activation&quot;,</span><br><span class="line">      &quot;#下一行包含所有微软旗下域名&quot;,</span><br><span class="line">      &quot;geosite:microsoft&quot;,</span><br><span class="line">      &quot;#下一行包含微软msn相关域名少数与上一行微软列表重复&quot;,</span><br><span class="line">      &quot;geosite:msn&quot;,</span><br><span class="line">      &quot;#下一行包含所有苹果旗下域名&quot;,</span><br><span class="line">      &quot;geosite:apple&quot;,</span><br><span class="line">      &quot;#下一行包含所有广告平台、提供商域名&quot;,</span><br><span class="line">      &quot;geosite:category-ads-all&quot;,</span><br><span class="line">      &quot;#下一行包含可直连访问谷歌网址，需要替换为加强版GEO文件，如已手动更新为加强版GEO文件，删除此行前面的#号使其生效&quot;,</span><br><span class="line">      &quot;#geosite:google-cn&quot;,</span><br><span class="line">      &quot;#下一行包含可直连访问苹果网址，需要替换为加强版GEO文件，如已手动更新为加强版GEO文件，删除此行前面的#号使其生效&quot;,</span><br><span class="line">      &quot;#geosite:apple-cn&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">    &quot;outboundTag&quot;: &quot;proxy&quot;,</span><br><span class="line">    &quot;domain&quot;: [</span><br><span class="line">      &quot;#GFW域名列表&quot;,</span><br><span class="line">      &quot;geosite:gfw&quot;,</span><br><span class="line">      &quot;geosite:greatfire&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">    &quot;port&quot;: &quot;0-65535&quot;,</span><br><span class="line">    &quot;outboundTag&quot;: &quot;direct&quot;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ul>
<li>上面V2Ray高级路由规则集，完美实现了PAC代理模式，效果完全一样。其原理是，GFW黑名单中的域名走代理，剩余的其他连接0-65535所有端口的所有国内、外网站流量全部直连。</li>
<li>#号开头的为注释行，不必删除。</li>
<li>如需要更新官方geo文件，请参考<a href="https://baiyunju.cc/7583">《V2Ray路由规则加强版资源文件geoip.dat、geosite.dat下载网址、更新方法》</a><a href="https://baiyunju.cc/7583">https://baiyunju.cc/7583</a>　。</li>
<li>其中，第三行直连域名规则中的域名较多，其实这一行”direct”规则原本可以全部删掉，但是在使用中发现，有一些本来可以直连的域名，也被放入GFW列表中走代理了，为了避免有漏网域名没走直连，因此直接将之前基础路由功能中的直接域名列表复制过来，与后面两行规则并不冲突。</li>
</ul>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>工具</tag>
      </tags>
  </entry>
  <entry>
    <title>   # Web前端：hexo+github搭建个人博客，免费！  </title>
    <url>/2021/10/24/cl449bvwc001jb4bheist5s7b/</url>
    <content><![CDATA[<h1 id="Web前端：hexo-github搭建个人博客，免费！"><a href="#Web前端：hexo-github搭建个人博客，免费！" class="headerlink" title="Web前端：hexo+github搭建个人博客，免费！"></a>Web前端：hexo+github搭建个人博客，免费！</h1><p>网上查的同类教程有不少，但是看了一下发布时间，那些教程的发布还是有些年头的了。<br>有些教程中的步骤现在不一定适用了，我当初就按照别人的教程搭建<a href="https://hexo.io/zh-cn/">Hexo</a>,不小心就掉了坑。<br>那就干脆自己写一个，方便记忆，顺便给需要的朋友提供参考。</p>
<p>首先报上一波，我开发的运行环境</p>
<h4 id="运行环境-Runtime-environment"><a href="#运行环境-Runtime-environment" class="headerlink" title="运行环境 Runtime environment"></a>运行环境 Runtime environment</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">操作系统 ： Windows10</span><br><span class="line">IDE: JetBrains WebStorm 2018.2.1 x64</span><br><span class="line">浏览器： Google Chrome 版本 67.0.3396.99（正式版本） （64 位）&amp;&amp; FireFox Developer Edition 版本63.0b4  (64位)</span><br><span class="line">hexo: 3.7.1</span><br><span class="line">hexo-cli: 1.1.0</span><br><span class="line">node: 8.11.4</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>个人博客，一般来说，基本都是咱们干IT的人用得多一些。<br>要是从事这行业之外的人，根本也不需要吧。QQ空间，微博，微信朋友圈之类的地方就基本能够满足需求了。<br>受到了知乎上，一个讨论的问题的启发。<a href="https://www.zhihu.com/question/24629410">如何开始写技术博客，怎么选择？</a><br>所以打算自己搭建博客，自己用的东西，当然是讲究一个“顺自己心意”就好。<br>为了尽可能写得详细，所以教程显得很冗长，但是Hexo搭建博客真的很容易..</p>
<h2 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h2><p>为什么选择<a href="https://hexo.io/zh-cn/">Hexo</a>+<a href="https://github.com/">Github</a>来搭建自己的博客？<br>我认为有以下几点优势：</p>
<ol>
<li>不需要服务器，<a href="https://github.com/">Github</a>免费提供的托管服务；</li>
<li>不需要域名，<a href="https://github.com/">Github</a>同样提供了一个.io的域名；</li>
<li>不用将太多的心思投入到博客开发；</li>
<li>hexo主题多样且免费、又好看；</li>
<li>不像其他博客有让人心烦的广告；</li>
<li>便于维护更新，换风格直接换模板就行。</li>
</ol>
<h2 id="总体步骤概述"><a href="#总体步骤概述" class="headerlink" title="总体步骤概述"></a>总体步骤概述</h2><p>大体的就4个步骤，咱就不弄那么复杂了。</p>
<ol>
<li>下载需要的工具，并安装；</li>
<li>创建<a href="https://github.com/">Github</a>仓库；</li>
<li>修改<a href="https://hexo.io/zh-cn/">Hexo</a>配置文件；</li>
<li>把博客部署到<a href="https://github.com/">Github</a>上；</li>
</ol>
<h1 id="搭建流程"><a href="#搭建流程" class="headerlink" title="搭建流程"></a>搭建流程</h1><h2 id="准备阶段"><a href="#准备阶段" class="headerlink" title="准备阶段"></a>准备阶段</h2><ul>
<li>下载安装相关工具</li>
</ul>
<p>1.下载<a href="https://nodejs.org/zh-cn/">NodeJs</a><br>点击此处<a href="https://nodejs.org/zh-cn/download/">NodeJs中文下载页</a>根据自己的操作系统，下载对应版本的NodeJs。<br>这里是推荐使用长期维护版本（LTS）的NodeJs,<br>如果你看不懂，从我这里下载也一样，但是版本就可能不是最新的了，这里版本v8.12.0。<br>Windows系统：<br>64位：<a href="https://nodejs.org/dist/v8.12.0/node-v8.12.0-x64.msi">NodeJs_x64</a><br>32位：<a href="https://nodejs.org/dist/v8.12.0/node-v8.12.0-x86.msi">NodeJs_x86</a><br>Linux系统：（你都会Linux了，不会选不太可能吧？）<br>64位：<a href="https://nodejs.org/dist/v8.12.0/node-v8.12.0-linux-x64.tar.xz">NodeJs_x64</a><br>32位：<a href="https://nodejs.org/dist/v8.12.0/node-v8.12.0-linux-x86.tar.xz">NodeJs_x86</a><br>macOS系统：<br>没用过，不知道。</p>
<p>2.安装<a href="https://git-scm.com/downloads">Git</a><br>点击<a href="https://git-scm.com/download/win">Git</a>根据自己的操作系统，下载对应版本的<a href="https://git-scm.com/downloads">Git</a> 。<br>如果你看不懂，从我这里下载也一样，但是版本就可能不是最新的了，这里版本v2.19.0。<br>Window系统：<br>64位：<a href="https://github.com/git-for-windows/git/releases/download/v2.19.0.windows.1/Git-2.19.0-32-bit.exe">Git_x64</a><br>32位：<a href="https://github.com/git-for-windows/git/releases/download/v2.19.0.windows.1/Git-2.19.0-64-bit.exe">git_x86</a><br>Linux系统：<br>详见<a href="https://git-scm.com/download/linux">安装命令</a></p>
<p>下载完成以后，打开根据提示操作，Win系统直接“下一步”就OK了。</p>
<p>3.测试安装是否已经生效<br>打开cmd命令行(win+r 输入cmd回车)分别执行（Linux系统则是在终端中）复制以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line">git --version</span><br></pre></td></tr></table></figure>

<p>回车，稍微等下便会有以下运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:\Users\DeSireFire&gt;node -v</span><br><span class="line">v8.11.4</span><br><span class="line"></span><br><span class="line">C:\Users\DeSireFire&gt;npm -v</span><br><span class="line">5.6.0</span><br><span class="line"></span><br><span class="line">C:\Users\DeSireFire&gt;git --version</span><br><span class="line">git version 2.18.0.windows.1</span><br></pre></td></tr></table></figure>

<p>说明安装成功了。</p>
<p>4.安装<a href="https://hexo.io/zh-cn/">Hexo</a><br>之前做的，是为了安装<a href="https://hexo.io/zh-cn/">Hexo</a>做准备。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://hexo.io/zh-cn/</span><br></pre></td></tr></table></figure>

<p>从<a href="https://hexo.io/zh-cn/">Hexo</a> 官网中可以看到这些指令，咱就以人家官网的步骤行事准没错。<br>打开cmd命令行(win+r 输入cmd回车)分别执行（Linux系统则是在终端中），通过cd指令跳转到要存储<a href="https://hexo.io/zh-cn/">Hexo</a>的位置。<br>如果不想琢磨，我直接写完全部指令，路径我放在D盘上（以Windows系统为例）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">d:</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init blog</span><br><span class="line">cd blog</span><br><span class="line">npm install</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure>

<p>以上命令的意思是：</p>
<ol>
<li><p>跳转到D盘</p>
</li>
<li><p>使用npm安装hexo</p>
</li>
<li><p>使用hexo初始化一个名为blog的项目</p>
</li>
<li><p>跳转到生成出的blog文件夹里</p>
</li>
<li><p>hexo启动服务器</p>
<p>如果没有出错，一般会是以下情景：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>

<p>此时访问</p>
<p>Hexo测试服</p>
<p>即可。如果出错请严格按照步骤检查！</p>
</li>
</ol>
<p>打开浏览器输入 <a href="http://localhost:4000/">http://localhost:4000</a> 就能看到搭建好的Hexo本地博客了。<br>不过因为没有使用其他主题，所以Hexo会是用自带的默认Blog主题。<br>测试完毕记得在命令窗口上按 Ctrl+C 关闭hexo服务器。</p>
<ul>
<li>创建Github仓库</li>
</ul>
<p><em>注意：</em></p>
<blockquote>
<p>1.在这里，我的做法是创建两个仓库！<br>2.一个仓库用于存放hexo的配置文件；<br>3.另一个仓库用于部署Blog的静态文件！</p>
</blockquote>
<ol>
<li><p>点击<a href="https://github.com/">Github</a>进入Github,登陆！（如果没有账号，自行百度一下注册方法）</p>
</li>
<li><p>依照图中的位置创建仓库，如图所示：<br><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/newrepo.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240004974.png" alt="image-20200329235322725"></a></p>
</li>
<li><p>在Repository name中输入你要创建的仓库名字，这里我命名为“myhexo”,在Description输入仓库的描述，如图：</p>
</li>
<li><p>其他的，根据自己需要来设定。最后单击Create repository来完成最后确定创建。</p>
</li>
<li><p>再创建第二个仓库，重复以上1~4的步骤，这一次在Repository name中输入dafanshu.github.io（xxx为你的想起的博客名，自行修改,但是必须与你的github用户名一致！）</p>
</li>
</ol>
<p>完成以上五步，那么在你的github首页就能看到这两个仓库了。如图：<br><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/repos.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240004011.png" alt="image-20200329235345882"></a><br>以“.github.io”结尾的为博客仓库，另一个是hexo配置文件仓库。</p>
<ul>
<li>美化Hexo主题（拓展）<br>点击按钮访问<a href="https://github.com/search?q=hexo-theme">Hexo主题搜索</a>，在里面随便挑。<br><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/hexothemes.png"><img src="E:/Web_Blog/blog/source/images/image-20200329235404147.png" alt="image-20200329235404147"></a><br>一般主题的开发者都会在其仓库下方放上主题效果的预览图。<br>这里，作为举例，选择了 <a href="https://github.com/litten/hexo-theme-yilia">https://github.com/litten/hexo-theme-yilia</a> 主题。<br>下载方法，如图所示：<br><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/dltheme.png"><img src="E:/Web_Blog/blog/source/images/image-20200329235414226.png" alt="image-20200329235414226"></a><br>下载完成后，解压得到一个名为“hexo-theme-yilia-master”的文件夹，这里我把它改名为“yilia”。<br>最后，把它复制到D:\Blog\themes\文件夹下，主题安装就此完成。<br>配置文件方面，之后会讲到。</li>
</ul>
<h2 id="使用阶段"><a href="#使用阶段" class="headerlink" title="使用阶段"></a>使用阶段</h2><p>下载、安装完相关工具，创建完相应的两个仓库，那么就开始进入重要的阶段。</p>
<h3 id="修改Hexo配置文件"><a href="#修改Hexo配置文件" class="headerlink" title="修改Hexo配置文件"></a>修改Hexo配置文件</h3><p>1.打开blog/_config.yml，参考实例进行修改</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: 网站标题</span><br><span class="line">subtitle: 副标题</span><br><span class="line">description: 个人签名</span><br><span class="line">author: 姓名</span><br><span class="line">language: zh-Hans</span><br><span class="line">timezone:</span><br></pre></td></tr></table></figure>

<p>需要注意的是：</p>
<blockquote>
<ol>
<li>所有的配置“:”符号后面都要带空格，否则失效。</li>
<li>language是设置语言。zh-Hans是中文，若出现乱码需转码UTF8。</li>
</ol>
</blockquote>
<p>2.配置发布blog的仓库地址<br>如何获得github的地址呢？如图：<br><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/blogdeloy.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240004048.png" alt="image-20200329235424754"></a></p>
<blockquote>
<p>注意，这里提到的仓库是用以“.github.io”结尾的用于部署Blog的仓库</p>
</blockquote>
<p>将图中选中的部分复制下来，然后如示例中，写入_config.yml</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/DeSireFire/DeSireFire.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>以上这步非常重要，它关系到你最终能不能部署成功！</p>
<p>内容较多建议参考官方文档<br><a href="https://hexo.io/zh-cn/docs/configuration.html">https://hexo.io/zh-cn/docs/configuration.html</a><br>修改完之后，可以重新执行hexo s在浏览器查看效果。并确认无误，包括以后需要添加文章，或者更新主题等，都建议先在本地查看无误再远程部署。<br>根_config.yml文件中。</p>
<p>3.配置主题到配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line">theme: yilia</span><br></pre></td></tr></table></figure>

<p>需要注意的是：</p>
<blockquote>
<ol>
<li>theme名必须与D:\Blog\themes\下的文件夹名一致。</li>
</ol>
</blockquote>
<p>4.配置用于存放hexo文件的仓库地址<br>首先，进入<a href="https://github.com/">Github</a>,找到之前创建来用于存放hexo的配置文件的仓库“myhexo”，如图：<br><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/blogconfigrepo.png"></a><br>复制仓库地址，然后在D:\Blog\目录下，然后如图中打开gitbash（如果你是Linux系统，直接在相应目录下打开终端即可）：<br><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/gitbash.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240004089.png" alt="image-20200329235452205"></a><br>在之后出现的黑窗口中输入一下命令，注意根据自己的需要修改部分命令内容：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line">git init</span><br><span class="line"></span><br><span class="line">git config --global user.name &quot;你的github用户名&quot;</span><br><span class="line">git config --global user.email XXX@qq.com（你的邮箱地址）</span><br><span class="line"></span><br><span class="line">git add *</span><br><span class="line">git commit -m &quot;提交hexo配置文件到仓库&quot;</span><br><span class="line">git remote add origin (此处加上你的仓库地址，如我的是：https://github.com/DeSireFire/DeSireFire-sHexoWarehouse.git)</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<p>回车搞定，你的Hexo文件就上传到配置仓库去了！</p>
<h3 id="本地测试Hexo是否生效"><a href="#本地测试Hexo是否生效" class="headerlink" title="本地测试Hexo是否生效"></a>本地测试Hexo是否生效</h3><p>一切顺利，下一步就可以愉快写博客了。<br>打开cmd命令行(win+r 输入cmd回车)分别执行（Linux系统则是在终端中），<br>如果不想琢磨，我直接写完全部指令，路径我放在D盘上（以Windows系统为例）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">d:</span><br><span class="line">cd d:\blog\</span><br><span class="line">hexo clean&amp;&amp;hexo g&amp;&amp;hexo server</span><br></pre></td></tr></table></figure>

<p>如果没有出错，一般会是以下情景：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>

<p>打开浏览器输入 <a href="http://localhost:4000/">http://localhost:4000</a> 就能看到搭建好的Hexo本地博客了。<br>不过因为没有使用其他主题，所以Hexo会是用自带的默认Blog主题。<br>测试完毕记得在命令窗口上按 Ctrl+C 关闭hexo服务器。</p>
<h3 id="部署Blog到外网"><a href="#部署Blog到外网" class="headerlink" title="部署Blog到外网"></a>部署Blog到外网</h3><p>完成前面的工作，说明你离成功就只剩下最后一道命令了。<br>继续在本目录命令行，执行！</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean&amp;&amp;hexo g&amp;&amp;hexo d</span><br></pre></td></tr></table></figure>

<p>提示上传完成以后，访问<a href="https://github.com/">Github</a>。打开之间说到以“.github.io”结尾的用于部署Blog的仓库。<br>打开该数据库的设置页面，如图：<br><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/reposetting.png"><img src="E:/Web_Blog/myhexo/source/images/image-20200330002805714.png" alt="image-20200330002805714"></a><br>在设置页面中，向下滚动到GitHub Pages一栏，如图：<br><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/settings.png"><img src="E:/Web_Blog/myhexo/source/images/image-20200330002752708.png" alt="image-20200330002752708"></a><br>刚刚上传完成时，github需要一点时间才能把blog发布到外网上，耐心等待一首歌的时间基本就OK了。<br>当github发布完成，会显示“Your site is published at XXXX”，<br>这时候访问箭头所指的位置，就能直接看到自己的博客了。</p>
<p>最后一项拓展：<br>如果你有自己购买的域名，可以在第三个箭头处的位置输入保存。这样就能用自己自定义的域名来访问博客了。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>到此，整个Hexo+Github搭建个人博客的教程就完成了！有没有很开心！如果有不会的地方可以直接留言提问2333！</p>
<p><strong>原始链接:</strong><a href="https://blog.raxianch.moe/2018/09/12/Web%E5%89%8D%E7%AB%AF%EF%BC%9Ahexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%85%8D%E8%B4%B9%EF%BC%81/">https://desirefire.github.io/2018/09/12/Web前端：hexo-github搭建个人博客，免费！/</a> </p>
<p><strong>许可协议:</strong> <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/">“署名-非商用-相同方式共享 3.0”</a> 转载请保留原文链接及作者。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>Windows Terminal 完美配置 PowerShell 7.1 - 知乎</title>
    <url>/2021/11/10/cl449bvwf001mb4bh86791q5c/</url>
    <content><![CDATA[<p>首发于<a href="https://www.zhihu.com/column/c_1099361984826499072">修辞与编程</a></p>
<h1 id="Windows-Terminal-完美配置-PowerShell-7-1"><a href="#Windows-Terminal-完美配置-PowerShell-7-1" class="headerlink" title="Windows Terminal 完美配置 PowerShell 7.1"></a>Windows Terminal 完美配置 PowerShell 7.1</h1><p><a href="https://www.zhihu.com/people/littleNewton"><img src="https://pic2.zhimg.com/v2-6f2475da64a7302f15a5c2bea51d2ee8_xs.jpg?source=172ae18b" alt="littleNewton"></a></p>
<p><a href="https://www.zhihu.com/people/littleNewton">littleNewton</a></p>
<p>700 人赞同了该文章</p>
<blockquote>
<p><strong>坑边闲话</strong>：忆往昔岁月，不堪回首，伟大的 Windows 竟然拿不出一个像样的终端模拟器。mintty.exe 和 封装后的 cmder 之流，总是有各种问题，而且不兼容 emoji 字符。后来，全网 Windows 用户随着一个华丽的广告沸腾了，微软宣布了终端软件 Windows Terminal 的开发进程，而且开源！如今，Windows Terminal 正式版已经陪伴我们走过了很长一段时间，其稳定性和易用性已经非常不错，关键是颜值相当高。<strong>如果你是一个追求完美与和谐的 User，那么请跟上我的步伐，我们重新起航！</strong></p>
</blockquote>
<p><strong>重要提醒</strong>：本文的所有配置经过无数网友的多重考验，<strong>请勿在配置过程中突发奇想</strong>而走弯路，一定要认真阅读每一个段落、每一个句子！</p>
<p><img src="https://pic2.zhimg.com/80/v2-59db8c16ee82335a0f6229b1f01f5481_720w.jpg" alt="img">图 1：常规展示</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/v2-f25122805f8f8ab76ffc979238fc2444_720w.jpg" alt="img">图 2：在 git 目录下的效果。</p>
<h2 id="1-安装-Windows-Terminal"><a href="#1-安装-Windows-Terminal" class="headerlink" title="1. 安装 Windows Terminal"></a>1. 安装 Windows Terminal</h2><p>相信这一步对大多数人不构成任何困难，去 <strong>Microsoft Store</strong> 搜索下载就是了。</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">代理打开后，可能无法安装</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>配置</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110204016221.png" alt="image-20211110204016221"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">NICE! 安装成功，问题主要集中在两点：</span><br><span class="line"><span class="number">1</span>。字体选择时，字体Fira Code NF中间加了空格，导致程序配置识别不了，改FiraCode NF正常了；</span><br><span class="line"><span class="number">2</span>。最后的配置时，按下面的评论一切ok</span><br><span class="line"># 设置 PowerShell 主题</span><br><span class="line"><span class="built_in">Set</span>-Theme Paradox</span><br><span class="line">由于oh-my-push已经更新，这个语句不识别了。需要换成</span><br><span class="line"></span><br><span class="line"><span class="built_in">Set</span>-PoshPrompt -Theme Paradox</span><br></pre></td></tr></table></figure>



<p>修改后的配置文件：</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">/* </span><br><span class="line"> * Author: 刘鹏</span><br><span class="line"> * Email: littleNewton6@gmail.com</span><br><span class="line"> * <span class="built_in">Date</span>: <span class="number">2020</span>, Nov. <span class="number">30</span></span><br><span class="line"> * &lt;Alt&gt; + Settings，打开默认设置</span><br><span class="line"> * 参考文档：https://aka.ms/terminal-documentation</span><br><span class="line"> * DESCRIPTION: 配置 Windows Terminal 的选项文件</span><br><span class="line"> * TAB_SIZE = <span class="number">8</span></span><br><span class="line"> *字体空格，已经修改</span><br><span class="line"> *显示<span class="built_in">cmd</span>，方便<span class="built_in">cmd</span>的管理员操作--&gt; 该p7终端会多线程并发执行 命令&amp;命令</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"> &#123;</span><br><span class="line">	&quot;$schema&quot;: &quot;https://aka.ms/terminal-profiles-schema&quot;,</span><br><span class="line">	&quot;defaultProfile&quot;: &quot;&#123;<span class="number">574</span>e775e-<span class="number">4</span>f2a-<span class="number">5</span>b96-ac1e-a2962a402336&#125;&quot;,</span><br><span class="line"></span><br><span class="line">	// 全局主题</span><br><span class="line">	&quot;theme&quot;: &quot;system&quot;,</span><br><span class="line">	&quot;alwaysShowTabs&quot;: true,</span><br><span class="line">	&quot;tabWidthMode&quot;: &quot;equal&quot;,</span><br><span class="line">	&quot;confirmCloseAllTabs&quot;: false,</span><br><span class="line"></span><br><span class="line">	// 位置</span><br><span class="line">	// (<span class="number">1</span>) <span class="number">1920</span>x1080 - (<span class="number">320</span>, <span class="number">65</span>)</span><br><span class="line">	// (<span class="number">2</span>) <span class="number">5120</span>x2880 - (<span class="number">1275</span>,<span class="number">692</span>)</span><br><span class="line">	&quot;initialPosition&quot;: &quot;<span class="number">135</span>,<span class="number">140</span>&quot;,</span><br><span class="line">	&quot;initialCols&quot;: <span class="number">135</span>,</span><br><span class="line">	&quot;initialRows&quot;: <span class="number">45</span>,</span><br><span class="line"></span><br><span class="line">	// 禁止自动生成</span><br><span class="line">	&quot;disabledProfileSources&quot;: [</span><br><span class="line">		&quot;Windows.Terminal.Azure&quot;</span><br><span class="line">	],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	// ======================== PROFILES 配置 BEGIN ========================</span><br><span class="line">	&quot;profiles&quot;: [</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		// ======================== PWSH7 配置 BEGIN ========================</span><br><span class="line">		&#123;</span><br><span class="line">			// 键标记</span><br><span class="line">			&quot;guid&quot;:			&quot;&#123;<span class="number">574</span>e775e-<span class="number">4</span>f2a-<span class="number">5</span>b96-ac1e-a2962a402336&#125;&quot;,</span><br><span class="line">			&quot;name&quot;:			&quot;PowerShell Core <span class="number">7</span>.<span class="number">1</span>.<span class="number">0</span>&quot;,</span><br><span class="line">			&quot;source&quot;:		&quot;Windows.Terminal.PowershellCore&quot;,</span><br><span class="line">			// 行为</span><br><span class="line">			&quot;closeOnExit&quot;:		true,</span><br><span class="line">			&quot;commandline&quot;:		&quot;C:/Program Files/PowerShell/<span class="number">7</span>/pwsh.exe -nologo&quot;,</span><br><span class="line">			&quot;hidden&quot;:		false,</span><br><span class="line">			&quot;historySize&quot;:		<span class="number">9001</span>,</span><br><span class="line">			&quot;snapOnInput&quot;:		true,</span><br><span class="line">			&quot;startingDirectory&quot;: &quot;.&quot;,</span><br><span class="line">			// 外观</span><br><span class="line">			&quot;icon&quot;:			&quot;D:/Users/newton/Software/develop/shell/pwsh-<span class="number">7</span>.<span class="number">1</span>.ico&quot;,</span><br><span class="line">			&quot;acrylicOpacity&quot;:	<span class="number">0</span>.<span class="number">5</span>,</span><br><span class="line">			&quot;cursorColor&quot;:		&quot;#FFFFFF&quot;,</span><br><span class="line">			&quot;cursorShape&quot;:		&quot;bar&quot;,</span><br><span class="line">			&quot;fontFace&quot;:		&quot;FiraCode NF&quot;,</span><br><span class="line">			&quot;fontSize&quot;:		<span class="number">11</span>,</span><br><span class="line">			&quot;padding&quot;:		&quot;<span class="number">5</span>, <span class="number">5</span>, <span class="number">20</span>, <span class="number">25</span>&quot;,</span><br><span class="line">			&quot;useAcrylic&quot;:		false,</span><br><span class="line">			// 颜色主题</span><br><span class="line">			&quot;colorScheme&quot;:		&quot;Homebrew&quot;</span><br><span class="line">		&#125;,</span><br><span class="line">		// ======================== PWSH7 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		// ======================== WSL 配置 BEGIN ========================</span><br><span class="line">		&#123;</span><br><span class="line">			// 键标记</span><br><span class="line">			&quot;guid&quot;:			&quot;&#123;<span class="number">07</span>b52e3e-de2c-<span class="number">5</span>db4-bd2d-ba144ed6c273&#125;&quot;,</span><br><span class="line">			&quot;name&quot;:			&quot;Ubuntu-<span class="number">20</span>.<span class="number">04</span>&quot;,</span><br><span class="line">			&quot;source&quot;:		&quot;Windows.Terminal.Wsl&quot;,</span><br><span class="line">			// 行为</span><br><span class="line">			&quot;closeOnExit&quot;:		true,</span><br><span class="line">			&quot;commandline&quot;:		&quot;wsl.exe -d Ubuntu-<span class="number">20</span>.<span class="number">04</span>&quot;,</span><br><span class="line">			&quot;hidden&quot;:		false,</span><br><span class="line">			&quot;historySize&quot;:		<span class="number">9001</span>,</span><br><span class="line">			&quot;snapOnInput&quot;:		true,</span><br><span class="line">			&quot;startingDirectory&quot;:	&quot;.&quot;,</span><br><span class="line">			// 外观</span><br><span class="line">			&quot;acrylicOpacity&quot;:	<span class="number">0</span>.<span class="number">5</span>,</span><br><span class="line">			&quot;cursorColor&quot;:		&quot;#FFFFFF&quot;,</span><br><span class="line">			&quot;cursorShape&quot;:		&quot;bar&quot;,</span><br><span class="line">			&quot;fontFace&quot;:		&quot;FiraCode NF&quot;,</span><br><span class="line">			&quot;fontSize&quot;:		<span class="number">11</span>,</span><br><span class="line">			&quot;padding&quot;:		&quot;<span class="number">5</span>, <span class="number">5</span>, <span class="number">20</span>, <span class="number">25</span>&quot;,</span><br><span class="line">			&quot;useAcrylic&quot;:		false,</span><br><span class="line">			// 颜色主题</span><br><span class="line">			&quot;colorScheme&quot;:		&quot;Homebrew&quot;</span><br><span class="line">		&#125;,</span><br><span class="line">		// ======================== WSL 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		// ======================== PWSH5 配置 BEGIN ========================</span><br><span class="line">		&#123;</span><br><span class="line">			// 键标记</span><br><span class="line">			&quot;guid&quot;:			&quot;&#123;<span class="number">61</span>c54bbd-c2c6-<span class="number">5271</span>-<span class="number">96</span>e7-<span class="number">009</span>a87ff44bf&#125;&quot;,</span><br><span class="line">			&quot;name&quot;:			&quot;Windows PowerShell&quot;,</span><br><span class="line">			// 行为</span><br><span class="line">			&quot;closeOnExit&quot;:		true,</span><br><span class="line">			&quot;commandline&quot;:		&quot;powershell.exe&quot;,</span><br><span class="line">			&quot;hidden&quot;: true,</span><br><span class="line">			&quot;historySize&quot;:		<span class="number">9001</span>,</span><br><span class="line">			&quot;snapOnInput&quot;:		true,</span><br><span class="line">			&quot;startingDirectory&quot;:	&quot;.&quot;,</span><br><span class="line">			// 外观</span><br><span class="line">			&quot;acrylicOpacity&quot;:	<span class="number">0</span>.<span class="number">5</span>,</span><br><span class="line">			&quot;cursorColor&quot;:		&quot;#FFFFFF&quot;,</span><br><span class="line">			&quot;cursorShape&quot;:		&quot;bar&quot;,</span><br><span class="line">			&quot;fontFace&quot;:		&quot;FiraCode NF&quot;,</span><br><span class="line">			&quot;fontSize&quot;:		<span class="number">11</span>,</span><br><span class="line">			&quot;padding&quot;:		&quot;<span class="number">5</span>, <span class="number">5</span>, <span class="number">20</span>, <span class="number">25</span>&quot;,</span><br><span class="line">			&quot;useAcrylic&quot;:		false,</span><br><span class="line">			// 颜色主题</span><br><span class="line">			&quot;colorScheme&quot;:		&quot;Homebrew&quot;</span><br><span class="line">		&#125;,</span><br><span class="line">		// ======================== PWSH5 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		// ======================== <span class="built_in">CMD</span> 配置 BEGIN ========================</span><br><span class="line">		&#123;</span><br><span class="line">			// 键标记</span><br><span class="line">			&quot;guid&quot;:		&quot;&#123;<span class="number">0</span>caa0dad-<span class="number">35</span>be-<span class="number">5</span>f56-a8ff-afceeeaa6101&#125;&quot;,</span><br><span class="line">			&quot;name&quot;:		&quot;<span class="built_in">cmd</span>&quot;,</span><br><span class="line">			// 行为</span><br><span class="line">			&quot;commandline&quot;:	&quot;<span class="built_in">cmd</span>.exe&quot;,</span><br><span class="line">			//不隐藏<span class="built_in">CMD</span></span><br><span class="line">			&quot;hidden&quot;:	false,</span><br><span class="line">			// 字体</span><br><span class="line">			&quot;fontFace&quot;:	&quot;FiraCode NF&quot;,</span><br><span class="line">			&quot;fontSize&quot;:	<span class="number">11</span></span><br><span class="line">		&#125;,</span><br><span class="line">		// ======================== <span class="built_in">CMD</span> 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		// ======================== AZURE 配置 BEGIN ========================</span><br><span class="line">		&#123;</span><br><span class="line">			&quot;guid&quot;:		&quot;&#123;b453ae62-<span class="number">4</span>e3d-<span class="number">5</span>e58-b989-<span class="number">0</span>a998ec441b8&#125;&quot;,</span><br><span class="line">			&quot;name&quot;:		&quot;Azure Cloud Shell&quot;,</span><br><span class="line">			&quot;hidden&quot;:	true,</span><br><span class="line">			&quot;source&quot;:	&quot;Windows.Terminal.Azure&quot;</span><br><span class="line">		&#125;</span><br><span class="line">		// ======================== AZURE 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	],</span><br><span class="line">	// ======================== PROFILES 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	// ======================== <span class="built_in">COLOR</span> SCHEME 配置 BEGIN ========================</span><br><span class="line">	&quot;schemes&quot;: [</span><br><span class="line">		&#123;</span><br><span class="line">			&quot;name&quot;:		&quot;Homebrew&quot;,</span><br><span class="line">			&quot;black&quot;:	&quot;#<span class="number">000000</span>&quot;,</span><br><span class="line">			&quot;red&quot;:		&quot;#FC5275&quot;,</span><br><span class="line">			&quot;green&quot;:	&quot;#<span class="number">00</span>a600&quot;,</span><br><span class="line">			&quot;yellow&quot;:	&quot;#ffff00&quot;,</span><br><span class="line">			&quot;blue&quot;:		&quot;#<span class="number">6666</span>e9&quot;,</span><br><span class="line">			&quot;purple&quot;:	&quot;#ff00ff&quot;,</span><br><span class="line">			&quot;cyan&quot;:		&quot;#<span class="number">00</span>a6b2&quot;,</span><br><span class="line">			&quot;white&quot;:	&quot;#bfbfbf&quot;,</span><br><span class="line">			&quot;brightBlack&quot;:	&quot;#<span class="number">666666</span>&quot;,</span><br><span class="line">			&quot;brightRed&quot;:	&quot;#ff6060&quot;,</span><br><span class="line">			&quot;brightGreen&quot;:	&quot;#<span class="number">00</span>d900&quot;,</span><br><span class="line">			&quot;brightYellow&quot;:	&quot;#fdff73&quot;,</span><br><span class="line">			&quot;brightBlue&quot;:	&quot;#<span class="number">00</span>a2ff&quot;,</span><br><span class="line">			&quot;brightPurple&quot;:	&quot;#ff08ff&quot;,</span><br><span class="line">			&quot;brightCyan&quot;:	&quot;#<span class="number">53</span>ffff&quot;,</span><br><span class="line">			&quot;brightWhite&quot;:	&quot;#e5e5e5&quot;,</span><br><span class="line">			&quot;background&quot;:	&quot;#<span class="number">283033</span>&quot;,</span><br><span class="line">			&quot;foreground&quot;:	&quot;#<span class="number">00</span>ff00&quot;</span><br><span class="line">		&#125;</span><br><span class="line">	],</span><br><span class="line">	// ======================== <span class="built_in">COLOR</span> SCHEME 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	// ======================== HOTKEY 配置 BEGIN ========================</span><br><span class="line">	&quot;keybindings&quot;: [</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		// ======================== <span class="number">1</span>. 界面视图 配置 BEGIN ========================</span><br><span class="line">		// <span class="number">1</span>.<span class="number">1</span> 调节字体大小</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;adjustFontSize&quot;, &quot;delta&quot;:  <span class="number">1</span> &#125;, &quot;keys&quot;: &quot;ctrl+=&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;adjustFontSize&quot;, &quot;delta&quot;: -<span class="number">1</span> &#125;, &quot;keys&quot;: &quot;ctrl+-&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;:             &quot;resetFontSize&quot;,                 &quot;keys&quot;: &quot;ctrl+<span class="number">0</span>&quot; &#125;,</span><br><span class="line">		// ======================== <span class="number">1</span>. 界面视图 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		// ======================== <span class="number">2</span>. PANE 分割 配置 BEGIN ========================</span><br><span class="line">		// <span class="number">2</span>.<span class="number">1</span> 水平、竖直分割</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;splitPane&quot;, &quot;split&quot;: &quot;horizontal&quot; &#125;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+-&quot;    &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;splitPane&quot;, &quot;split&quot;: &quot;vertical&quot;   &#125;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+plus&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;splitPane&quot;, &quot;split&quot;: &quot;auto&quot;       &#125;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+|&quot;    &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;splitPane&quot;, &quot;split&quot;: &quot;auto&quot;, &quot;splitMode&quot;: &quot;duplicate&quot; &#125;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+d&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;splitPane&quot;, &quot;split&quot;: &quot;horizontal&quot;, &quot;profile&quot;: &quot;Ubuntu-<span class="number">20</span>.<span class="number">04</span>&quot; &#125;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+u&quot; &#125;,</span><br><span class="line">		// <span class="number">2</span>.<span class="number">2</span> 按下 Alt 键，同时按下方向键，在多个 pane 之间切换</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;moveFocus&quot;,  &quot;direction&quot;: &quot;down&quot;  &#125;, &quot;keys&quot;: &quot;alt+down&quot;  &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;moveFocus&quot;,  &quot;direction&quot;: &quot;left&quot;  &#125;, &quot;keys&quot;: &quot;alt+left&quot;  &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;moveFocus&quot;,  &quot;direction&quot;: &quot;right&quot; &#125;, &quot;keys&quot;: &quot;alt+right&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;moveFocus&quot;,  &quot;direction&quot;: &quot;up&quot;    &#125;, &quot;keys&quot;: &quot;alt+up&quot;    &#125;,</span><br><span class="line">		// <span class="number">2</span>.<span class="number">3</span> 按下 Alt + <span class="built_in">Shift</span>，同时按下方向键，调整当前 pane 的大小</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;resizePane&quot;, &quot;direction&quot;: &quot;down&quot;  &#125;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+down&quot;  &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;resizePane&quot;, &quot;direction&quot;: &quot;left&quot;  &#125;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+left&quot;  &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;resizePane&quot;, &quot;direction&quot;: &quot;right&quot; &#125;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+right&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;resizePane&quot;, &quot;direction&quot;: &quot;up&quot;    &#125;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+up&quot;    &#125;,</span><br><span class="line">		// <span class="number">2</span>.<span class="number">4</span> 关闭 pane</span><br><span class="line">		&#123; &quot;command&quot;: &quot;closePane&quot;, &quot;keys&quot;: &quot;alt+<span class="built_in">shift</span>+w&quot; &#125;,</span><br><span class="line">		// ======================== <span class="number">2</span>. PANE 分割 配置 BEGIN ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		// ======================== <span class="number">3</span>. 关于标签 配置 BEGIN ========================</span><br><span class="line">		// <span class="number">3</span>.<span class="number">1</span> 新建默认标签页</span><br><span class="line">		&#123; &quot;command&quot;: &quot;newTab&quot;, &quot;keys&quot;: [&quot;ctrl+n&quot;]&#125;,</span><br><span class="line">		// <span class="number">3</span>.<span class="number">2</span> 新建 N 号 profile 的标签</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;newTab&quot;, &quot;index&quot;: <span class="number">0</span> &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+<span class="number">1</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;newTab&quot;, &quot;index&quot;: <span class="number">1</span> &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+<span class="number">2</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;newTab&quot;, &quot;index&quot;: <span class="number">2</span> &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+<span class="number">3</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;newTab&quot;, &quot;index&quot;: <span class="number">3</span> &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+<span class="number">4</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;newTab&quot;, &quot;index&quot;: <span class="number">4</span> &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+<span class="number">5</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;newTab&quot;, &quot;index&quot;: <span class="number">5</span> &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+<span class="number">6</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;newTab&quot;, &quot;index&quot;: <span class="number">6</span> &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+<span class="number">7</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;newTab&quot;, &quot;index&quot;: <span class="number">7</span> &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+<span class="number">8</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;newTab&quot;, &quot;index&quot;: <span class="number">8</span> &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+<span class="number">9</span>&quot; &#125;,</span><br><span class="line">		// <span class="number">3</span>.<span class="number">3</span> 切换到第 N 个标签页</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: <span class="number">0</span> &#125;, &quot;keys&quot;: &quot;ctrl+alt+<span class="number">1</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: <span class="number">1</span> &#125;, &quot;keys&quot;: &quot;ctrl+alt+<span class="number">2</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: <span class="number">2</span> &#125;, &quot;keys&quot;: &quot;ctrl+alt+<span class="number">3</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: <span class="number">3</span> &#125;, &quot;keys&quot;: &quot;ctrl+alt+<span class="number">4</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: <span class="number">4</span> &#125;, &quot;keys&quot;: &quot;ctrl+alt+<span class="number">5</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: <span class="number">5</span> &#125;, &quot;keys&quot;: &quot;ctrl+alt+<span class="number">6</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: <span class="number">6</span> &#125;, &quot;keys&quot;: &quot;ctrl+alt+<span class="number">7</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: <span class="number">7</span> &#125;, &quot;keys&quot;: &quot;ctrl+alt+<span class="number">8</span>&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: <span class="number">8</span> &#125;, &quot;keys&quot;: &quot;ctrl+alt+<span class="number">9</span>&quot; &#125;,</span><br><span class="line">		// <span class="number">3</span>.<span class="number">4</span> -&gt; &lt;- 标签页间切换</span><br><span class="line">		&#123; &quot;command&quot;: &quot;nextTab&quot;,      &quot;keys&quot;: &quot;ctrl+tab&quot;       &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &quot;prevTab&quot;,      &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+tab&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &quot;duplicateTab&quot;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+d&quot;   &#125;,</span><br><span class="line">		// <span class="number">3</span>.<span class="number">5</span> 关闭标签页</span><br><span class="line">		&#123; &quot;command&quot;: &quot;closeTab&quot;, &quot;keys&quot;: &quot;ctrl+w&quot;&#125;,</span><br><span class="line">		// ======================== <span class="number">3</span>. 关于标签 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		// ======================== <span class="number">4</span>. 杂项热键 配置 BEGIN ========================</span><br><span class="line">		// <span class="number">4</span>.<span class="number">1</span> 搜索</span><br><span class="line">		&#123; &quot;command&quot;: &quot;<span class="built_in">find</span>&quot;, &quot;keys&quot;: &quot;ctrl+f&quot; &#125;,</span><br><span class="line">		// <span class="number">4</span>.<span class="number">2</span> 打开 settings.json </span><br><span class="line">		&#123; &quot;command&quot;: &quot;openSettings&quot;, &quot;keys&quot;: &quot;ctrl+;&quot; &#125;,</span><br><span class="line">		// <span class="number">4</span>.<span class="number">3</span> 复制、粘贴</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;<span class="built_in">copy</span>&quot;, &quot;singleLine&quot;: false &#125;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+c&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;<span class="built_in">copy</span>&quot;, &quot;singleLine&quot;: false &#125;, &quot;keys&quot;: &quot;ctrl+insert&quot;  &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &quot;paste&quot;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+v&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &quot;paste&quot;, &quot;keys&quot;: &quot;<span class="built_in">shift</span>+insert&quot; &#125;,</span><br><span class="line">		// <span class="number">4</span>.<span class="number">4</span> 上下滚动、上下整页滚动</span><br><span class="line">		&#123; &quot;command&quot;: &quot;scrollDown&quot;,     &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+down&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &quot;scrollUp&quot;  ,     &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+up&quot;   &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &quot;scrollDownPage&quot;, &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+pgdn&quot; &#125;,</span><br><span class="line">		&#123; &quot;command&quot;: &quot;scrollUpPage&quot;,   &quot;keys&quot;: &quot;ctrl+<span class="built_in">shift</span>+pgup&quot; &#125;</span><br><span class="line">		// ======================== <span class="number">4</span>. 杂项热键 配置 END   ========================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	]</span><br><span class="line">	// ======================== HOTKEY 配置 END   ========================</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>该项难度系数：0</p>
</blockquote>
<h2 id="2-安装字体"><a href="#2-安装字体" class="headerlink" title="2. 安装字体"></a>2. 安装字体</h2><p>这里仅推荐一款字体：<strong>Fira Code Nerd Font</strong>。该字体支持 ligature 连字功能，而且是一款专门为代码显示准备的字体，该字体也支持很多有趣的特殊字符，非常适合在终端里使用。该字体开源，广受海内外程序员好评！</p>
<p><a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/FiraCode.zip">单击此处从 GitHub 下载。</a></p>
<p>装上该字体，即可进入下一步。</p>
<p>需要的字体如图：</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110212454724.png" alt="image-20211110212454724"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">如上图若不行：</span><br><span class="line">解压下图全部放置文件夹--&gt;  C:\Windows\Fonts\</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110212317050.png" alt="image-20211110212317050"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">如上图若不行：</span><br><span class="line">解压后全部放置文件夹--&gt;  C:\Windows\Fonts\</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110203703368.png" alt="image-20211110203703368"></p>
<blockquote>
<p>该项难度系数：1</p>
</blockquote>
<p>（或许有人登 Github 有网络问题，请自行解决。）</p>
<h2 id="3-1安装新款-Powershell-Core"><a href="#3-1安装新款-Powershell-Core" class="headerlink" title="3. 1安装新款 Powershell Core"></a>3. 1安装新款 Powershell Core</h2><p>首先声明，我们这儿用的 Powershell 与 Windows 自带的 Powershell 是完全不同的两个东西，除了功能相似和名字相同，两者内在已经天差地别。</p>
<p>现阶段 Windows 10 自带的 Powershell <strong>错误提示冗长</strong>，<strong>颜值低</strong>，<strong>速度慢</strong>，总之就是不太值得去用了。</p>
<p>那么 Powershell Core 是什么呢？这是伟大的 <strong>.Net Core 跨平台战略</strong>的一个重要组成部分，微软设想，要让强大的 .Net 在所有平台上通用，让这么强大的 Powershell 在所有平台上都能用，古老的 bash 可以退休了！</p>
<p>基于以上愿景，微软开始了漫长而辉煌的征程。</p>
<p>在 <a href="https://github.com/PowerShell/PowerShell/releases">https://github.com/PowerShell/PowerShell/releases</a> 这个GitHub 链接里，有目前 Powershell 的最新版，我建议你从 release 里选个最新的 preview 版本。<strong>经过测试，这些预览版都相当稳定。</strong></p>
<p><a href="https://github.com/PowerShell/PowerShell/releases/download/v7.1.4/PowerShell-7.1.4-win-x64.msi">直接单击此处下载 x86-64 Windows 64 位 .msi 安装包。</a></p>
<blockquote>
<p>该项难度系数：1</p>
</blockquote>
<p>难度同样来自于访问 Github。</p>
<h2 id="3-2-添加-Powershell-启动参数"><a href="#3-2-添加-Powershell-启动参数" class="headerlink" title="3.2. 添加 Powershell 启动参数"></a>3.2. 添加 Powershell 启动参数</h2><p>在 powershell 中输入</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">notepad.exe <span class="variable">$Profile</span></span><br></pre></td></tr></table></figure>

<p>紧接着在弹出的页面中输入下面这一长串代码，保存并关闭。这个 Profile 配置文件与 .zshrc / .bashrc 文件一样，都是控制启动前参数的。</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">打开PowerShell <span class="number">7</span> （X64）</span><br><span class="line">打开配置文件--&gt; ：</span><br><span class="line">notepad.exe $Profile</span><br><span class="line">或者</span><br><span class="line">code $Profile   </span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110210521539.png" alt="image-20211110210521539"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110210450637.png" alt="image-20211110210450637"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110210741797.png" alt="image-20211110210741797"></p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;#</span></span><br><span class="line"><span class="comment"> * FileName: Microsoft.PowerShell_profile.ps1</span></span><br><span class="line"><span class="comment"> * Author: 刘 鹏</span></span><br><span class="line"><span class="comment"> * Email: littleNewton6@outlook.com</span></span><br><span class="line"><span class="comment"> * Date: 2021, Aug. 21</span></span><br><span class="line"><span class="comment"> * Copyright: No copyright. You can use this code for anything with no warranty.</span></span><br><span class="line"><span class="comment">#&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#------------------------------- Import Modules BEGIN -------------------------------</span></span><br><span class="line"><span class="comment"># 引入 posh-git</span></span><br><span class="line"><span class="built_in">Import-Module</span> posh<span class="literal">-git</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 引入 oh-my-posh</span></span><br><span class="line"><span class="built_in">Import-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 引入 ps-read-line</span></span><br><span class="line"><span class="built_in">Import-Module</span> PSReadLine</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 PowerShell 主题</span></span><br><span class="line"><span class="comment"># Set-PoshPrompt ys</span></span><br><span class="line"><span class="built_in">Set-PoshPrompt</span> paradox</span><br><span class="line"><span class="comment">#------------------------------- Import Modules END   -------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------------------------  Set Hot-keys BEGIN  -------------------------------</span></span><br><span class="line"><span class="comment"># 设置预测文本来源为历史记录</span></span><br><span class="line"><span class="built_in">Set-PSReadLineOption</span> <span class="literal">-PredictionSource</span> <span class="built_in">History</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 每次回溯输入历史，光标定位于输入内容末尾</span></span><br><span class="line"><span class="built_in">Set-PSReadLineOption</span> <span class="literal">-HistorySearchCursorMovesToEnd</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 Tab 为菜单补全和 Intellisense</span></span><br><span class="line"><span class="built_in">Set-PSReadLineKeyHandler</span> <span class="literal">-Key</span> <span class="string">&quot;Tab&quot;</span> <span class="literal">-Function</span> MenuComplete</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 Ctrl+d 为退出 PowerShell</span></span><br><span class="line"><span class="built_in">Set-PSReadlineKeyHandler</span> <span class="literal">-Key</span> <span class="string">&quot;Ctrl+d&quot;</span> <span class="literal">-Function</span> ViExit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 Ctrl+z 为撤销</span></span><br><span class="line"><span class="built_in">Set-PSReadLineKeyHandler</span> <span class="literal">-Key</span> <span class="string">&quot;Ctrl+z&quot;</span> <span class="literal">-Function</span> Undo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置向上键为后向搜索历史记录</span></span><br><span class="line"><span class="built_in">Set-PSReadLineKeyHandler</span> <span class="literal">-Key</span> UpArrow <span class="literal">-Function</span> HistorySearchBackward</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置向下键为前向搜索历史纪录</span></span><br><span class="line"><span class="built_in">Set-PSReadLineKeyHandler</span> <span class="literal">-Key</span> DownArrow <span class="literal">-Function</span> HistorySearchForward</span><br><span class="line"><span class="comment">#-------------------------------  Set Hot-keys END    -------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------------------------    Functions BEGIN   -------------------------------</span></span><br><span class="line"><span class="comment"># Python 直接执行</span></span><br><span class="line"><span class="variable">$env:PATHEXT</span> += <span class="string">&quot;;.py&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新系统组件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Update-Packages</span></span> &#123;</span><br><span class="line">	<span class="comment"># update pip</span></span><br><span class="line">	<span class="built_in">Write-Host</span> <span class="string">&quot;Step 1: 更新 pip&quot;</span> <span class="literal">-ForegroundColor</span> Magenta <span class="literal">-BackgroundColor</span> Cyan</span><br><span class="line">	<span class="variable">$a</span> = pip list -<span class="literal">-outdated</span></span><br><span class="line">	<span class="variable">$num_package</span> = <span class="variable">$a</span>.Length - <span class="number">2</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> <span class="operator">-lt</span> <span class="variable">$num_package</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">		<span class="variable">$tmp</span> = (<span class="variable">$a</span>[<span class="number">2</span> + <span class="variable">$i</span>].Split(<span class="string">&quot; &quot;</span>))[<span class="number">0</span>]</span><br><span class="line">		pip install <span class="literal">-U</span> <span class="variable">$tmp</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment"># update TeX Live</span></span><br><span class="line">	<span class="variable">$CurrentYear</span> = <span class="built_in">Get-Date</span> <span class="literal">-Format</span> yyyy</span><br><span class="line">	<span class="built_in">Write-Host</span> <span class="string">&quot;Step 2: 更新 TeX Live&quot;</span> <span class="variable">$CurrentYear</span> <span class="literal">-ForegroundColor</span> Magenta <span class="literal">-BackgroundColor</span> Cyan</span><br><span class="line">	tlmgr update -<span class="literal">-self</span></span><br><span class="line">	tlmgr update -<span class="literal">-all</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># update Chocolotey</span></span><br><span class="line">	<span class="built_in">Write-Host</span> <span class="string">&quot;Step 3: 更新 Chocolatey&quot;</span> <span class="literal">-ForegroundColor</span> Magenta <span class="literal">-BackgroundColor</span> Cyan</span><br><span class="line">	choco outdated</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#-------------------------------    Functions END     -------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------------------------   Set Alias BEGIN    -------------------------------</span></span><br><span class="line"><span class="comment"># 1. 编译函数 make</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MakeThings</span></span> &#123;</span><br><span class="line">	nmake.exe <span class="variable">$args</span> <span class="literal">-nologo</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> make <span class="literal">-Value</span> MakeThings</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 更新系统 os-update</span></span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> os<span class="literal">-update</span> <span class="literal">-Value</span> <span class="built_in">Update-Packages</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 查看目录 ls &amp; ll</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListDirectory</span></span> &#123;</span><br><span class="line">	(<span class="built_in">Get-ChildItem</span>).Name</span><br><span class="line">	<span class="built_in">Write-Host</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> <span class="built_in">ls</span> <span class="literal">-Value</span> ListDirectory</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> ll <span class="literal">-Value</span> <span class="built_in">Get-ChildItem</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 打开当前工作目录</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">OpenCurrentFolder</span></span> &#123;</span><br><span class="line">	<span class="keyword">param</span></span><br><span class="line">	(</span><br><span class="line">		<span class="comment"># 输入要打开的路径</span></span><br><span class="line">		<span class="comment"># 用法示例：open C:\</span></span><br><span class="line">		<span class="comment"># 默认路径：当前工作文件夹</span></span><br><span class="line">		<span class="variable">$Path</span> = <span class="string">&#x27;.&#x27;</span></span><br><span class="line">	)</span><br><span class="line">	<span class="built_in">Invoke-Item</span> <span class="variable">$Path</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> open <span class="literal">-Value</span> OpenCurrentFolder</span><br><span class="line"><span class="comment">#-------------------------------    Set Alias END     -------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------------------------   Set Network BEGIN    -------------------------------</span></span><br><span class="line"><span class="comment"># 1. 获取所有 Network Interface</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Get-AllNic</span></span> &#123;</span><br><span class="line">	<span class="built_in">Get-NetAdapter</span> | <span class="built_in">Sort-Object</span> <span class="literal">-Property</span> MacAddress</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> getnic <span class="literal">-Value</span> <span class="built_in">Get-AllNic</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 获取 IPv4 关键路由</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Get-IPv4Routes</span></span> &#123;</span><br><span class="line">	<span class="built_in">Get-NetRoute</span> <span class="literal">-AddressFamily</span> IPv4 | <span class="built_in">Where-Object</span> <span class="literal">-FilterScript</span> &#123;<span class="variable">$_</span>.NextHop <span class="operator">-ne</span> <span class="string">&#x27;0.0.0.0&#x27;</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> getip <span class="literal">-Value</span> <span class="built_in">Get-IPv4Routes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 获取 IPv6 关键路由</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Get-IPv6Routes</span></span> &#123;</span><br><span class="line">	<span class="built_in">Get-NetRoute</span> <span class="literal">-AddressFamily</span> IPv6 | <span class="built_in">Where-Object</span> <span class="literal">-FilterScript</span> &#123;<span class="variable">$_</span>.NextHop <span class="operator">-ne</span> <span class="string">&#x27;::&#x27;</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Set-Alias</span> <span class="literal">-Name</span> getip6 <span class="literal">-Value</span> <span class="built_in">Get-IPv6Routes</span></span><br><span class="line"><span class="comment">#-------------------------------    Set Network END     -------------------------------</span></span><br></pre></td></tr></table></figure>

<p>另外，如果你喜欢我的主题，可以用 Everything.exe 搜索 paradox.omp.json 这个文件，把它替换为这个<a href="https://gist.github.com/LittleNewton/e60df543481d495af65ede37734c69e4">链接</a>里的文件。</p>
<h2 id="4-安装-Powershell-插件"><a href="#4-安装-Powershell-插件" class="headerlink" title="4. 安装 Powershell 插件"></a>4. 安装 Powershell 插件</h2><p>这一步是灵魂。</p>
<p>直接上代码：管理员打开刚装好的新版 powershell，逐行输入命令。</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. 安装 PSReadline 包，该插件可以让命令行很好用，类似 zsh</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> PSReadLine  <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 安装 posh-git 包，让你的 git 更好用</span></span><br><span class="line"><span class="built_in">Install-Module</span> posh<span class="literal">-git</span>  <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 安装 oh-my-posh 包，让你的命令行更酷炫、优雅</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span> <span class="literal">-Scope</span> CurrentUser</span><br></pre></td></tr></table></figure>

<p>安装过程可能有点慢，<strong>好像卡住了一样</strong>，但是请耐心等待几分钟。等不及的同学自行搜索科学方法访问 GitHub.</p>
<p><strong>win键盘 –&gt; pwsh–&gt; 如图</strong></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110211552201.png" alt="image-20211110211552201"></p>
<p>安装时系统会提问是否继续，不用管它直接输入 <code>A</code> 并回车即可。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110211431062.png" alt="image-20211110211431062"></p>
<blockquote>
<p>该项难度系数：0</p>
</blockquote>
<h2 id="5-配置-Windows-Terminal"><a href="#5-配置-Windows-Terminal" class="headerlink" title="5. 配置 Windows Terminal"></a>5. 配置 Windows Terminal</h2><p>这一项是灵魂。</p>
<p>只有新款 Powershell 而没有 Windows Terminal，好比吃肉不放盐。</p>
<p>简单点，直接上配置代码，遇到不懂的地方，自己读注释。记得将此设置默认配置（代码已经给出）。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 默认的配置就是我们的新 powershell（重要！！！）</span></span><br><span class="line"><span class="string">&quot;defaultProfile&quot;</span>: <span class="string">&quot;&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;&quot;</span>,</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 键标记</span></span><br><span class="line">    <span class="attr">&quot;guid&quot;</span>: <span class="string">&quot;&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;PowerShell Core 7.1.0.5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;source&quot;</span>: <span class="string">&quot;Windows.Terminal.PowershellCore&quot;</span>,</span><br><span class="line">    <span class="comment">// 行为</span></span><br><span class="line">    <span class="attr">&quot;closeOnExit&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;commandline&quot;</span>: <span class="string">&quot;C:/Program Files/PowerShell/7-preview/pwsh.exe -nologo&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hidden&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;historySize&quot;</span>: <span class="number">9001</span>,</span><br><span class="line">    <span class="attr">&quot;snapOnInput&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;startingDirectory&quot;</span>: <span class="string">&quot;.&quot;</span>,</span><br><span class="line">    <span class="comment">// 外观</span></span><br><span class="line">    <span class="attr">&quot;icon&quot;</span>: <span class="string">&quot;D:/Users/newton/Documents/Softwares/software_windows/develop/shell/pwsh.ico&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;acrylicOpacity&quot;</span>: <span class="number">0.5</span>,</span><br><span class="line">    <span class="attr">&quot;cursorColor&quot;</span>: <span class="string">&quot;#FFFFFF&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;cursorShape&quot;</span>: <span class="string">&quot;bar&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;fontFace&quot;</span>: <span class="string">&quot;Fira Code&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;fontSize&quot;</span>: <span class="number">11</span>,</span><br><span class="line">    <span class="attr">&quot;padding&quot;</span>: <span class="string">&quot;5, 5, 20, 25&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;useAcrylic&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// 颜色主题</span></span><br><span class="line">    <span class="attr">&quot;colorScheme&quot;</span>: <span class="string">&quot;Homebrew&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>同时附上 Homebrew 配色，该配色经过我改良。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Homebrew&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;black&quot;</span>: <span class="string">&quot;#000000&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;red&quot;</span>: <span class="string">&quot;#FC5275&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;green&quot;</span>: <span class="string">&quot;#00a600&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;yellow&quot;</span>: <span class="string">&quot;#999900&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;blue&quot;</span>: <span class="string">&quot;#6666e9&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;purple&quot;</span>: <span class="string">&quot;#b200b2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;cyan&quot;</span>: <span class="string">&quot;#00a6b2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;white&quot;</span>: <span class="string">&quot;#bfbfbf&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightBlack&quot;</span>: <span class="string">&quot;#666666&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightRed&quot;</span>: <span class="string">&quot;#e50000&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightGreen&quot;</span>: <span class="string">&quot;#00d900&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightYellow&quot;</span>: <span class="string">&quot;#e5e500&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightBlue&quot;</span>: <span class="string">&quot;#0000ff&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightPurple&quot;</span>: <span class="string">&quot;#e500e5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightCyan&quot;</span>: <span class="string">&quot;#00e5e5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;brightWhite&quot;</span>: <span class="string">&quot;#e5e5e5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;background&quot;</span>: <span class="string">&quot;#283033&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;foreground&quot;</span>: <span class="string">&quot;#00ff00&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>特别注意，用其他配色可能<strong>降低颜值</strong>。</p>
<blockquote>
<p>Note: 由于 Windows Terminal 的配置<strong>非常复杂，整个文件很长</strong>，可直接参考这个<a href="https://gist.github.com/LittleNewton/b37d5182292c314df55decde56711075">链接</a>。</p>
<p>该项难度系数：0</p>
</blockquote>
<p>需要懂点 json，还<strong>需要会配置 Windows Terminal</strong>。</p>
<h2 id="6-添加右键菜单"><a href="#6-添加右键菜单" class="headerlink" title="6. 添加右键菜单"></a>6. 添加右键菜单</h2><p>这一步是<strong>灵魂中的灵魂</strong>。</p>
<blockquote>
<p><strong>这里涉及修改注册表，小白请勿手残改坏注册表，强烈建议事前建立系统还原点！</strong></p>
</blockquote>
<p>Github 上面已经有 powershell 脚本了，可以用管理员身份运行该脚本 + 某些参数以实现配置右键菜单。</p>
<p><a href="https://github.com/lextm/windowsterminal-shell/">原版 Github 仓库</a></p>
<p><a href="https://github.com/LittleNewton/windows_terminal_here">我修改后的脚本仓库</a> （建议用这个）</p>
<p>建议下载我这个，然后在管理员模式的 powershell 7 里运行：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.\install.ps1 mini</span><br></pre></td></tr></table></figure>

<p>记住一定要以<strong>管理员身份</strong>在 powershell 7 里面运行该脚本。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='0' height='0'></svg>)图 3： 用我修改后的脚本安装之后的效果如图</p>
<p><strong>目前发现问题</strong>：该脚本会读取 Windows Terminal 的 profile，然后把其中的非隐藏项目添加到右键菜单（默认视图），这之后如果你修改了 profile，那么需要用 <code>uninstall.ps1</code> 脚本先清除右键菜单，然后重新 install 一遍。</p>
<hr>
<h1 id="后续字体需要修改哦"><a href="#后续字体需要修改哦" class="headerlink" title="后续字体需要修改哦"></a>后续字体需要修改哦</h1><p><img src="https://pic1.zhimg.com/v2-693e52e1f96b18c645a8bd5019b75413_1440w.jpg?source=172ae18b" alt="PowerShell、CMD 和 Windows Terminal 的美化配置方法"></p>
<h3 id="PowerShell、CMD-和-Windows-Terminal-的美化配置方法"><a href="#PowerShell、CMD-和-Windows-Terminal-的美化配置方法" class="headerlink" title="PowerShell、CMD 和 Windows Terminal 的美化配置方法"></a>PowerShell、CMD 和 Windows Terminal 的美化配置方法</h3><p>[<img src="https://pic2.zhimg.com/v2-dace501ea3554d1b188350e00eda0bdf_xs.jpg?source=172ae18b" alt="孤单魂随风荡"></p>
<h2 id="1-安装字体"><a href="#1-安装字体" class="headerlink" title="1. 安装字体"></a>1. 安装字体</h2><p>（附件中有所需要的字体文件）</p>
<p>推荐使用 FiraCode NF 和更纱黑体。</p>
<p>FiraCode NF 下载地址：</p>
<p><a href="https://github.com/ryanoasis/nerd-fonts/releases">Github - FiraCode NFgithub.com/ryanoasis/nerd-fonts/releases</a></p>
<p><img src="https://pic4.zhimg.com/80/v2-f2ddf8bcc5de57ea20dfdaa161a9737f_720w.jpg" alt="img">下载 FiraCode NF Retina 字体</p>
<p>将.zip 文件下载到本地，然后打开该压缩文件，将“Fira Code Regular Nerd Font Complete Mono Windows Compatible.otf”文件解压到本地并重命名为“FiraCode NF.OTF”，右击后选择“为所有用户安装”。</p>
<p>更纱黑体下载地址：</p>
<p><a href="https://github.com/be5invis/Sarasa-Gothic/releases">Github - 更纱黑体github.com/be5invis/Sarasa-Gothic/releases<img src="https://pic1.zhimg.com/v2-931b0bcdb51a4508229f7717b8b804d4_ipico.jpg" alt="img"></a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/v2-336c5a7cff7b6cd5a202b32133c27c6f_720w.jpg" alt="img">下载更纱黑体</p>
<p>将 .7z 文件下载到本地，然后打开该压缩文件，将“sarasa-mono-sc-regular.ttf”文件解压到本地并重命名为“Sarasa Mono SC.TTF”，右击后选择“为所有用户安装”。</p>
<h2 id="2-设置默认字体"><a href="#2-设置默认字体" class="headerlink" title="2. 设置默认字体"></a>2. 设置默认字体</h2><p>设置默认字体是设置的 PowerShell 和 CMD 的默认字体。</p>
<h3 id="2-1-设置-CMD-的默认字体"><a href="#2-1-设置-CMD-的默认字体" class="headerlink" title="2.1 设置 CMD 的默认字体"></a>2.1 设置 CMD 的默认字体</h3><p>（附件中有注册表.reg 文件，可以直接导入）</p>
<p>按快捷键 Win+R 打开“运行”窗口，输入“regedit”后回车打开“注册表编辑器”，然后进入目录[HKEY_CURRENT_USER\Console%SystemRoot%_system32_cmd.exe]，在右侧空白处鼠标右击–&gt;新建–&gt;字符串值，并重命名为“FaceName”，双击打开后输入“Sarasa Mono SC”并“确定”。</p>
<p><img src="https://pic2.zhimg.com/80/v2-15ef8c2d90ead64031354233e13686a5_720w.jpg" alt="img">设置 CMD 的默认字体</p>
<h3 id="2-2-设置-PowerShell-的默认字体（System32）"><a href="#2-2-设置-PowerShell-的默认字体（System32）" class="headerlink" title="2.2 设置 PowerShell 的默认字体（System32）"></a>2.2 设置 PowerShell 的默认字体（System32）</h3><p>进入目录[HKEY_CURRENT_USER\Console%SystemRoot%_System32_WindowsPowerShell_v1.0_powershell.exe]，在右侧空白处鼠标右击–&gt;新建–&gt;字符串值，并重命名为“FaceName”，双击打开后输入“Sarasa Mono SC”并“确定”。</p>
<p><img src="https://pic1.zhimg.com/80/v2-63dd66b39ccf8b1106be10d942387db8_720w.jpg" alt="img">设置 PowerShell 的默认字体</p>
<h3 id="2-3-设置-PowerShell-的默认字体（SysWOW64）"><a href="#2-3-设置-PowerShell-的默认字体（SysWOW64）" class="headerlink" title="2.3 设置 PowerShell 的默认字体（SysWOW64）"></a>2.3 设置 PowerShell 的默认字体（SysWOW64）</h3><p>进入目录[HKEY_CURRENT_USER\Console%SystemRoot%_SysWOW64_WindowsPowerShell_v1.0_powershell.exe]，在右侧空白处鼠标右击–&gt;新建–&gt;字符串值，并重命名为“FaceName”，双击打开后输入“Sarasa Mono SC”并“确定”。</p>
<p><img src="https://pic3.zhimg.com/80/v2-b33cdd7bcb90a8da534927b201c2ede2_720w.jpg" alt="img">设置 PowerShell 的默认字体</p>
<h2 id="3-注册字体"><a href="#3-注册字体" class="headerlink" title="3. 注册字体"></a>3. 注册字体</h2><p>注册字体的作用当 PowerShell 设置 Sarasa Mono SC 字体后支持显示 Emoji。</p>
<p>进入目录[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\FontLink\SystemLink]，在右侧空白处鼠标右击–&gt;新建–&gt;字符串值，并重命名为“Sarasa Mono SC”，双击打开后输入如下值（最后一行需要留一个空段落）：</p>
<p>BSSYM7.ttf,Bookshelf Symbol 7</p>
<p>HOLOMDL2.ttf,HoloLens MDL2 Assets</p>
<p>MARLETT.ttf,Marlett</p>
<p>REFSPCL.ttf,MS Reference Specialty</p>
<p>MTEXTRA.ttf,MT Extra</p>
<p>SEGMDL2.ttf,Segoe MDL2 Assets</p>
<p>SEGUIEMJ.ttf,Segoe UI Emoji</p>
<p>SEGUIHIS.ttf,Segoe UI Historic</p>
<p>SEGUISYM.ttf,Segoe UI Symbol</p>
<p>SYMBOL.ttf,Symbol</p>
<p>WEBDINGS.ttf,Webdings</p>
<p>WINGDING.ttf,Wingdings</p>
<p>WINGDNG2.ttf,Wingdings 2</p>
<p>WINGDNG3.ttf,Wingdings 3</p>
<p>[请删掉此行文字保留空段落]</p>
<p>并“确定”。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='720' height='536'></svg>)注册字体</p>
<p>重启电脑。</p>
<h2 id="4-设置-PowerShell"><a href="#4-设置-PowerShell" class="headerlink" title="4. 设置 PowerShell"></a>4. 设置 PowerShell</h2><p>按快捷键 Win+R 打开“运行”窗口，输入“PowerShell”后回车打开“Windows PowerShell”，在标题栏右击，选择“属性”。</p>
<h3 id="4-1-字体"><a href="#4-1-字体" class="headerlink" title="4.1 字体"></a>4.1 字体</h3><p>切换到“字体”，找到“等距更纱黑体 SC”并选中，然后“大小”设置成“20”。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='720' height='562'></svg>)设置 PowerShell 字体</p>
<h3 id="4-2-颜色"><a href="#4-2-颜色" class="headerlink" title="4.2 颜色"></a>4.2 颜色</h3><p>（附件中有完整的设置截图，可以对照截图来挨个设置各个颜色块的颜色值）</p>
<p>切换到“颜色”。</p>
<p><strong>4.2.1 屏幕文字</strong></p>
<p>选中“屏幕文字”，然后点击下方选中的颜色块，再在“选定的颜色值”的“红(R) 蓝(H) 绿(L)”中依次输入“147，161，161”，“不透明度”选择“90”。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='579' height='737'></svg>)设置 PowerShell 颜色-屏幕文字</p>
<p><strong>4.2.2 屏幕背景</strong></p>
<p>选中“屏幕背景”，然后点击下方选中的颜色块，再在“选定的颜色值”的“红(R) 蓝(H) 绿(L)”中依次输入“253，246，227”。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='579' height='737'></svg>)设置 PowerShell 颜色-屏幕背景</p>
<p>注：为了能在后面的操作中看清 PowerShell 命令，请单独设置一下这个颜色块的颜色值，设置后“屏幕背景”仍然选择第一个颜色块。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='579' height='737'></svg>)单独设置此颜色块</p>
<h3 id="4-3-终端"><a href="#4-3-终端" class="headerlink" title="4.3 终端"></a>4.3 终端</h3><p>切换到“终端”，“光标形状”选中“竖条”。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='579' height='737'></svg>)设置 PowerShell 终端</p>
<p>点击“确定”，然后关闭 PowerShell 再重新打开，设置生效。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='996' height='667'></svg>)PowerShell 设置生效</p>
<h2 id="5-设置-CMD"><a href="#5-设置-CMD" class="headerlink" title="5. 设置 CMD"></a>5. 设置 CMD</h2><p>方法跟上方大致相同，不再赘述。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1007' height='789'></svg>)CMD 设置生效</p>
<h2 id="6-安装-Windows-Terminal"><a href="#6-安装-Windows-Terminal" class="headerlink" title="6. 安装 Windows Terminal"></a>6. 安装 Windows Terminal</h2><p>看到这里您可能会感觉到，怎么美化了 PowerShell 还是达不到心理的预期值（还是丑），这里向大家推荐使用微软官方出品的 Windows 终端工具——Windows Terminal。</p>
<p>下载地址：<a href="https://www.microsoft.com/zh-cn/p/windows-terminal/9n0dx20hk701">Windows Terminal</a>（会调用本地的 Windows 10 应用商店进行安装）</p>
<p>喜欢尝鲜可以安装预览版（已支持图形化设置界面），下载地址：</p>
<h3 id="6-1-配置-Windows-Terminal"><a href="#6-1-配置-Windows-Terminal" class="headerlink" title="6.1 配置 Windows Terminal"></a>6.1 配置 Windows Terminal</h3><p><strong>6.1.1 安装 Git</strong></p>
<p>（附件中有 Git 的安装包）</p>
<p>下载地址：</p>
<p>安装步骤没有什么特殊的，基本默认然后点下一步就可以了，实在不放心可以看这个教程：</p>
<p><strong>6.1.2 配置 Git 环境变量</strong></p>
<p>依次进入开始菜单–&gt;控制面板–&gt;系统–&gt;高级系统设置–&gt;高级–&gt;环境变量，在“系统变量”中找到“Path”并双击打开，点击“新建”，输入你的 Git 安装目录，比如我的是“C:\Program Files\Git”，回车，一直点击“确定”。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='677' height='664'></svg>)配置 Git 环境变量</p>
<p><strong>6.1.3 配置 Git 的用户名和邮箱</strong></p>
<p>打开 Git Bash，依次执行以下命令进行用户名和邮箱的配置（注意有无引号）：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">git config -<span class="literal">-global</span> user.name <span class="string">&quot;你的用户名&quot;</span></span><br><span class="line">git config -<span class="literal">-global</span> user.email 你的邮箱</span><br></pre></td></tr></table></figure>

<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='825' height='545'></svg>)配置 Git 的用户名和邮箱</p>
<p>配置完成后可以执行以下命令进行查看：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">git config -<span class="literal">-list</span></span><br></pre></td></tr></table></figure>

<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='825' height='545'></svg>)查看 Git 配置的用户名和邮箱</p>
<p>如果你不嫌烦的话呢，也可以对 Git Bash 的界面进行美化设置，而且可以设置成中文，右击标题栏，选择“Options”，切换到“Window”，在“UI Language”里选择“zn_CH”，这里不再赘述。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='450' height='435'></svg>)设置 Git Bash 界面语言</p>
<p><strong>6.1.4 修改执行策略权限</strong></p>
<p>按快捷键 Win+X+A，以管理员身份运行“Windows PowerShell”，先查看执行策略权限状态，执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Get-ExecutionPolicy -List</span><br></pre></td></tr></table></figure>

<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1473' height='789'></svg>)查看执行策略权限状态</p>
<p>可以看到“CurrentUser”和“LocalMachine”的执行策略权限无法运行未签名的脚本。</p>
<p>① 修改 CurrentUser 的执行策略权限，执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Set-ExecutionPolicy RemoteSigned -Scope CurrentUser</span><br></pre></td></tr></table></figure>

<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1473' height='789'></svg>)修改 CurrentUser 的执行策略权限</p>
<p>输入“A”，回车。</p>
<p>② 修改 LocalMachine 的执行策略权限，执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Set-ExecutionPolicy RemoteSigned</span><br></pre></td></tr></table></figure>

<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1473' height='789'></svg>)修改 LocalMachine 的执行策略权限</p>
<p>输入“A”，回车。</p>
<p>再次查看执行策略权限状态，执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Get-ExecutionPolicy -List</span><br></pre></td></tr></table></figure>

<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1473' height='789'></svg>)查看执行策略权限状态</p>
<p>现在 PowerShell 可以运行未签名的脚本了。</p>
<p><strong>6.1.5 安装 oh-my-posh</strong></p>
<p>① 安装 posh-git，执行以下命令：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> posh<span class="literal">-git</span></span><br></pre></td></tr></table></figure>

<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1473' height='789'></svg>)安装 oh-my-posh</p>
<p>输入“Y”，回车。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1473' height='789'></svg>)安装 oh-my-posh</p>
<p>输入“A”，回车。</p>
<p>② 安装 oh-my-posh，执行以下命令：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span></span><br></pre></td></tr></table></figure>

<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1473' height='789'></svg>)</p>
<p>输入“A”，回车。</p>
<p><strong>6.1.6 导入 oh-my-posh</strong></p>
<p>依次执行以下命令：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Import-Module</span> posh<span class="literal">-git</span></span><br><span class="line"><span class="built_in">Import-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span></span><br><span class="line"><span class="built_in">Set-PoshPrompt</span> <span class="literal">-Theme</span> PowerLine</span><br></pre></td></tr></table></figure>

<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1473' height='789'></svg>)</p>
<p><strong>6.1.7 新建配置文件</strong></p>
<p>（附件中有已经编辑好了的 Microsoft.PowerShell_profile.ps1 文件）</p>
<p>打开文件资源管理器，进入文件夹 C:\Users[你的用户名]\Documents\WindowsPowerShell，没有“WindowsPowerShell”文件夹就新建一个，然后在此文件夹内新建文本文档，编辑以下内容：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Import-Module</span> posh<span class="literal">-git</span></span><br><span class="line"><span class="built_in">Import-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span></span><br><span class="line"><span class="built_in">Set-PoshPrompt</span> <span class="literal">-Theme</span> PowerLine</span><br></pre></td></tr></table></figure>

<p>另存为“Microsoft.PowerShell_profile.ps1”文件。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='977' height='384'></svg>)主题加载配置文件</p>
<p><strong>6.1.8 美化配置</strong></p>
<p>（附件中有已经配置好了的 settings.json 文件，直接覆盖源文件即可。背景图片和图标也在其内，配置时请注意文件所在路径）</p>
<p>打开文件资源管理器，进入文件夹 C:\Users[你的用户名]\AppData\Local\Packages\Microsoft.WindowsTerminal_8wekyb3d8bbwe\LocalState（预览版的配置文件所在目录 C:\Users[你的用户名]\AppData\Local\Packages\Microsoft.WindowsTerminalPreview_8wekyb3d8bbwe\LocalState），然后右击“settings.json”文件，“打开方式”选择“记事本”，以下摘选的是会影响外观的配置项（请根据自己需要进行增删改）。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;defaults&quot;</span>: <span class="comment">//默认配置</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Put settings here that you want to apply to all profiles.</span></span><br><span class="line">        <span class="attr">&quot;colorScheme&quot;</span> : <span class="string">&quot;Ubuntu&quot;</span>, <span class="comment">// 主题</span></span><br><span class="line">        <span class="attr">&quot;useAcrylic&quot;</span> : <span class="literal">true</span>, <span class="comment">// 毛玻璃特效</span></span><br><span class="line">        <span class="attr">&quot;acrylicOpacity&quot;</span>: <span class="number">0.5</span>, <span class="comment">// 不透明度</span></span><br><span class="line">        <span class="attr">&quot;cursorColor&quot;</span> : <span class="string">&quot;#E6FF00&quot;</span>, <span class="comment">// 光标颜色</span></span><br><span class="line">        <span class="attr">&quot;cursorShape&quot;</span> : <span class="string">&quot;bar&quot;</span>, <span class="comment">// 光标类型</span></span><br><span class="line">        <span class="attr">&quot;fontFace&quot;</span> : <span class="string">&quot;FiraCode NF Retina&quot;</span>, <span class="comment">// 字体名称</span></span><br><span class="line">        <span class="attr">&quot;fontSize&quot;</span> : <span class="number">12</span>, <span class="comment">// 字体大小</span></span><br><span class="line">        <span class="attr">&quot;icon&quot;</span> : <span class="string">&quot;C:\\Users\\Pictures\\Java.png&quot;</span>, <span class="comment">// 图标</span></span><br><span class="line">        <span class="attr">&quot;backgroundImage&quot;</span>: <span class="string">&quot;C:\\Users\\Pictures\\colorful.jpg&quot;</span>, <span class="comment">// 背景图片</span></span><br><span class="line">        <span class="attr">&quot;backgroundImageOpacity&quot;</span>: <span class="number">0.25</span>, <span class="comment">// 背景图片的不透明度</span></span><br><span class="line">        <span class="attr">&quot;tabTitle&quot;</span> : <span class="string">&quot;开始学习啦&quot;</span>, <span class="comment">//标签名称</span></span><br><span class="line">        <span class="attr">&quot;startingDirectory&quot;</span> : <span class="string">&quot;C:\\Users\\JavaLearning&quot;</span>, <span class="comment">// 起始文件夹路径</span></span><br><span class="line">        <span class="attr">&quot;closeOnExit&quot;</span> : <span class="literal">true</span>, <span class="comment">// 输入exit退出命令窗口</span></span><br><span class="line">        <span class="attr">&quot;padding&quot;</span> : <span class="string">&quot;10, 10, 10, 10&quot;</span>, <span class="comment">// 内容距离界面的内部距离</span></span><br><span class="line">        <span class="attr">&quot;snapOnInput&quot;</span> : <span class="literal">true</span>, <span class="comment">// 嗅探输入</span></span><br><span class="line">        <span class="attr">&quot;historySize&quot;</span> : <span class="number">8001</span> <span class="comment">// 历史大小</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;schemes&quot;</span>: [ <span class="comment">// 主题（此处设置的主题是“Ubuntu”）</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Ubuntu&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;black&quot;</span>: <span class="string">&quot;#2e3436&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;red&quot;</span>: <span class="string">&quot;#cc0000&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;green&quot;</span>: <span class="string">&quot;#4e9a06&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;yellow&quot;</span>: <span class="string">&quot;#c4a000&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;blue&quot;</span>: <span class="string">&quot;#3465a4&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;purple&quot;</span>: <span class="string">&quot;#75507b&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;cyan&quot;</span>: <span class="string">&quot;#06989a&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;white&quot;</span>: <span class="string">&quot;#d3d7cf&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;brightBlack&quot;</span>: <span class="string">&quot;#555753&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;brightRed&quot;</span>: <span class="string">&quot;#ef2929&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;brightGreen&quot;</span>: <span class="string">&quot;#8ae234&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;brightYellow&quot;</span>: <span class="string">&quot;#fce94f&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;brightBlue&quot;</span>: <span class="string">&quot;#729fcf&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;brightPurple&quot;</span>: <span class="string">&quot;#ad7fa8&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;brightCyan&quot;</span>: <span class="string">&quot;#34e2e2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;brightWhite&quot;</span>: <span class="string">&quot;#eeeeec&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;background&quot;</span>: <span class="string">&quot;#300a24&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;foreground&quot;</span>: <span class="string">&quot;#eeeeec&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<p>想预览其它主题，请访问：</p>
<p>想下载其它主题，请访问：<a href="https://github.com/mbadolato/iTerm2-Color-Schemes/tree/master/windowsterminal">主题下载</a>（请不要直接覆盖 settings.json 文件，请编辑俩 .json 将内容复制到 settings.json 内的指定位置即可）</p>
<h3 id="6-2-查看效果"><a href="#6-2-查看效果" class="headerlink" title="6.2 查看效果"></a>6.2 查看效果</h3><p>附上效果图：</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1483' height='787'></svg>)</p>
<h2 id="7-附件下载"><a href="#7-附件下载" class="headerlink" title="7. 附件下载"></a>7. 附件下载</h2><p>链接：<a href="https://dustinwinvip.lanzoui.com/b01oqqcej">https://dustinwinvip.lanzoui.com/b01oqqcej</a></p>
<p>密码：mhzd</p>
<p>编辑于 10-29</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Terminal</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows上使用bat实现备份一个月内的数据库数据到文件</title>
    <url>/2021/11/11/cl449bvwg001pb4bh2oosg2lv/</url>
    <content><![CDATA[<h1 id="Windows上使用bat实现备份一个月内的数据库数据到文件"><a href="#Windows上使用bat实现备份一个月内的数据库数据到文件" class="headerlink" title="Windows上使用bat实现备份一个月内的数据库数据到文件"></a>Windows上使用bat实现备份一个月内的数据库数据到文件</h1><p><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" alt="img"></p>
<p><a href="https://blog.csdn.net/BADAO_LIUMANG_QIZHI">霸道流氓气质</a> 2021-08-15 16:07:12 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png" alt="img"> 32 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png" alt="img"> 收藏</p>
<p>分类专栏： <a href="https://blog.csdn.net/badao_liumang_qizhi/category_8401955.html">架构之路</a> 文章标签： <a href="https://www.csdn.net/tags/MtzaMg1sMDM1MDYtYmxvZwO0O0OO0O0O.html">bat</a></p>
<p>版权</p>
<p>脚本内容：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">setlocal enabledelayedexpansion</span><br><span class="line">::备份数据库名字</span><br><span class="line"><span class="built_in">set</span> dataBase=fzys</span><br><span class="line"><span class="built_in">set</span> dataBaseTwo=fzys-nacos</span><br><span class="line">::间隔时间</span><br><span class="line"><span class="built_in">set</span> INTERVAL=10</span><br><span class="line"> </span><br><span class="line">:Again</span><br><span class="line">::每7天重置一次</span><br><span class="line"><span class="keyword">for</span> /l %%i <span class="keyword">in</span> (1,1,7) <span class="keyword">do</span> (</span><br><span class="line"> <span class="built_in">echo</span> %date% %time:~0,8%</span><br><span class="line"> ::文件名</span><br><span class="line"> <span class="built_in">set</span> FileName=%dataBase%_%%i.sql</span><br><span class="line"> <span class="built_in">echo</span> !FileName!</span><br><span class="line"> <span class="string">&quot;C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqldump&quot;</span> -h 127.0.0.1 -uroot -p123456 %dataBase%&gt; <span class="string">&quot;D:\\dataBak\\!FileName!&quot;</span></span><br><span class="line"> </span><br><span class="line"> <span class="built_in">set</span> FileNameTwo=%dataBaseTwo%_%%i.sql</span><br><span class="line"> <span class="built_in">echo</span> !FileNameTwo!</span><br><span class="line"> <span class="string">&quot;C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqldump&quot;</span> -h 127.0.0.1 -uroot -p123456 %dataBaseTwo%&gt; <span class="string">&quot;D:\\dataBak\\!FileNameTwo!&quot;</span></span><br><span class="line"> </span><br><span class="line"> timeout %INTERVAL%</span><br><span class="line">)</span><br><span class="line">goto Again</span><br></pre></td></tr></table></figure>

<p>1、注意这里的间隔时间为10秒，保存近7次的记录，如果要一天备份一次，备份一个月的，要将INTERVAL设置为86400，将下面的for循环</p>
<p>的7改为30，这样就会每天备份一次，累计备份30天内的。</p>
<p>2、这里是备份两个数据库的数据，数量可以根据自己需要修改。</p>
<h1 id="用批处理文件自动备份文件及文件夹，并自动删除n天前的文件"><a href="#用批处理文件自动备份文件及文件夹，并自动删除n天前的文件" class="headerlink" title="用批处理文件自动备份文件及文件夹，并自动删除n天前的文件"></a>用批处理文件自动备份文件及文件夹，并自动删除n天前的文件</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> </span><br><span class="line">@echo off </span><br><span class="line">rem 格式化日期 </span><br><span class="line">rem date出来的日期是&quot;2006-02-22 星期三&quot;，不能直接拿来使用，所以应该先格式化一下 </span><br><span class="line">rem 变成我们想要的。date:~0,4的意思是从0开始截取4个字符 </span><br><span class="line">set d=%date:~0,4%%date:~5,2%%date:~8,2% </span><br><span class="line">rem 设定压缩程序路径，这里用的是WINRAR的rar.exe进行打包的 </span><br><span class="line">set path=C:\Program Files\WinRAR </span><br><span class="line">rem 设定要备份的目录 </span><br><span class="line">set srcDir=D:\databasc </span><br><span class="line">rem 设定备份文件所在目录 </span><br><span class="line">set dstDir=E:\temp\backup </span><br><span class="line">rem 设定备份文件的前缀,目前为temp,前缀为backup </span><br><span class="line">set webPrefix= </span><br><span class="line">rem 如果文件不存在,开始备份 </span><br><span class="line">if not exist %dstDir%%webPrefix%%d%.rar start Rar a -r %dstDir%%webPrefix%%d%.rar %srcDir% </span><br><span class="line">@echo on </span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>·```</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> </span><br><span class="line">@echo off </span><br><span class="line">rem ****************************** </span><br><span class="line">rem * 按时间删除文件目录的批处理 * </span><br><span class="line">rem ****************************** </span><br><span class="line">rem 设置临时目录的路径 </span><br><span class="line">set tempDir=%tmp%\remove_%date:~0,10% </span><br><span class="line">if not exist %tempDir% md %tempDir% </span><br><span class="line">rem 设置处理日期的脚本文件的路径 </span><br><span class="line">set scriptFile=%tempDir%\get_date.vbs </span><br><span class="line">rem 获得要保留的天数 </span><br><span class="line">set days=%~1 </span><br><span class="line">if &quot;%days%&quot; == &quot;&quot; goto printUsage </span><br><span class="line">rem 获得目标目录的路径 </span><br><span class="line">set dirPath=%~2 </span><br><span class="line">if &quot;%dirPath%&quot; == &quot;&quot; set dirPath=. </span><br><span class="line">rem 获得要操作的文件形式 </span><br><span class="line">set fileSpec=%~3 </span><br><span class="line">if &quot;%fileSpec%&quot; == &quot;&quot; set fileSpec=*.* </span><br><span class="line">rem 生成计算日期的脚本文件并获得删除的截止日期 </span><br><span class="line">echo d=date()-%1 &gt; %scriptFile% </span><br><span class="line">echo s=right(&quot;0000&quot; ^&amp; year(d),4) ^&amp; &quot;-&quot; ^&amp; right(&quot;00&quot; ^&amp; month(d),2) ^&amp; &quot;-&quot; ^&amp; right(&quot;00&quot; ^&amp; day(d),2) &gt;&gt; %scriptFile% </span><br><span class="line">echo wscript.echo s &gt;&gt; %scriptFile% </span><br><span class="line">for /f %%i in (&#x27;cscript /nologo %scriptFile%&#x27;) do set lastDate=%%i </span><br><span class="line">rem 处理目标目录里的每个对象 </span><br><span class="line">for /f &quot;tokens=1,2,3* delims=&lt;&gt; &quot; %%i in (&#x27;dir &quot;%dirPath%\%fileSpec%&quot; /a /-c /tc&#x27;) do call :proc &quot;%%i&quot; &quot;%%j&quot; &quot;%%k&quot; &quot;%%l&quot; </span><br><span class="line">goto :done </span><br><span class="line">rem 处理目标目录里对象的过程 </span><br><span class="line">:proc </span><br><span class="line">rem 获得对象的创建日期并判断是否为有效格式 </span><br><span class="line">set fileDate=%~1 </span><br><span class="line">echo %fileDate% | findstr &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]&quot; &gt; nul </span><br><span class="line">if errorlevel 1 goto end </span><br><span class="line">rem 获得对象的类型 </span><br><span class="line">set fileType=%~3 </span><br><span class="line">if &quot;%fileType%&quot; == &quot;&quot; goto end </span><br><span class="line">rem 获得对象的名称 </span><br><span class="line">set fileName=%~4 </span><br><span class="line">if &quot;%fileName%&quot; == &quot;&quot; goto end </span><br><span class="line">if &quot;%fileName%&quot; == &quot;.&quot; goto end </span><br><span class="line">if &quot;%fileName%&quot; == &quot;..&quot; goto end </span><br><span class="line">if &quot;%fileName%&quot; == &quot;字节&quot; goto end </span><br><span class="line">if &quot;%fileName%&quot; == &quot;可用字节&quot; goto end </span><br><span class="line">rem 判断对象日期是否小于或等于删除的截止日期 </span><br><span class="line">if &quot;%fileDate:~0,10%&quot; leq &quot;%lastDate%&quot; ( </span><br><span class="line">echo deleting &quot;%fileName%&quot; ... </span><br><span class="line">if &quot;%fileType%&quot; == &quot;DIR&quot; ( rd /s /q &quot;%dirPath%\%fileName%&quot; ) else ( del /q /f &quot;%dirPath%\%fileName%&quot; ) </span><br><span class="line">) </span><br><span class="line">goto end </span><br><span class="line">:error </span><br><span class="line">echo An error occurred during backuping. </span><br><span class="line">:done </span><br><span class="line">rd /s /q %tempDir% </span><br><span class="line">goto end </span><br><span class="line">:printUsage </span><br><span class="line">echo Usage: %0 ^&lt;Days^&gt; [Work directory] [Target file specification (can include wildcards)] </span><br><span class="line">goto end </span><br><span class="line">:end </span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="Windows自动备份（每天、每月最后一天、每个周日），自动清除备份命令"><a href="#Windows自动备份（每天、每月最后一天、每个周日），自动清除备份命令" class="headerlink" title="Windows自动备份（每天、每月最后一天、每个周日），自动清除备份命令"></a><a href="https://www.cnblogs.com/xuezhizhang/p/12228487.html">Windows自动备份（每天、每月最后一天、每个周日），自动清除备份命令</a></h1><p>直接上BAT文件的内容了，完整代码如下。</p>
<p>备份效果：保留最新7天的网站备份、最新4个周末的网站备份，每个月底的备份永久保留。</p>
<p>使用的WinRAR做文件压缩，请自行安装并注意命令中<strong>WinRAR的路劲、备份文件夹、存放路劲、3个异地存放路劲，根据应用需要调整</strong>。</p>
<p>将该BAT文件配置到Windows“任务计划程序”中，频率为每天固定时间运行（比如23点），即可实现自动备份。</p>
<p>下面是关于备份命令的几点简单说明（详细参数或用法请自行查询详细资料了解）：</p>
<ol>
<li>命令中::代表注释</li>
<li>set后定义的是变量名及值</li>
<li>%%之间加变量名，是取变量的值，%date:~0,4%指的是取系统时间中的前四位即年份数字</li>
<li>WinRAR压缩，排除了带.log的文件</li>
<li>xcopy即复制命令，/d指比较目标和原目录，目标目录为空则复制所有，否则只复制更新过的，/y指禁止提示确认要覆盖已存在的目标文件</li>
<li>FORFILES命令，/P指定Path ，表明要从哪里开始搜索；/M指按照条件搜索文件，默认是*.* ；/C指在每个文件上运行指定的Command 。带有空格的命令字符串必须用引号括起来。默认的Command 是”cmd /c echo @file”；/D指选择日期大于或等于(+ )（或者小于或等于(- )）指定日期的文件，不带时间参数则代表与当前日期比较</li>
<li><strong>代码中判断是否是周日，使用的是“日”这个字</strong>，考虑的是中文环境，<strong>英文环境请自行修改</strong></li>
<li><strong>闰年判断已经调整为标准的闰年判断条件</strong>（条件1：公历年份是4的倍数，且不是100的倍数；条件2：公历年份是整百数的，必须是400的倍数），%%代表取余</li>
<li>&gt;&gt;用来向文件中写日志</li>
<li><strong>新补充</strong>：set /a m=%date:<del>5,2%*1 <strong>这一行有BUG，8月份带出的数字是08，默认识别为八进制，且为不识别的八进制数字</strong>。错误信息：无效数字。数字常数只能是十进制(17)，十六位进制(0x11)或 八进制(021)。调整为：set  m=%date:</del>5,2% 即可。因为后面已经有if %m:<del>0,1%==0 set /a m=%m:</del>1,1%*1 这句处理0开头的情况。</li>
</ol>
<p><a href="javascript:void(0);"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">::年月日字符串</span><br><span class="line">set str_date=%date:~0,4%%date:~5,2%%date:~8,2%</span><br><span class="line">::星期几</span><br><span class="line">set str_week_val=%date:~-1%</span><br><span class="line">::本地要备份的文件夹路径</span><br><span class="line">set str_webpath_local=D:\wwwroot</span><br><span class="line">::本地备份文件存放路径</span><br><span class="line">set str_path_local=D:\web_bak</span><br><span class="line">::网站压缩包名称前缀</span><br><span class="line">set str_rar_name=MH_WEB</span><br><span class="line">::异地 备份路径</span><br><span class="line">set str_path_day=z:\最新7天网站备份</span><br><span class="line">::异地 备份路径</span><br><span class="line">set str_path_weekend=z:\最新4个周末的网站备份</span><br><span class="line">::异地 备份路径</span><br><span class="line">set str_path_month=z:\每个月底的网站备份</span><br><span class="line"></span><br><span class="line">::取两位月份数字</span><br><span class="line">set m=%date:~5,2%</span><br><span class="line">::第一位为0则只取个位数</span><br><span class="line">if %m:~0,1%==0 set /a m=%m:~1,1%*1</span><br><span class="line">::取四位年份数字（这个命令用不到5位数那年吧）</span><br><span class="line">set /a x=%date:~0,4%</span><br><span class="line">::闰年判断条件1 %%代表取余</span><br><span class="line">set /a y=%x%*1%%4</span><br><span class="line">set /a y2=%x%*1%%100</span><br><span class="line">::闰年判断条件2 %%代表取余</span><br><span class="line">set /a y3=%x%*1%%400</span><br><span class="line">::默认2月份只有28天</span><br><span class="line">set ld=28</span><br><span class="line">::满足闰年条件1</span><br><span class="line">if %y%==0  (</span><br><span class="line">    if %y2% NEQ  0  set ld=29</span><br><span class="line">)</span><br><span class="line">::满足闰年条件2</span><br><span class="line">if %y3%==0  set ld=29</span><br><span class="line">for %%i in (1 3 5 7 8 10 12)do (if %m%==%%i set /a ld=31)</span><br><span class="line">for %%i in (4 6 9 11)do (if %m%==%%i set /a ld=30)</span><br><span class="line">::echo  日期：%ld%</span><br><span class="line">::pause</span><br><span class="line"></span><br><span class="line">::当月月底的年月日字符串</span><br><span class="line">set str_monthend_val=%date:~0,4%%date:~5,2%%ld%%</span><br><span class="line"></span><br><span class="line">c:</span><br><span class="line">cd C:\Program Files\WinRAR\</span><br><span class="line"></span><br><span class="line">echo %time%开始压缩 &gt;&gt;%str_path_local%\%str_date%_log.bak</span><br><span class="line"></span><br><span class="line">rar a -u -x*.log* %str_path_local%\%str_rar_name%%str_date%.rar %str_webpath_local%</span><br><span class="line"></span><br><span class="line">echo %time%结束压缩 &gt;&gt;%str_path_local%\%str_date%_log.bak</span><br><span class="line">echo. &gt;&gt;%str_path_local%\%str_date%_log.bak</span><br><span class="line"></span><br><span class="line">echo %time%开始复制 &gt;&gt;%str_path_local%\%str_date%_log.bak</span><br><span class="line"></span><br><span class="line">if &quot;%str_date%&quot;==&quot;%str_monthend_val%&quot; (</span><br><span class="line">    xcopy %str_path_local%\%str_rar_name%%str_date%.rar %str_path_month% /d/y</span><br><span class="line">) else (</span><br><span class="line">if &quot;%str_week_val%&quot;==&quot;日&quot; ( </span><br><span class="line">    xcopy %str_path_local%\%str_rar_name%%str_date%.rar %str_path_weekend% /d/y</span><br><span class="line">    ::删除4周前的rar文件</span><br><span class="line">    FORFILES /P %str_path_weekend%  /M *.rar /D -22 /C &quot;cmd /c echo %time% deleting..@file.. &amp;del @file&quot;&gt;&gt;%str_path_local%\%str_date%_del.bak</span><br><span class="line"></span><br><span class="line">) else (</span><br><span class="line">    xcopy %str_path_local%\%str_rar_name%%str_date%.rar %str_path_day% /d/y</span><br><span class="line">    ::删除7天前的rar文件</span><br><span class="line">    FORFILES /P %str_path_day%  /M *.rar /D -7 /C &quot;cmd /c echo %time% deleting..@file.. &amp;del @file&quot;&gt;&gt;%str_path_local%\%str_date%_del.bak</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">echo %time%结束复制 &gt;&gt;%str_path_local%\%str_date%_log.bak</span><br><span class="line">echo. &gt;&gt;%str_path_local%\%str_date%_log.bak</span><br><span class="line"></span><br><span class="line">::删除本地1天前的rar文件</span><br><span class="line">FORFILES /P %str_path_local%  /M *.rar /D -1 /C &quot;cmd /c echo %time% deleting..@file.. &amp;del @file&quot;&gt;&gt;%str_path_local%\%str_date%_del.bak</span><br><span class="line">::删除本地7天前的bak记录文件</span><br><span class="line">FORFILES /P %str_path_local%  /M *.bak /D -7 /C &quot;cmd /c echo %time% deleting..@file.. &amp;del @file&quot;&gt;&gt;%str_path_local%\%str_date%_del.bak</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/copycode.gif" alt="复制代码"></a></p>
<p>本文首发于我的CSDN博客：<a href="https://blog.csdn.net/n_ithero/article/details/104037999">https://blog.csdn.net/n_ithero/article/details/104037999</a></p>
<h1 id="Windows自动压缩文件夹，备份并上传到网盘"><a href="#Windows自动压缩文件夹，备份并上传到网盘" class="headerlink" title="Windows自动压缩文件夹，备份并上传到网盘"></a>Windows自动压缩文件夹，备份并上传到网盘</h1><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/ece7838a23f8d3c42254d674051f5da3" alt="img"></p>
<p><a href="https://www.aobacore.com/author/1/">贰狐</a></p>
<p>2019-12-09</p>
<p>/</p>
<p>0 评论</p>
<p>/</p>
<p>2,118 阅读</p>
<p>/</p>
<p>未收录，点击推送</p>
<p>12/09</p>
<blockquote>
<p>日常生活中有一些需要定期备份的bot目录，但是手动备份太麻烦了，如果用Windows的计划任务搭配bat脚本进行自动备份，并上传到网盘呢？</p>
</blockquote>
<p>首先你需要有一个Onedrive或百度网盘。我比较推荐Onedrive是因为可以白嫖。当然，用百度网盘，然后设置某个目录为自动同步的文件夹也是可以的。</p>
<p>微软为每个账号提供空间为5GB的Onedrive，其实也够用了。</p>
<p>如果不够用可以白嫖↓</p>
<p><a href="https://51.ruyo.net/8263.html">申请OneDrive 5T 网盘便民方法和邮箱</a><br><a href="https://www.shanyemangfu.com/office365-a1.html">免费office365教育版A1子号（5Tonedrive网盘），可以自助申请</a> </p>
<p>之后安装一下 <a href="https://www.7-zip.org/">7-Zip</a> 和 <a href="https://www.microsoft.com/zh-cn/microsoft-365/onedrive/download">Onedrive</a></p>
<p>大功告成，然后复制下面的代码，按说明替换中间的目录，保存成auto_backup.bat</p>
<p>注意：所有目录中不得包含中文</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">::设置7z的命令行程序路径</span><br><span class="line">set zip7=C:\Program Files\7-Zip\7z.exe</span><br><span class="line">::设置压缩包保存路径，即你的onedrive本地路径</span><br><span class="line">set Save=D:\Onedrive\OneDrive - User\BMX_backup</span><br><span class="line">::当天日期，备份文件名</span><br><span class="line">set curdate=%date:~0,4%%date:~5,2%%date:~8,2%_%time:~0,2%%time:~3,2%%time:~6,2%</span><br><span class="line">::设置要打包压缩的文件夹</span><br><span class="line">set zipfile=D:\Mirai_bmx</span><br><span class="line"> </span><br><span class="line">::备份命令 -xr!.svn过滤\data\image\文件夹 mx0是存储模式压缩</span><br><span class="line">&quot;%zip7%&quot; a -tzip &quot;%Save%\cq_bmx_%curdate%.zip&quot; &quot;%zipfile%&quot; -mx0 -xr&quot;!*\data\image\&quot;</span><br><span class="line"></span><br><span class="line">::删除超过7天的备份--start--</span><br><span class="line">forfiles /p &quot;%Save%&quot; /m *.zip -d -7 /c &quot;cmd /c del /f @path&quot;</span><br></pre></td></tr></table></figure>

<p>到这里其实就可以直接设置计划任务，每天定时运行了</p>
<p>不过由于我这里需要对酷Q进行备份，运行中的程序是无法被压缩的。</p>
<p>并且程序长时运行也可能出现问题，所以我们做一个自动重启的步骤。</p>
<p>保存下列代码放在上述代码前面，用于强行结束Mirai（如果是骰子请设置自动保存，不然可能会丢失数据）。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:\Windows\system32\taskkill.exe /f /im MiraiOK_windows_386.exe</span><br><span class="line">C:\Windows\system32\taskkill.exe /f /im MiraiOK.exe</span><br><span class="line">C:\Windows\system32\taskkill.exe /f /im java.exe&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>如果是XQ的话，可以用，同样调用Taskkill，但是由于在某些系统上无法执行中文bat，所以需要加CHCP。不过XQ注意定时清理image目录，不然压缩时候会爆炸，几个G的图片在那压缩，可就麻烦了。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo off</span><br><span class="line">CHCP 65001</span><br><span class="line">echo  -------------------------</span><br><span class="line">echo  重启中，请稍后...</span><br><span class="line">echo  -------------------------</span><br><span class="line">C:\Windows\system32\taskkill.exe /f /im 先驱.exe</span><br><span class="line">保存下列代码，替换目录成bot的启动快捷方式，用于在备份后顺序启动（而不是开备份脚本的同时就打开了bot）。就起名叫start_mirai.bat吧</span><br><span class="line"></span><br><span class="line">start D:\Mirai_bmx\Mirai_bmx.lnk</span><br></pre></td></tr></table></figure>

<p>之后给这两个bat做一个控制开关，复制并替换上面两个脚本的存放位置，起名叫switch_mirai.bat</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:/auto_backup/auto_backup.bat&amp;&amp;;C:/auto_backup/start_mirai.bat</span><br></pre></td></tr></table></figure>

<p>然后将 switch_mirai.bat 放入计划任务或是启动项中</p>
<p>启动项目录可以通过Win+R打开[运行]后输入 <code>shell:startup</code> 来快速打开。</p>
<p>可以在Onedrive网页中将备份的目录设置为共享，这样就能在异地直接下载了！</p>
<p>%time:~6,2%</p>
<p>版权属于：</p>
<p>贰狐Blog - 一个笨蛋的博客</p>
<p>本文链接：</p>
<p>Windows自动压缩文件夹，备份并上传到网盘</p>
<p><img src="https://gravatar.loli.net/avatar/ece7838a23f8d3c42254d674051f5da3?d=mm" alt="img"></p>
<p><a href="https://51.ruyo.net/8263.html">申请OneDrive 5T 网盘便民方法和邮箱</a><br><a href="https://www.shanyemangfu.com/office365-a1.html">免费office365教育版A1子号（5Tonedrive网盘），可以自助申请</a> </p>
<p>之后安装一下 <a href="https://www.7-zip.org/">7-Zip</a> 和 <a href="https://www.microsoft.com/zh-cn/microsoft-365/onedrive/download">Onedrive</a></p>
<p>大功告成，然后复制下面的代码，按说明替换中间的目录，保存成auto_backup.bat</p>
<p>注意：所有目录中不得包含中文</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">::设置7z的命令行程序路径</span><br><span class="line">set zip7=C:\Program Files\7-Zip\7z.exe</span><br><span class="line">::设置压缩包保存路径，即你的onedrive本地路径</span><br><span class="line">set Save=D:\Onedrive\OneDrive - User\BMX_backup</span><br><span class="line">::当天日期，备份文件名</span><br><span class="line">set curdate=%date:~0,4%%date:~5,2%%date:~8,2%_%time:~0,2%%time:~3,2%%time:~6,2%</span><br><span class="line">::设置要打包压缩的文件夹</span><br><span class="line">set zipfile=D:\Mirai_bmx</span><br><span class="line"> </span><br><span class="line">::备份命令 -xr!.svn过滤\data\image\文件夹 mx0是存储模式压缩</span><br><span class="line">&quot;%zip7%&quot; a -tzip &quot;%Save%\cq_bmx_%curdate%.zip&quot; &quot;%zipfile%&quot; -mx0 -xr&quot;!*\data\image\&quot;</span><br><span class="line"></span><br><span class="line">::删除超过7天的备份--start--</span><br><span class="line">forfiles /p &quot;%Save%&quot; /m *.zip -d -7 /c &quot;cmd /c del /f @path&quot;</span><br></pre></td></tr></table></figure>

<p>到这里其实就可以直接设置计划任务，每天定时运行了</p>
<p>不过由于我这里需要对酷Q进行备份，运行中的程序是无法被压缩的。</p>
<p>并且程序长时运行也可能出现问题，所以我们做一个自动重启的步骤。</p>
<p>保存下列代码放在上述代码前面，用于强行结束Mirai（如果是骰子请设置自动保存，不然可能会丢失数据）。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:\Windows\system32\taskkill.exe /f /im MiraiOK_windows_386.exe</span><br><span class="line">C:\Windows\system32\taskkill.exe /f /im MiraiOK.exe</span><br><span class="line">C:\Windows\system32\taskkill.exe /f /im java.exe&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>如果是XQ的话，可以用，同样调用Taskkill，但是由于在某些系统上无法执行中文bat，所以需要加CHCP。不过XQ注意定时清理image目录，不然压缩时候会爆炸，几个G的图片在那压缩，可就麻烦了。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo off</span><br><span class="line">CHCP 65001</span><br><span class="line">echo  -------------------------</span><br><span class="line">echo  重启中，请稍后...</span><br><span class="line">echo  -------------------------</span><br><span class="line">C:\Windows\system32\taskkill.exe /f /im 先驱.exe</span><br><span class="line">保存下列代码，替换目录成bot的启动快捷方式，用于在备份后顺序启动（而不是开备份脚本的同时就打开了bot）。就起名叫start_mirai.bat吧</span><br><span class="line"></span><br><span class="line">start D:\Mirai_bmx\Mirai_bmx.lnk</span><br></pre></td></tr></table></figure>

<p>之后给这两个bat做一个控制开关，复制并替换上面两个脚本的存放位置，起名叫switch_mirai.bat</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:/auto_backup/auto_backup.bat&amp;&amp;;C:/auto_backup/start_mirai.bat</span><br></pre></td></tr></table></figure>

<p>然后将 switch_mirai.bat 放入计划任务或是启动项中</p>
<p>启动项目录可以通过Win+R打开[运行]后输入 <code>shell:startup</code> 来快速打开。</p>
<p>可以在Onedrive网页中将备份的目录设置为共享，这样就能在异地直接下载了！</p>
<p>参考资料<br><a href="https://my.oschina.net/mosg/blog/1944455">windows bat脚本7zip压缩文件夹，过滤文件夹 -  黑夜的白羊</a><br><a href="https://zhidao.baidu.com/question/548649859.html">如何设置2个bat文件严格按照顺序执行 - 百度知道</a></p>
<p>画图模式文本</p>
<h2 id="7天之前的所有文件空文件文件夹"><a href="#7天之前的所有文件空文件文件夹" class="headerlink" title="7天之前的所有文件空文件文件夹"></a>7天之前的所有文件空文件文件夹</h2><p>删除</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">set DestFolder=&quot;F:\本地仓库\GitbakCloud189&quot;</span><br><span class="line">forfiles /p %DestFolder% /s /d -7 /c &quot;cmd /c del/f/s/q @path&quot;</span><br><span class="line">for /f &quot;delims=&quot; %%a in (&#x27;dir /ad /b /s %DestFolder%^|sort /r&#x27;) do (</span><br><span class="line">	   rd &quot;%%a&quot;&gt;nul 2&gt;nul &amp;&amp;echo 空目录&quot;%%a&quot;成功删除！</span><br><span class="line">	)</span><br><span class="line">pause  </span><br><span class="line">echo 任务完成!</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>bat</tag>
      </tags>
  </entry>
  <entry>
    <title>gitbash中npm换源与加速下载方法 ## Git 常用操作命令    </title>
    <url>/2021/09/17/cl449bvwi001sb4bh3bmid3yx/</url>
    <content><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h1 id="Git使用"><a href="#Git使用" class="headerlink" title="Git使用"></a>Git使用</h1><h2 id="Git-常用操作命令"><a href="#Git-常用操作命令" class="headerlink" title="Git 常用操作命令"></a>Git 常用操作命令</h2><p>转载<a href="https://me.csdn.net/xs20691718">君莫笑贪狼</a> 最后发布于2016-05-27 14:21:12 阅读数 471 收藏</p>
<p>展开</p>
<p>转载：<a href="http://tomhat.iteye.com/blog/2065707">http://tomhat.iteye.com/blog/2065707</a><br>稍微做了一些补充。</p>
<p>可以创建私有项目的git网站：<br>+ <a href="https://bitbucket.org/">https://bitbucket.org</a><br>+ <a href="http://git.oschina.net/">http://git.oschina.net</a></p>
<p>master：默认开发分支；<br>origin：默认远程版本库</p>
<hr>
<h3 id="3限速-完美解决github访问速度慢"><a href="#3限速-完美解决github访问速度慢" class="headerlink" title="3限速`完美解决github访问速度慢"></a>3限速`完美解决github访问速度慢</h3><p><a href="https://www.zhihu.com/people/yue-zheng-ming-83"><img src="E:/Web_Blog/blog/source/images/v2-30984d4ea6a04456d247cb31c1cefb84_xs.jpg" alt="月正明"></a></p>
<p><a href="https://www.zhihu.com/people/yue-zheng-ming-83">月正明</a></p>
<p>java开发工程师</p>
<p>21 人赞同了该文章</p>
<h4 id="1-修改本地hosts文件"><a href="#1-修改本地hosts文件" class="headerlink" title="1. 修改本地hosts文件"></a><strong>1. 修改本地hosts文件</strong></h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">windows系统的hosts文件的位置如下：C:\Windows\System32\drivers\etc\hostsmac/linux系统的hosts文件的位置如下：/etc/hosts</span><br></pre></td></tr></table></figure>

<p><strong>2. 增加<a href="http://github.global.ssl.fastly.net/">http://github.global.ssl.fastly.net</a>和<a href="http://github.com/">http://github.com</a>的映射</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">获取Github相关网站的ip访问https://www.ipaddress.com，拉下来，找到页面中下方的“IP Address Tools – Quick Links”分别输入github.global.ssl.fastly.net和github.com，查询ip地址下面是我的配置140.82.114.4	github.com199.232.5.194	github.global.ssl.fastly.net</span><br></pre></td></tr></table></figure>

<h5 id="3-命令提示符中输入ping-github-com"><a href="#3-命令提示符中输入ping-github-com" class="headerlink" title="3.命令提示符中输入ping github.com"></a>3.命令提示符中输入ping <a href="http://github.com/">github.com</a></h5><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240015288.jpg" alt="img">配置前</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240015006.jpg" alt="img">配置后</p>
<p>再次访问流量器<a href="https://github.com/%EF%BC%8C%E7%A7%92%E5%87%BA">https://github.com/，秒出</a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240015957.jpg" alt="img"></p>
<ul>
<li></li>
</ul>
<h5 id="2-直接用-https-g-widora-cn-就好了"><a href="#2-直接用-https-g-widora-cn-就好了" class="headerlink" title="2.直接用 https://g.widora.cn 就好了"></a>2.直接用 <a href="https://g.widora.cn/">https://g.widora.cn</a> 就好了</h5><p>赞回复踩举报</p>
<ul>
<li><a href="https://www.zhihu.com/people/sjniimj"><img src="E:/Web_Blog/blog/source/images/v2-02c203614aee635b48b4a2f34612f3a5_s.jpg" alt="Jimmy"></a>\</li>
</ul>
<h5 id="4-Git常见错误与操作：error-src-refspec-master-does-not-match-any解决办法"><a href="#4-Git常见错误与操作：error-src-refspec-master-does-not-match-any解决办法" class="headerlink" title="4.Git常见错误与操作：error: src refspec master does not match any解决办法"></a>4.Git常见错误与操作：error: src refspec master does not match any解决办法</h5><p>一、 出现错误 error:src refspec master does not match any</p>
<p>原因分析：</p>
<p>引起该错误的原因是目录中没有文件，空目录是不能提交上去的</p>
<p>解决办法：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ touch README  $ git add README  $ git commit –m’first commit’  $ git push origin master  1234</span><br></pre></td></tr></table></figure>

<p>(来自：<a href="http://www.open-open.com/lib/view/open1366080269265.html">http://www.open-open.com/lib/view/open1366080269265.html</a>)<br>实际上</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git init  1</span><br></pre></td></tr></table></figure>

<p>这一步之后创建了一个名为.git的文件夹，不过它在默认状态下是隐藏的，系统将隐藏文件夹显示出来，可以看到有这样一个文件夹。<br>github上传项目方法：<br><a href="http://www.oschina.net/question/159132_86728">http://www.oschina.net/question/159132_86728</a><br>在你的电脑上装好git</p>
<p>大致流程是：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1、 在github上创建项目  2、 使用$ git clone https://github/xx账号/xx项目.git克隆到本地  3、 编辑项目  4、 $ git add .(将改动添加到暂存区)  5、 $ git commit –m”提交说明”  6、 $ git push origin 将本地更改推送到远程master分支  123456</span><br></pre></td></tr></table></figure>

<p>这样你就完成了向远程仓库的推送</p>
<p>如果在github的remote上已经有了文件，会出现错误。此时应当先pull一下，即：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git pull origin master  1</span><br></pre></td></tr></table></figure>

<p>然后再进行：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git push origin master  1</span><br></pre></td></tr></table></figure>

<p>二、如果输入$ git remoteadd origin <a href="mailto:&#103;&#105;&#116;&#64;&#x67;&#105;&#x74;&#x68;&#117;&#98;&#46;&#99;&#111;&#109;">&#103;&#105;&#116;&#64;&#x67;&#105;&#x74;&#x68;&#117;&#98;&#46;&#99;&#111;&#109;</a>:djqiang（github帐号名）/gitdemo（项目名）.git</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">提示出错信息：fatal: remoteorigin already exists.解决办法如下：123</span><br></pre></td></tr></table></figure>

<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1、先输入$ git remote rmorigin      2、再输入$ git remote addorigin git@github.com:djqiang/gitdemo.git 就不会报错了！      3、如果输入$ git remote rmorigin 还是报错的话，error: Could not remove config section&#x27;remote.origin&#x27;. 我们需要修改gitconfig文件的内容  4、找到你的github的安装路径5、找到一个名为gitconfig的文件，打开它把里面的[remote &quot;origin&quot;]那一行删掉就好了！12345678</span><br></pre></td></tr></table></figure>

<p>三、如果输入$ ssh -T <a href="mailto:&#103;&#x69;&#x74;&#64;&#x67;&#x69;&#116;&#104;&#117;&#98;&#x2e;&#99;&#x6f;&#x6d;">&#103;&#x69;&#x74;&#64;&#x67;&#x69;&#116;&#104;&#117;&#98;&#x2e;&#99;&#x6f;&#x6d;</a><br>出现错误提示：Permissiondenied (publickey).因为新生成的key不能加入ssh就会导致连接不上github。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">解决办法如下：1、先输入$ ssh-agent，再输入$ ssh-add ~/.ssh/id_key，这样就可以了。2、如果还是不行的话，输入ssh-add~/.ssh/id_key 命令后出现报错Could not open a connection toyour authentication agent.解决方法是key用Git Gui的ssh工具生成，这样生成的时候key就直接保存在ssh中了，不需要再ssh-add命令加入了，其它的user，token等配置都用命令行来做。3、最好检查一下在你复制id_rsa.pub文件的内容时有没有产生多余的空格或空行，有些编辑器会帮你添加这些的。1234567</span><br></pre></td></tr></table></figure>

<p>四、如果输入$ git push origin master</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">提示出错信息：error:failedto push som refs to .......解决办法如下：123</span><br></pre></td></tr></table></figure>

<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1、先输入$ git pullorigin master //先把远程服务器github上面的文件拉下来  2、再输入$ git pushorigin master  3、如果出现报错 fatal:Couldn&#x27;t find remote ref master或者fatal: &#x27;origin&#x27; doesnot appear to be a git repository以及fatal: Could notread from remote repository.  4、则需要重新输入$ git remoteadd origingit@github.com:djqiang/gitdemo.git  1234</span><br></pre></td></tr></table></figure>

<p>五、Git常见操作</p>
<p>使用git在本地创建一个项目的过程</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ makdir ~/hello-world    //创建一个项目hello-world  $ cd~/hello-world       //打开这个项目  $ git init             //初始化   $ touch README  $ git add README        //更新README文件  $ git commit-m &#x27;first commit&#x27;     //提交更新，并注释信息“first commit”   $ git remote add origin git@github.com:defnngj/hello-world.git     //连接远程github项目    $ git push -u origin master     //将本地项目更新到github项目上去  12345678</span><br></pre></td></tr></table></figure>

<p>六、gitconfig配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Git有一个工具被称为git config，它允许你获得和设置配置变量；这些变量可以控制Git的外观和操作的各个方面。这些变量可以被存储在三个不同的位置：      1./etc/gitconfig 文件：包含了适用于系统所有用户和所有库的值。如果你传递参数选项’--system’ 给 git config，它将明确的读和写这个文件。      2.~/.gitconfig 文件 ：具体到你的用户。你可以通过传递--global 选项使Git 读或写这个特定的文件。     3.位于git目录的config文件 (也就是.git/config) ：无论你当前在用的库是什么，特定指向该单一的库。每个级别重写前一个级别的值。因此，在.git/config中的值覆盖了在/etc/gitconfig中的同一个值。    在Windows系统中，Git在$HOME目录中查找.gitconfig文件（对大多数人来说，位于C:\Documents and Settings\$USER下）。它也会查找/etc/gitconfig，尽管它是相对于Msys 根目录的。这可能是你在Windows中运行安装程序时决定安装Git的任何地方。12345</span><br></pre></td></tr></table></figure>

<p>七、配置相关信息：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1　当你安装Git后首先要做的事情是设置你的用户名称和e-mail地址。这是非常重要的，因为每次Git提交都会使用该信息。它被永远的嵌入到了你的提交中：1</span><br></pre></td></tr></table></figure>

<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name &quot;John Doe&quot;  $ git config --global user.email johndoe@example.com    2   你的编辑器(Your Editor)123456</span><br></pre></td></tr></table></figure>

<p>　　现在，你的标识已经设置，你可以配置你的缺省文本编辑器，Git在需要你输入一些消息时会使用该文本编辑器。缺省情况下，Git使用你的系统的缺省编辑器，这通常可能是vi 或者 vim。如果你想使用一个不同的文本编辑器，例如Emacs，你可以做如下操作：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git config --global core.editor emacs  1</span><br></pre></td></tr></table></figure>

<p>3 检查你的设置(Checking YourSettings)</p>
<p>　　如果你想检查你的设置，你可以使用 git config –list 命令来列出Git可以在该处找到的所有的设置:</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git config --list    你也可以查看Git认为的一个特定的关键字目前的值，使用如下命令 git config &#123;key&#125;:12345</span><br></pre></td></tr></table></figure>

<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git config user.name   4 获取帮助(Getting help)12345</span><br></pre></td></tr></table></figure>

<p>　　如果当你在使用Git时需要帮助，有三种方法可以获得任何git命令的手册页(manpage)帮助信息:</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git help &lt;verb&gt;  $ git &lt;verb&gt; --help  $ man git-&lt;verb&gt;  123</span><br></pre></td></tr></table></figure>

<p>　　例如，你可以运行如下命令获取对config命令的手册页帮助:</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git help config  1</span><br></pre></td></tr></table></figure>

<p>转载来源：<a href="http://blog.csdn.net/s164828378/article/details/52425208">http://blog.csdn.net/s164828378/article/details/52425208</a></p>
<h5 id="5-GitBash-全局使用-npm-node命令"><a href="#5-GitBash-全局使用-npm-node命令" class="headerlink" title="5.GitBash 全局使用 npm,node命令"></a>5.GitBash 全局使用 npm,node命令</h5><p>原创<a href="https://me.csdn.net/sixteen_cicle">Alan_阿兰</a> 最后发布于2017-06-14 17:41:37 阅读数 2957 收藏</p>
<p>展开</p>
<p>命令大全</p>
<p><a href="http://www.cnblogs.com/darrenji/p/5286403.html">http://www.cnblogs.com/darrenji/p/5286403.html</a></p>
<p>常用：</p>
<p>npm install –save react react-dom<br>npm install –save-dev gulp browserify babelify vinyl-source-stream</p>
<p>3.全局<br>$ npm install babel -g<br>$ npm install babelify -g<br>$ npm install vinyl-source-stream -g</p>
<p>默认安装路径<br>C:\Users\Administrator\AppData\Roaming\npm<br>修改路径：<br>npm config set prefix “D:\Node\npm_global_modules\node_modules”</p>
<p>node.js测试<br><a href="http://localhost:3000/">http://localhost:3000/</a></p>
<p>退出出node命令行：两次ctrl+C或者一次ctrl+D<br>退出终端：.exit;</p>
<h4 id="6-使用Git-Bash-for-Windows"><a href="#6-使用Git-Bash-for-Windows" class="headerlink" title="6.使用Git Bash for Windows"></a>6.<a href="https://www.cnblogs.com/darrenji/p/5286403.html">使用Git Bash for Windows</a></h4><p>本篇体验Git Bash在Windows操作系统上的用法。</p>
<p>什么是Bash?</p>
<p>是一个Shell环境，Bourne Again Shell的缩写。</p>
<p>安装git for windows</p>
<p>→ <a href="http://git-for-windows.github.io/">http://git-for-windows.github.io/</a><br>→ Download，选择一个合适的版本<br>→ 安装<br>→ 安装完后有Git Bash, Git CMD, 和 Git GUI这个三个应用程序<br>→ 运行Git Bash,检查当前版本<br>git version<br>→ 退出<br>exit</p>
<p>安装Notepad++</p>
<p>→ notepad-plus-plus.org<br>→ download，选择合适的版本<br>→ 安装</p>
<p>在Bash中打开Notepad++</p>
<p>→ 找到notepad++的应用程序文件<br>一般在C:\Program Files(x86)\Notepad++中，把C:\Program Files(x86)\Notepad++赋值<br>→ 右键”我的电脑”，点击”高级系统设置”, 点击”环境变量”， 双击Path,把;C:\Program Files(x86)\Notepad++加到最后，点击”确定”<br>→ 运行Git Bash<br>→ notepad++<br>这样，在Bash中就打开notepadd++了。</p>
<p>显示查看当前目录</p>
<p>→ 运行Git Bash<br>→ 查看当前目录<br>pwd<br>显示/c/Users/Darren,其中/c/相当于C:\，<br>→ 列出当前文件夹下的所有文件<br>ls<br>或<br>ls -l</p>
<p>更换当前目录</p>
<p>→ 运行Git Bash<br>→ 导航到其它目录<br>cd Videos/<br>→ 退回到上一级<br>cd ..<br>→ 导航到My Documents目录<br>cd My\ Documents/<br>→ 退回三级<br>cd ../../../<br>→ 回到主目录<br>cd ~<br>→ 导航到一个绝对位置上的目录<br>cd /c/Windows/System32/</p>
<p>查看命令出处</p>
<p>→ 查看ls命令的出处<br>whick ls<br>显示/bin/ls</p>
<p>显示打印</p>
<p>→ 显示打印环境变量<br>echo $PATH</p>
<p>查看文件内容</p>
<p>→ 查看一个文件内容<br>cat test.txt<br>→ 查看一个文件内容并编辑<br>less test.txt</p>
<p>创建、重命名、移动、删除文件</p>
<p>→ 创建一个空文件<br>touch demo.txt<br>→ 重命名一个文件<br>mv demo.txt demo-1.txt<br>→ 删除已知文件<br>rm demo-1.txt</p>
<p>创建、删除目录</p>
<p>→ 创建目录<br>mkdir projects<br>→ 删除目录<br>rmdir projects<br>→ 创建多级目录<br>mkdir projects/client-a/awesome-web-project/<br>→ 删除多级目录<br>rm -rf projects/</p>
<p>清空和退出</p>
<p>→ 清空内容<br>clear<br>→ 退出控制台<br>exit</p>
<p>控制台打印信息输出到文件</p>
<p>→ 打印信息输出追加到创建文件<br>echo “hi” &gt;&gt; demo.txt<br>→ 打印信息输入重写已知文件<br>echo “hello” &gt; demo.txt</p>
<p>执行Bash脚本</p>
<p>→ 查看bash安装在哪里<br>which bash<br>显示：/bin/bash<br>→ 使用notepad++创建打开一个文件<br>notepad++ example.sh<br>→ 输入命令</p>
<p>#!/bin/bash</p>
<p>echo “hi, everyone”</p>
<h1 id="gitbash中npm换源与加速下载方法"><a href="#gitbash中npm换源与加速下载方法" class="headerlink" title="gitbash中npm换源与加速下载方法"></a>gitbash中npm换源与加速下载方法</h1><h3 id="第一种·淘宝"><a href="#第一种·淘宝" class="headerlink" title="第一种·淘宝"></a>第一种·淘宝</h3><p>使用npm 淘宝镜像（<a href="http://npm.taobao.org/%EF%BC%89%E3%80%82%E8%AF%BB%E8%80%85%E5%8F%AF%E5%9C%A8cmd%E5%91%BD%E4%BB%A4%E7%AA%97%E5%8F%A3%E6%89%A7%E8%A1%8C%EF%BC%9A">http://npm.taobao.org/）。读者可在cmd命令窗口执行：</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<p>接下来读者就通过cnpm代替npm;</p>
<h4 id="npm安装"><a href="#npm安装" class="headerlink" title="npm安装"></a>npm安装</h4><ul>
<li><h5 id="常用npm安装-调用taobao"><a href="#常用npm安装-调用taobao" class="headerlink" title="常用npm安装-调用taobao"></a>常用npm安装-调用taobao</h5></li>
</ul>
<p>HelloWorld@DESKTOP-UQPPB6C MINGW64 /e/Web_Blog<br>$ npm install –save react react-dom</p>
<ul>
<li><h5 id="本地文件夹npm安装"><a href="#本地文件夹npm安装" class="headerlink" title="本地文件夹npm安装"></a>本地文件夹npm安装</h5></li>
</ul>
<p>HelloWorld@DESKTOP-UQPPB6C MINGW64 /e/Web_Blog/blog (master)<br>$ npm i hexo-renderer-inferno</p>
<p>npm http fetch GET 200 <a href="https://registry.npm.taobao.org/react">https://registry.npm.taobao.org/react</a> 528ms</p>
<ul>
<li><h5 id="选择安装版本"><a href="#选择安装版本" class="headerlink" title="选择安装版本"></a>选择安装版本</h5><h5 id="官网："><a href="#官网：" class="headerlink" title="官网："></a>官网：</h5></li>
</ul>
<p>npm i <a href="mailto:&#x62;&#x75;&#108;&#109;&#x61;&#45;&#115;&#x74;&#x79;&#108;&#x75;&#115;&#64;&#x30;&#46;&#56;&#x2e;&#48;">&#x62;&#x75;&#108;&#109;&#x61;&#45;&#115;&#x74;&#x79;&#108;&#x75;&#115;&#64;&#x30;&#46;&#56;&#x2e;&#48;</a></p>
<p>​       提示：</p>
<p><img src="C:/Users/HelloWorld/AppData/Roaming/Typora/typora-user-images/image-20200329001507240.png" alt="image-20200329001507240"></p>
<p>每输入一行，回车，没有任何提示，说明操作成功</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line">npm config set loglevel http</span><br><span class="line"></span><br><span class="line">npm config set progress false</span><br><span class="line"></span><br><span class="line"> vi ~/.npmrc</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240009867.png" alt="img"></p>
<p>4.npm的配置被存储在  ~/.npmrc，可以随时改</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240009815.png" alt="img"></p>
<h3 id="第二种·nrm"><a href="#第二种·nrm" class="headerlink" title="第二种·nrm"></a>第二种·nrm</h3><p>1.使用nrm。读者可在cmd命令窗口执行以下命令进行全局安装nrm：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i nrm -g</span><br></pre></td></tr></table></figure>


<p>读者可以使用 nrm ls命令查看常用的镜像源：</p>
<ul>
<li><p>```<br>C:\Users\WU&gt;nrm ls</p>
<ul>
<li>npm —- <a href="https://registry.npmjs.org/">https://registry.npmjs.org/</a><br>cnpm — <a href="http://r.cnpmjs.org/">http://r.cnpmjs.org/</a><br>taobao - <a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org/</a><br>nj —– <a href="https://registry.nodejitsu.com/">https://registry.nodejitsu.com/</a><br>rednpm - <a href="http://registry.mirror.cqupt.edu.cn/">http://registry.mirror.cqupt.edu.cn/</a><br>npmMirror  <a href="https://skimdb.npmjs.com/registry/">https://skimdb.npmjs.com/registry/</a><br>edunpm - <a href="http://registry.enpmjs.org/">http://registry.enpmjs.org/</a><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  注：列表中的表示默认选中*</span><br><span class="line">  2.使用nrm use XXXX替换默认镜像源,以淘宝（taobao）为例：</span><br><span class="line"></span><br><span class="line">* ```</span><br><span class="line">  C:\Users\WU&gt;nrm use taobao</span><br><span class="line">                           verb config Skipping project config: C:\Users\WU/.npmrc. (matches userconfig)</span><br><span class="line">  </span><br><span class="line">     Registry has been set to: https://registry.npm.taobao.org/</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  C:\Users\WU&gt;nrm ls</span><br><span class="line">  </span><br><span class="line">    npm ---- https://registry.npmjs.org/</span><br><span class="line">    cnpm --- http://r.cnpmjs.org/</span><br><span class="line">  </span><br><span class="line">  * taobao - https://registry.npm.taobao.org/</span><br><span class="line">    nj ----- https://registry.nodejitsu.com/</span><br><span class="line">    rednpm - http://registry.mirror.cqupt.edu.cn/</span><br><span class="line">    npmMirror  https://skimdb.npmjs.com/registry/</span><br><span class="line">    edunpm - http://registry.enpmjs.org/</span><br></pre></td></tr></table></figure></li>
</ul>
<p>接下来，读者使用npm会更加快速。</p>
</li>
</ul>
<h3 id="两种进行对比"><a href="#两种进行对比" class="headerlink" title="两种进行对比"></a>两种进行对比</h3><p>使用nrm test XXXX,进行测速：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:\Users\WU&gt;nrm test npm</span><br><span class="line"></span><br><span class="line">  npm ---- 1358ms</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">C:\Users\WU&gt;nrm test cnpm</span><br><span class="line"></span><br><span class="line">  cnpm --- 216ms</span><br></pre></td></tr></table></figure>

<h3 id="第三种·vpn"><a href="#第三种·vpn" class="headerlink" title="第三种·vpn"></a>第三种·vpn</h3><p>windows下如何代理cmd，加速npm安装</p>
<p>平常用npm安装模块的时候会遇到一个问题，一些库的底层会用到c或者c++，比如 <code>images</code> 模块，npm会从github上去下载这些编译好的二进制文件，下载速度会很慢，开了vpn也不行。如下图。</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/1/19/16864344fcc965f3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>解决办法</p>
<p>临时代理（推荐）cmd到vpn的端口，cmd窗口关了会恢复成原来的样子。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set https_proxy=http://127.0.0.1:1080  //端口指向小飞机(vpn)端口</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>永久代理（不推荐）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netsh winhttp import proxy source=ie</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>



<p><img src="https://user-gold-cdn.xitu.io/2019/1/19/1686435334dde533?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>然后就愉快的安装完了。</p>
<h4 id="git全局代理"><a href="#git全局代理" class="headerlink" title=".-git全局代理#"></a>.-git全局代理<a href="https://imchenway.com/2019/12/04/Git%E6%8B%89%E5%8F%96%E4%BB%A3%E7%A0%81%E5%8A%A0%E9%80%9F/#git-quan-ju-dai-li">#</a></h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># socks5协议，1080端口修改成自己的本地代理端口</span><br><span class="line">git config --global http.proxy socks5://127.0.0.1:1086</span><br><span class="line">git config --global https.proxy socks5://127.0.0.1:1086</span><br><span class="line"></span><br><span class="line"># http协议，1081端口修改成自己的本地代理端口</span><br><span class="line">git config --global http.proxy http://127.0.0.1:1087</span><br><span class="line">git config --global https.proxy https://127.0.0.1:1087</span><br></pre></td></tr></table></figure>

<ul>
<li>以上的配置会导致所有git命令都走代理，但是如果你混合使用了国内的git仓库，甚至是局域网内部的git仓库，这就会把原来速度快的改成更慢的了；</li>
<li>下面是仅仅针对github进行配置，让github走本地代理，其他的保持不变；</li>
</ul>
<h4 id="仅GitHub代理"><a href="#仅GitHub代理" class="headerlink" title="仅GitHub代理#"></a>仅GitHub代理<a href="https://imchenway.com/2019/12/04/Git%E6%8B%89%E5%8F%96%E4%BB%A3%E7%A0%81%E5%8A%A0%E9%80%9F/#jin-github-dai-li">#</a></h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># socks5协议，1080端口修改成自己的本地代理端口</span><br><span class="line">git config --global http.https://github.com.proxy socks5://127.0.0.1:1086</span><br><span class="line">git config --global https.https://github.com.proxy socks5://127.0.0.1:1086</span><br><span class="line"></span><br><span class="line"># http协议，1081端口修改成自己的本地代理端口</span><br><span class="line">git config --global http.https://github.com.proxy https://127.0.0.1:1087</span><br><span class="line">git config --global https.https://github.com.proxy https://127.0.0.1:1087</span><br></pre></td></tr></table></figure>

<h4 id="相关命令"><a href="#相关命令" class="headerlink" title="相关命令#"></a>相关命令<a href="https://imchenway.com/2019/12/04/Git%E6%8B%89%E5%8F%96%E4%BB%A3%E7%A0%81%E5%8A%A0%E9%80%9F/#xiang-guan-ming-ling">#</a></h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 查看所有配置</span><br><span class="line">git config -l</span><br><span class="line"># reset 代理设置</span><br><span class="line">git config --global --unset http.proxy</span><br><span class="line">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure>

<h4 id="不使用代理的方法"><a href="#不使用代理的方法" class="headerlink" title="不使用代理的方法#"></a>不使用代理的方法<a href="https://imchenway.com/2019/12/04/Git%E6%8B%89%E5%8F%96%E4%BB%A3%E7%A0%81%E5%8A%A0%E9%80%9F/#bu-shi-yong-dai-li-de-fang-fa">#</a></h4><ol>
<li><p>修改host</p>
<p>把下面两行加到host文件末尾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">151.101.72.249 github.http://global.ssl.fastly.net</span><br><span class="line">192.30.253.112 github.com</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="gitbash-全局命令-npm-node"><a href="#gitbash-全局命令-npm-node" class="headerlink" title="gitbash 全局命令-npm,node"></a>gitbash 全局命令-npm,node</h2><h3 id="常用npm安装："><a href="#常用npm安装：" class="headerlink" title="常用npm安装："></a>常用npm安装：</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install --save react react-dom</span><br><span class="line">npm install --save-dev gulp browserify babelify vinyl-source-stream</span><br></pre></td></tr></table></figure>

<p>.全局</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm install babel -g</span><br><span class="line">$ npm install babelify -g</span><br><span class="line">$ npm install vinyl-source-stream -g</span><br></pre></td></tr></table></figure>

<p>全局的默认安装路径</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:\Users\Administrator\AppData\Roaming\npm</span><br></pre></td></tr></table></figure>

<p>创建目录（D:\Java\node\nodejs\node_modules）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir -p  D:/Java/node/nodejs/npm_global_modules/node_modules</span><br></pre></td></tr></table></figure>

<p>修改路径：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm config set prefix &quot;/d/Java/node/nodejs/npm_global_modules/node_modules&quot;</span><br></pre></td></tr></table></figure>

<p>node.js测试</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://localhost:3000/</span><br></pre></td></tr></table></figure>

<p>退出出node命令行：两次ctrl+C或者一次ctrl+D<br>退出终端：.exit;</p>
<h2 id="文件目录创建"><a href="#文件目录创建" class="headerlink" title="文件目录创建"></a>文件目录创建</h2><p>windows       =&gt;     md + 多级目录 </p>
<p>linux/gitbash =&gt;     mkdir -p </p>
<p>mkdir的-p选项允许你一次性创建多层次的目录，而不是一次只创建单独的目录。例如，我们要在当前目录创建目录Projects/a/src，使用命令</p>
<table>
<thead>
<tr>
<th><code>1 </code></th>
<th><code>mkdir -p Project/a/src</code></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>而不是</p>
<table>
<thead>
<tr>
<th><code>1 2 3 4 5 </code></th>
<th><code>mkdir Project cd Project mkdir a cd a mkdir src</code></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>　　当然，如果你有mkcd，就可以直接</p>
<table>
<thead>
<tr>
<th><code>1 </code></th>
<th><code>mkcd Project/a/src</code></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>　　此外，如果我们想创建多层次、多维度的目录树，mkcd也显得比较苍白了。例如我们想要建立目录Project，其中含有4个文件夹a, b, c, d，且这4个文件都含有一个src文件夹。或许，我们可以逐个创建，但我更倾向于使用单个命令来搞定，而mkdir 的-p选项和shell的参数扩展允许我这么做，例如下面的一个命令就可以完成任务。</p>
<table>
<thead>
<tr>
<th><code>1 </code></th>
<th><code>mkdir -p Project/&#123;a,b,c,d&#125;/src</code></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<ul>
<li></li>
</ul>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>bat批处理实现守护进程 Windows使用bat批处理实现守护进程脚本分享</title>
    <url>/2021/11/11/cl449bvwk001vb4bheulu51ho/</url>
    <content><![CDATA[<p>想了解Windows使用bat批处理实现守护进程脚本讲解的相关内容吗，在本文为您仔细讲解bat批处理实现守护进程的相关知识和一些Code实例，欢迎阅读和指正，我们先划重点：Windows,bat,批处理,守护进程,脚本，下面大家一起来学习吧。</p>
<p>本文转自网络，由于找不到原作者，因而无法知道出处。如果有幸让原作者看到，请联系我加上。先转载至此。</p>
<p>最近几天加班加疯掉了，天天晚上没法睡。开发部的一个核心程序总是会自己宕机，然后需要手工去起，而这个服务的安全级别又很高，只有我可以操作，搞得我晚上老没法睡，昨晚实在受不了了，想起以前在hp-ux下写的shell守护进程，这回搞个windows下的bat版守护程序吧，当时晚上思路已经很迟钝了，就叫了个兄弟让他写了，上去后运行效果不错，至少昨晚我安心睡了7小时。</p>
<p>早上来把程序改完善一些，增加了记录等功能。</p>
<p>实现：</p>
<p>检查是否有notepad，要用的话就算成自己的进程名，如果进程宕了就过会自动重启（会在当前目录下生成一个start.bat）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line"></span><br><span class="line">set _task=notepad.exe</span><br><span class="line">set _svr=c:\windows\notepad.exe</span><br><span class="line">set _des=start.bat</span><br><span class="line"></span><br><span class="line">:checkstart</span><br><span class="line">for /f &quot;tokens=5&quot; %%n in (&#x27;qprocess.exe ^| find &quot;%_task%&quot; &#x27;) do (</span><br><span class="line"> if %%n==%_task% (goto checkag) else goto startsvr</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">:startsvr</span><br><span class="line">echo %time% </span><br><span class="line">echo ********程序开始启动********</span><br><span class="line">echo 程序重新启动于 %time% ,请检查系统日志 &gt;&gt; restart_service.txt</span><br><span class="line">echo start %_svr% &gt; %_des%</span><br><span class="line">echo exit &gt;&gt; %_des%</span><br><span class="line">start %_des%</span><br><span class="line">set/p=.&lt;nul</span><br><span class="line">for /L %%i in (1 1 10) do set /p a=.&lt;nul&amp;ping.exe /n 2 127.0.0.1&gt;nul</span><br><span class="line">echo .</span><br><span class="line">echo Wscript.Sleep WScript.Arguments(0) &gt;%tmp%\delay.vbs </span><br><span class="line">cscript //b //nologo %tmp%\delay.vbs 10000 </span><br><span class="line">del %_des% /Q</span><br><span class="line">echo ********程序启动完成********</span><br><span class="line">goto checkstart</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:checkag</span><br><span class="line">echo %time% 程序运行正常,10秒后继续检查.. </span><br><span class="line">echo Wscript.Sleep WScript.Arguments(0) &gt;%tmp%\delay.vbs </span><br><span class="line">cscript //b //nologo %tmp%\delay.vbs 10000 </span><br><span class="line">goto checkstart</span><br></pre></td></tr></table></figure>







<p>set 限制解除 </p>
<p><a href="https://mall.csdn.net/vip?utm_source=vip_1111_toolbar_logo"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20211108111828.gif" alt="CSDN会员"></a></p>
<ul>
<li><a href="https://www.csdn.net/">首页</a></li>
<li><a href="https://blog.csdn.net/">博客</a></li>
<li><a href="https://download.csdn.net/">下载</a></li>
<li><a href="https://ask.csdn.net/">问答</a></li>
<li><a href="https://bbs.csdn.net/">社区</a></li>
</ul>
<p> 搜索</p>
<p><a href="https://passport.csdn.net/account/login">登入</a></p>
<h1 id="Windwos-bat进程守护-解决-kafka2-8-0-Failed-to-clean-up-log-for-consumer-offsets"><a href="#Windwos-bat进程守护-解决-kafka2-8-0-Failed-to-clean-up-log-for-consumer-offsets" class="headerlink" title="Windwos bat进程守护 解决 kafka2.8.0 Failed to clean up log for __consumer_offsets"></a>Windwos bat进程守护 解决 kafka2.8.0 Failed to clean up log for __consumer_offsets</h1><p><a href="https://blog.csdn.net/qq_32698323">Don’t Look Down</a> 2021-10-23 23:36:03 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png" alt="img"> 77 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png" alt="img"> 收藏</p>
<p>分类专栏： <a href="https://blog.csdn.net/qq_32698323/category_11432370.html">kafka</a> 文章标签： <a href="https://www.csdn.net/tags/OtTacg0sODc5OC1ibG9n.html">kafka</a> <a href="https://www.csdn.net/tags/MtTaEg0sMDIyMDYtYmxvZwO0O0OO0O0O.html">window</a> <a href="https://www.csdn.net/tags/Mtzacg2sNTQ2NjctYmxvZwO0O0OO0O0O.html">1024程序员节</a></p>
<h3 id="windwos环境下使用kafka2-8-0，出现-ERROR-Failed-to-clean-up-log-for-consumer-offsets-）"><a href="#windwos环境下使用kafka2-8-0，出现-ERROR-Failed-to-clean-up-log-for-consumer-offsets-）" class="headerlink" title="windwos环境下使用kafka2.8.0，出现 ERROR Failed to clean up log for __consumer_offsets-）"></a>windwos环境下使用kafka2.8.0，出现 ERROR Failed to clean up log for __consumer_offsets-）</h3><ul>
<li><ul>
<li><a href="https://blog.csdn.net/qq_32698323/article/details/120927703#_2">问题参考</a></li>
<li><a href="https://blog.csdn.net/qq_32698323/article/details/120927703#_13">原因</a></li>
<li><a href="https://blog.csdn.net/qq_32698323/article/details/120927703#_bat__21">解决： bat 进程守护运行</a></li>
<li><a href="https://blog.csdn.net/qq_32698323/article/details/120927703#_105">无黑窗口运行模式</a></li>
</ul>
</li>
</ul>
<h2 id="问题参考"><a href="#问题参考" class="headerlink" title="问题参考"></a>问题参考</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ERROR Failed to clean up <span class="built_in">log</span> <span class="keyword">for</span> __consumer_offsets-42 <span class="keyword">in</span> dir C:\tmp\kafka-logs due to IOException (kafka.server.LogDirFailureChannel)</span><br><span class="line">java.nio.file.FileSystemException: C:\tmp\kafka-logs\__consumer_offsets-42\00000000000000000000.timeindex.cleaned -&gt;</span><br><span class="line">C:\tmp\kafka-logs\__consumer_offsets-42\00000000000000000000.timeindex.swap: 另一个程序正在使用此文件，进程无法访问。</span><br><span class="line">....</span><br><span class="line">java.nio.file.FileSystemException</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<p><a href="https://www.itsvse.com/thread-9980-1-1.html">Windows Kafka ERROR Failed to clean up log for __consumer_offsets</a><br>[<a href="https://blog.csdn.net/chengtanyong4777/article/details/102542326">Kafka错误]—–kafka在window下出现另一个程序正在使用此文件,进程无法访问的错误</a></p>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>kafka日志清理策略触发，在window环境下，在打开需要清理的日志的同时，对该文件进行重命名操作是不被允许的（linux环境下可以），从而导致kafka宕机。</p>
<blockquote>
<p>方案一：修改日志清理策略，将日志清理时间修改为无穷（-1），使kafka数据日志永久存储 缺点：（1）磁盘空间会不断增大<br>方案二：在window上搭建虚拟机（docker同理，且更麻烦），然后在虚拟机中部署kafka 缺点：（1）运维人员需要懂点linux运维知识（2）增加内存消耗<br>方案三：上面文章中有写到重新打补丁包，我试过在2.8.0-2.13.0版本中重新打包，结果还是不行。</p>
</blockquote>
<h2 id="解决：-bat-进程守护运行"><a href="#解决：-bat-进程守护运行" class="headerlink" title="解决： bat 进程守护运行"></a>解决： bat 进程守护运行</h2><p>用bat脚本对kafka的运行 进行守护，每10秒检查端口运行状态，运行异常时，重新启动 <strong>2.注意：重启时 会清空kafka的日志文件</strong></p>
<blockquote>
<p>kafka_run_daemon.bat</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">:: 执行的命令</span><br><span class="line"><span class="built_in">set</span> _startBat=D:\software\kafka\start.bat</span><br><span class="line">:: 日志所在位置</span><br><span class="line"><span class="built_in">set</span> _kafkaLogs=D:\software\kafka\tmp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:checkstart</span><br><span class="line">:: 端口方式进行检查</span><br><span class="line">netstat -ano | findstr 0.0.0.0 | findstr :19092 | findstr LISTENING &gt; nul</span><br><span class="line"><span class="keyword">if</span> %ERRORLEVEL% EQU 0 ( </span><br><span class="line"><span class="built_in">echo</span> 运行正常</span><br><span class="line">GOTO checkag ) <span class="keyword">else</span> ( </span><br><span class="line"><span class="built_in">echo</span> 没有运行</span><br><span class="line">GOTO startsvr  )</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">:startsvr</span><br><span class="line"><span class="built_in">echo</span> %time% kafka运行状态异常、正在重新启动</span><br><span class="line"></span><br><span class="line">:: 检查 zookeeper</span><br><span class="line"><span class="built_in">echo</span> %time% 检查zookeeper状态</span><br><span class="line">netstat -ano | findstr 0.0.0.0 | findstr :12181 | findstr LISTENING &gt; nul</span><br><span class="line"><span class="keyword">if</span> %ERRORLEVEL% EQU 0 ( </span><br><span class="line"><span class="built_in">echo</span> %time% zookeeper正在运行</span><br><span class="line">FOR /F <span class="string">&quot;tokens=5&quot;</span> %%P IN (<span class="string">&#x27;netstat -a -n -o ^| findstr :12181&#x27;</span>) DO TaskKill.exe  /PID %%P  -t -f </span><br><span class="line"><span class="built_in">echo</span> %time% zookeeper结束完成</span><br><span class="line"> ) <span class="keyword">else</span> ( </span><br><span class="line"><span class="built_in">echo</span> %time% zookeeper没有运行</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">:: 删除tmp zookeepr和kafka的运行日志</span><br><span class="line"><span class="built_in">echo</span> %time% 删除tmp zookeepr和kafka的运行日志</span><br><span class="line">rd/s/q %_kafkaLogs%</span><br><span class="line"><span class="built_in">echo</span> %time% 日志清理完成</span><br><span class="line"></span><br><span class="line">:: 开始启动</span><br><span class="line"><span class="built_in">echo</span> %time% 开始启动</span><br><span class="line">start %_startBat%</span><br><span class="line"><span class="built_in">set</span>/p=.&lt;nul</span><br><span class="line"><span class="keyword">for</span> /L %%i <span class="keyword">in</span> (1 1 10) <span class="keyword">do</span> <span class="built_in">set</span> /p a=.&lt;nul&amp;ping.exe /n 2 127.0.0.1&gt;nul</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line"><span class="built_in">echo</span> Wscript.Sleep WScript.Arguments(0) &gt;%tmp%\delay.vbs </span><br><span class="line">cscript //b //nologo %tmp%\delay.vbs 40000 </span><br><span class="line">::计划40秒完成启动</span><br><span class="line"><span class="built_in">echo</span> %time%  启动操作完成，检查存活状态</span><br><span class="line">GOTO checkstart</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:checkag</span><br><span class="line"><span class="built_in">echo</span> %time% 程序运行正常,10秒后继续检查...</span><br><span class="line"><span class="built_in">echo</span> Wscript.Sleep WScript.Arguments(0) &gt;%tmp%\delay.vbs </span><br><span class="line">cscript //b //nologo %tmp%\delay.vbs 10000 </span><br><span class="line">GOTO checkstart</span><br><span class="line">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556</span><br></pre></td></tr></table></figure>

<blockquote>
<p>start.bat 卡夫卡启动脚本</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">start .\bin\windows\zookeeper-server-start.bat .\config\zookeeper.properties</span><br><span class="line">timeout 10</span><br><span class="line">start .\bin\windows\kafka-server-start.bat .\config\server.properties</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<p><strong>使用方法 ，将两个bat复制到kafka根目录，配置好bat 里面的日志位置（此处将kafka和zookeeper都放在同一tem文件夹），<br>直接运行 kafka_run_daemon.bat，也可添加到系统服务中去</strong></p>
<p>本地测试，挂掉后可以正常重启：</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/09bcc09859134c428f5decb17b40890b.png" alt="在这里插入图片描述"></p>
<h2 id="无黑窗口运行模式"><a href="#无黑窗口运行模式" class="headerlink" title="无黑窗口运行模式"></a>无黑窗口运行模式</h2><p><strong>在上面的进程守护基础之上</strong></p>
<p>run_zookeeper.vbs</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Dim WinScriptHost</span><br><span class="line">Set WinScriptHost = CreateObject(<span class="string">&quot;WScript.Shell&quot;</span>) </span><br><span class="line">WinScriptHost.Run <span class="string">&quot;.\bin\windows\zookeeper-server-start.bat .\config\zookeeper.properties&quot;</span>, 0, True </span><br><span class="line">Set WinScriptHost = Nothing</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<p>run_kafka.vbs</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Dim WinScriptHost</span><br><span class="line">Set WinScriptHost = CreateObject(<span class="string">&quot;WScript.Shell&quot;</span>) </span><br><span class="line">WinScriptHost.Run <span class="string">&quot;.\bin\windows\kafka-server-start.bat .\config\server.properties&quot;</span>, 0, True </span><br><span class="line">Set WinScriptHost = Nothing</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<p>start_vbs.bat</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">start wscript runZookeeper.vbs</span><br><span class="line">timeout 10</span><br><span class="line">start wscript runKafka.vbs</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>run_zookeeper.vbs和run_kafka.vbs复制到kafka根目录</strong>， **修改 *<em>kafka_run_daemon.bat*<em>脚本中的_startBat=start_vbs.bat<br>运行kafka_run_daemon.bat后 kafka和zookeeper不会出现黑窗口。</em></em></p>
</blockquote>
<p>这不是好的解决办法 ~~有其他解决办法的话，望看到的大哥们告知一下。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>hexo部署问题：Error spawn git ENOENT hexo报 Error spawn git ENOENT错误的解决方法</title>
    <url>/2021/10/21/cl449bvwl001yb4bhd20sajfl/</url>
    <content><![CDATA[<h1 id="hexo报-Error-spawn-git-ENOENT错误的解决方法"><a href="#hexo报-Error-spawn-git-ENOENT错误的解决方法" class="headerlink" title="hexo报 Error: spawn git ENOENT错误的解决方法"></a>hexo报 Error: spawn git ENOENT错误的解决方法</h1><p>在windows的cmd，执行hexo d突然就报Error: spawn git ENOENT错误。如下图</p>
<p><img src="https://upload-images.jianshu.io/upload_images/5469770-f865f1e0bd1d0e24.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>看到报错里的乱码，想起正好当天改了_config.yml中的language为language: zh_cn，以为是这个问题，但改回去后问题仍然存在。</p>
<p>在网上搜了一圈，有效的解决方法是。。。。。。</p>
<p>在gitbash中执行该命令。</p>
<p>作者：木头场主<br>链接：<a href="https://www.jianshu.com/p/7f88e94993a2">https://www.jianshu.com/p/7f88e94993a2</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<h2 id="bat脚本启动git-bash窗口，并执行命令"><a href="#bat脚本启动git-bash窗口，并执行命令" class="headerlink" title="bat脚本启动git bash窗口，并执行命令-"></a>bat脚本启动git bash窗口，并执行命令-</h2><p>一键清理生成发布备份+</p>
<p>bash在gitbash执行日志不乱码+</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> OFF</span><br><span class="line">::重装系统后注意两处盘符的修改</span><br><span class="line"><span class="function">G:</span></span><br><span class="line"><span class="function"><span class="title">cd</span> <span class="title">G</span>:\<span class="title">MuyanGitBlog</span>\<span class="title">MuyanGit</span>\杂项\博客备份\</span></span><br><span class="line"><span class="function"><span class="title">start</span> <span class="title">D</span>:\<span class="title">MySoftware</span>\<span class="title">DEV</span>\<span class="title">VersionCtrl</span>\<span class="title">Git</span>\<span class="title">git</span>-<span class="title">bash.exe</span> -<span class="title">c</span> &quot;<span class="title">bash</span> <span class="title">bolg_backup.sh</span>&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\MySoftware\DEV\VersionCtrl\Git\bin\sh.exe&quot; --login -i -l -c &#x27;bash bolg_backup.sh&#x27;                                                                                                            </span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#重装系统后注意两处盘符的修改</span></span><br><span class="line"><span class="comment">##exec 1&gt;&gt;G:\MuyanGitBlog\MuyanGit\杂项\博客备份\log.txt 2&gt;&amp;1</span></span><br><span class="line"><span class="comment">##cd G:/MuyanGitBlog/MuyanGit </span></span><br><span class="line"><span class="built_in">exec</span> 3&gt;&amp;1 4&gt;&amp;2</span><br><span class="line"><span class="built_in">trap</span> <span class="string">&#x27;exec 2&gt;&amp;4 1&gt;&amp;3&#x27;</span> 0 1 2 3</span><br><span class="line"><span class="built_in">exec</span> 1&gt;&gt;log.txt 2&gt;&amp;1</span><br><span class="line"><span class="comment"># Everything below will go to the file &#x27;log.txt&#x27;:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行的命令主体</span></span><br><span class="line"><span class="built_in">echo</span> 开始运行备份命令—————————————— &amp;&amp; <span class="built_in">echo</span> `date`······备份进行中 &amp;&amp; hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; hexo b &amp;&amp; <span class="built_in">echo</span> MuyanGit博客备份 &amp;&amp; <span class="built_in">echo</span> 结束运行备份命令—————————————— &amp;&amp; <span class="built_in">echo</span> `date`······备份结束中</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211111032136879.png" alt="image-20211111032136879"></h2><h2 id="2-2-参数说明"><a href="#2-2-参数说明" class="headerlink" title="2.2 参数说明"></a>2.2 参数说明</h2><ul>
<li>start git-bash.ext： 在cmd脚本中启动gitbash窗口</li>
<li>-c: 设置启动参数， 各个启动参数用&amp;&amp;分隔</li>
<li>git config –global gui.encoding utf-8 : 设置编码utf-8</li>
</ul>
<h2 id="2-3-效果"><a href="#2-3-效果" class="headerlink" title="2.3 效果"></a>2.3 效果</h2><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110210030823.png" alt="img"></p>
<p>这样随你怎么玩都不会乱码~ </p>
<h1 id="hexo部署到github的时候可以动态添加commit的message吗"><a href="#hexo部署到github的时候可以动态添加commit的message吗" class="headerlink" title="[hexo部署到github的时候可以动态添加commit的message吗"></a>[hexo部署到github的时候可以动态添加commit的message吗</h1><p>发布于 2016-10-12</p>
<p>hexo部署到github的时候commit信息是直接写在配置文件里的，如果需要更新message，就需要每次部署前改一下配置文件<br>能不能直接在部署命令后面传入需要的更新的message呢？</p>
<p>可以：如下图配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git #部署方式尝试修改引起变化</span><br><span class="line">  repo: </span><br><span class="line">    github: git@git.zhlh6.cn:MuyanGit/MuyanGit.github.io.git</span><br><span class="line">    #github: https://github.com/MuyanGit/MuyanGit.github.io.git</span><br><span class="line">    #coding: </span><br><span class="line">  branch: master #main #master是旧的 #部署分支</span><br><span class="line">  message: MuyanGit 的网站”更新“中······&#123;&#123; now(&quot;YYYY-MM-DD HH:mm:ss&quot;) &#125;&#125;【https://MuyanGit.github.io/ 】</span><br><span class="line"># backup</span><br><span class="line">backup:</span><br><span class="line">  type: git </span><br><span class="line">  message: MuyanGit 的网站”备份“中······&#123;&#123; now(&quot;YYYY-MM-DD HH:mm:ss&quot;) &#125;&#125;【https://MuyanGit.github.io/ 】</span><br><span class="line">  #(备份时候可以在这里加入备注2021年9月05日·星期0·23·48·58)备份之前分别执行 hexo c hexo g hexo d  hexo b </span><br><span class="line">  repo:</span><br><span class="line">    #github: https://hub.fastgit.org/MuyanGit/MuyanGit.github.io.git,backup</span><br><span class="line">    github: https://github.com/MuyanGit/MuyanGit.github.io.git,backup</span><br><span class="line">    #coding:</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110210110426.png" alt="image-20211021011004485"></p>
<h1 id="hexo-n-“-如何完整记录所有bash脚本操作-当做日志-日志记录-windows如何运行bash-“"><a href="#hexo-n-“-如何完整记录所有bash脚本操作-当做日志-日志记录-windows如何运行bash-“" class="headerlink" title="hexo n “ 如何完整记录所有bash脚本操作+当做日志+日志记录+windows如何运行bash    “"></a>hexo n “ 如何完整记录所有bash脚本操作+当做日志+日志记录+windows如何运行bash    “</h1><h2 id="gitbash中可以-power也可以"><a href="#gitbash中可以-power也可以" class="headerlink" title="gitbash中可以 power也可以"></a>gitbash中可以 power也可以</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">exec 3&gt;&amp;1 4&gt;&amp;2</span><br><span class="line">trap &#x27;exec 2&gt;&amp;4 1&gt;&amp;3&#x27; 0 1 2 3</span><br><span class="line">exec 1&gt;H:/MuyanGitBlog/MuyanGit/log.txt 2&gt;&amp;1</span><br><span class="line"># Everything below will go to the file &#x27;log.out&#x27;:</span><br><span class="line"></span><br><span class="line"># 执行的命令主体</span><br><span class="line">cd H:/MuyanGitBlog/MuyanGit&amp;&amp;echo `date`备份进行中&amp;hexo clean&amp;hexo g&amp;hexo d&amp;hexo b&amp;echo MuyanGit博客备份&amp;echo 结束运行备份命令&amp;&amp;echo `date`备份结束中</span><br></pre></td></tr></table></figure>



<h2 id="日志记录"><a href="#日志记录" class="headerlink" title="日志记录"></a>日志记录</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">(</span><br><span class="line">echo &quot; `date` : part 1 - start &quot;</span><br><span class="line">ssh -f admin@server.com &#x27;bash /www/htdocs/server.com/scripts/part1.sh logout exit&#x27;</span><br><span class="line">echo &quot; `date` : sleep 120&quot;</span><br><span class="line">sleep 120</span><br><span class="line">echo &quot; `date` : part 2 - start&quot;</span><br><span class="line">ssh admin@server.com &#x27;bash /www/htdocs/server.com/scripts/part2.sh logout exit&#x27;</span><br><span class="line">echo &quot; `date` : part 3 - start&quot;</span><br><span class="line">ssh admin@server.com &#x27;bash /www/htdocs/server.com/scripts/part3.sh logout exit&#x27;</span><br><span class="line">echo &quot; `date` : END&quot;</span><br><span class="line">) | tee -a /home/scripts/cron/logs</span><br></pre></td></tr></table></figure>



<p>我通常在每个脚本的开头放置类似于以下内容的内容（特别是如果它将作为守护程序运行）：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">exec</span> 3&gt;&amp;1 4&gt;&amp;2</span><br><span class="line"><span class="built_in">trap</span> <span class="string">&#x27;exec 2&gt;&amp;4 1&gt;&amp;3&#x27;</span> 0 1 2 3</span><br><span class="line"><span class="built_in">exec</span> 1&gt;log.out 2&gt;&amp;1</span><br><span class="line"><span class="comment"># Everything below will go to the file &#x27;log.out&#x27;:</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">说明：</span><br><span class="line"></span><br><span class="line">exec 3&gt;&amp;1 4&gt;&amp;2</span><br><span class="line"></span><br><span class="line">保存文件描述符，以便可以将它们恢复到重定向之前的状态，也可以将自身用于输出到以下重定向之前的状态。</span><br><span class="line"></span><br><span class="line">trap &#x27;exec 2&gt;&amp;4 1&gt;&amp;3&#x27; 0 1 2 3</span><br><span class="line"></span><br><span class="line">恢复特定信号的文件描述符。通常不需要，因为应该在子外壳退出时将其还原。</span><br><span class="line"></span><br><span class="line">exec 1&gt;log.out 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line">重定向stdout到文件，log.out然后重定向stderr到stdout。请注意，当您希望它们转到同一文件时，顺序很重要。stdout 必须先重定向，然后才能stderr重定向到stdout。</span><br><span class="line"></span><br><span class="line">从那时起，要查看控制台上的输出（也许），您只需将其重定向到即可&amp;3。例如，</span><br><span class="line"></span><br><span class="line">echo &quot;$(date) : part 1 - start&quot; &gt;&amp;3</span><br><span class="line">stdout在执行上面的第3行之前，它将转到所指示的任何地方（大概是控制台）。</span><br><span class="line"></span><br><span class="line">— 机器人</span><br><span class="line"> source</span><br><span class="line">&lt;&lt; niceroot，谢谢！我在脚本的开头添加了三行（exec，trap，exec），并且能够同时获取stdout和stderr。但是一个问题：我已经看到“文件描述符3（pipe：XXX）在some_command上泄漏” ...请让我知道如何避免出现这些错误。我在自定义面板中使用基于busybox的sh。</span><br><span class="line">— kumar</span><br><span class="line">3</span><br><span class="line">伟大的功夫在这里！-更好的是使用trap &#x27;exec 2&gt;&amp;4 1&gt;&amp;3&#x27; 0 1 2 3 RETURN。每次使用.shell执行shell函数或脚本时，RETURN伪sigspec恢复文件描述符。或源内置命令执行完毕。由于这个原因（以及其他原因），我在最后两行中添加：return＆exit 0-仅需2美分，@ nicerobot恭喜您！</span><br><span class="line">— DavAlPi&#x27;3</span><br><span class="line">通过shell的全局变量记录shell脚本的细节很多。我们可以在外壳程序脚本中模拟类似的日志记录：cubicrace.com/2016/03/efficiency-logging-mechnism-in-shell.html 文章详细介绍了日志级别，如INFO，DEBUG，ERROR。跟踪详细信息，例如脚本入口，脚本出口，函数入口，函数出口。</span><br><span class="line">— Piyush Chordia&#x27;3</span><br><span class="line">trap信号的枚举看起来有些奇怪。通常，您也希望包括在内15。</span><br><span class="line">— 三胞胎</span><br><span class="line">1</span><br><span class="line">@PiyushChordia链接修复：cubicrace.com/2016/03/ficient-logging-mechnism-in-shell.html</span><br><span class="line">— 警惕者</span><br></pre></td></tr></table></figure>





<h2 id="要将ssh输出输出到您的日志文件，您必须重定向stderr到stdout。您可以通过2-gt-amp-1在bash脚本之后追加来做到这一点。"><a href="#要将ssh输出输出到您的日志文件，您必须重定向stderr到stdout。您可以通过2-gt-amp-1在bash脚本之后追加来做到这一点。" class="headerlink" title="要将ssh输出输出到您的日志文件，您必须重定向stderr到stdout。您可以通过2&gt;&amp;1在bash脚本之后追加来做到这一点。"></a>要将ssh输出输出到您的日志文件，您必须重定向<code>stderr</code>到<code>stdout</code>。您可以通过<code>2&gt;&amp;1</code>在bash脚本之后追加来做到这一点。</h2><p>它应该看起来像这样：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">(</span><br><span class="line">...</span><br><span class="line">) 2&gt;&amp;1 | tee ...</span><br></pre></td></tr></table></figure>

<p>当这不能按正确的顺序显示消息时，请尝试添加另一个子shell：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">((</span><br><span class="line">...</span><br><span class="line">) 2&gt;&amp;1) | tee ...</span><br></pre></td></tr></table></figure>







<h1 id="windows-打开-git-bash-shell-窗口，执行命令并在-term-信号后保留"><a href="#windows-打开-git-bash-shell-窗口，执行命令并在-term-信号后保留" class="headerlink" title="windows - 打开 git bash shell 窗口，执行命令并在 term 信号后保留"></a>windows - 打开 git bash shell 窗口，执行命令并在 term 信号后保留</h1><p><a href="https://stackoverflow.com/questions/37774951/">原文</a> 标签 <a href="https://www.coder.work/blog?tag=windows">windows</a> <a href="https://www.coder.work/blog?tag=git">git</a> <a href="https://www.coder.work/blog?tag=bash">bash</a> <a href="https://www.coder.work/blog?tag=shell">shell</a> <a href="https://www.coder.work/blog?tag=maven">maven</a></p>
<p>我有一个批处理文件，它通过打开许多“git bash”shell 窗口来设置我的环境。除了一个烦人的功能之外，这完全有效，如果您按 Ctrl C(或发送任何其他 Term 信号)整个 bash 窗口将关闭。</p>
<p>我希望窗口的行为就像它已正常打开一样，因此当它收到术语信号时，它会返回到 bash 提示符。</p>
<p>这是我的 setup.bat 文件的当前内容:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:</span><br><span class="line">cd \project\</span><br><span class="line">start &quot;&quot; &quot;%SYSTEMDRIVE%\Program Files (x86)\Git\bin\sh.exe&quot; --login -i -l -c &quot;source ali.sh &amp;&amp; mvn spring-boot:run&quot;</span><br><span class="line">cd \project2\</span><br><span class="line">start &quot;&quot; &quot;%SYSTEMDRIVE%\Program Files (x86)\Git\bin\sh.exe&quot; --login</span><br></pre></td></tr></table></figure>


<p>请注意，第一个启动命令运行 maven，当我想重新启动命令(按 Ctrl+C)时，它会关闭整个窗口。<br>第二个启动命令在该目录中创建一个新的 bash 窗口，即使使用 Ctrl+C，它也像普通的 bash 窗口一样工作，但我希望它在开始时运行一个命令。</p>
<p>这可能吗？<br>非常感谢您的帮助</p>
<p><strong>最佳答案</strong></p>
<p>像这样的事情可能对你有用:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:</span><br><span class="line">cd \project\</span><br><span class="line">start &quot;&quot; &quot;%SYSTEMDRIVE%\Program Files (x86)\Git\bin\sh.exe&quot; --login -i -l -c &quot;sh -c &#x27;source ali.sh &amp;&amp; mvn spring-boot:run; exec sh&#x27;&quot;</span><br></pre></td></tr></table></figure>


<p>诀窍是将命令包装在:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sh -c &#x27;...; exec sh&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;D:\MySoftware\DEV\VersionCtrl\Git\bin\sh.exe&quot;</span><br><span class="line">start &quot;&quot; &quot;D:\MySoftware\DEV\VersionCtrl\Git\bin\sh.exe&quot; --login -i -l -c &quot;sh -c &#x27;bash bolg_backup.sh;exec sh&#x27;&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">start &quot;&quot; &quot;D:\MySoftware\DEV\VersionCtrl\Git\bin\sh.exe&quot; --login -i -l -c &#x27;bash bolg_backup.sh&#x27;                                                                                                                          </span><br></pre></td></tr></table></figure>



<p>哪里<code>sh</code>是你的 shell ，可能是 <code>bash</code> .</p>
<p>您实际上可能只需为每个命令添加后缀:<code>exec sh</code> ，例如:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">start &quot;&quot; &quot;%SYSTEMDRIVE%\Program Files (x86)\Git\bin\sh.exe&quot; --login -i -l -c &quot;source ali.sh &amp;&amp; mvn spring-boot:run; exec sh&quot;</span><br></pre></td></tr></table></figure>

<p>start “”  “D:\MySoftware\DEV\VersionCtrl\Git\bin\sh.exe” -c “G:\MuyanGitBlog\MuyanGit\杂项\博客备份\bolg_backup.sh”</p>
<p>关于windows - 打开 git bash shell 窗口，执行命令并在 term 信号后保留，我们在Stack Overflow上找到一个类似的问题： <a href="https://stackoverflow.com/questions/37774951/">https://stackoverflow.com/questions/37774951/</a></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title> moviepy在win上找不到ImageMagick    </title>
    <url>/2021/10/20/cl449bvwm0021b4bh6ir01lea/</url>
    <content><![CDATA[<h2 id="moviepy在win上找不到ImageMagick—IMAGEMAGICK-BINARY-“C-Program-Files-ImageMagick-VERSION-convert-exe”"><a href="#moviepy在win上找不到ImageMagick—IMAGEMAGICK-BINARY-“C-Program-Files-ImageMagick-VERSION-convert-exe”" class="headerlink" title="moviepy在win上找不到ImageMagick—IMAGEMAGICK_BINARY = “C:\Program Files\ImageMagick_VERSION\convert.exe”"></a>moviepy在win上找不到ImageMagick—IMAGEMAGICK_BINARY = “C:\Program Files\ImageMagick_VERSION\convert.exe”</h2><p>2021-10-20 04:03:16 发布</p>
<p>您现在位置：<a href="https://www.cnpython.com/">Python中文网</a><em>/</em><a href="https://www.cnpython.com/qa/"> 问答频道 </a>*/*正文</p>
<p><a href="https://www.cnpython.com/qa/517806#">网友</a></p>
<p>男 | 程序猿一只，喜欢编程写python代码。</p>
<p>在64位Windows 7上的Anaconda3 4.1.1发行版上，我使用<code>pip install moviepy</code>安装了moviepy 0.2.2.11。现在我想用需要ImageMagick的动画文本测试一些示例。因此，我下载并安装了<code>ImageMagick-7.0.3-4-Q16-x64-dll.exe</code>，但根据windows上的<a href="https://zulko.github.io/moviepy/install.html%EF%BC%8C%E9%9C%80%E8%A6%81%E6%89%8B%E5%8A%A8%E6%8C%87%E5%AE%9A%E8%B7%AF%E5%BE%84%E3%80%82%E5%A6%82%E6%9E%9C%E6%88%91%E7%90%86%E8%A7%A3%E6%AD%A3%E7%A1%AE%EF%BC%8C%E8%BF%99%E5%BF%85%E9%A1%BB%E5%9C%A8%E7%BC%96%E8%AF%91%E4%B9%8B%E5%89%8D%E5%AE%8C%E6%88%90%E3%80%82%E7%84%B6%E8%80%8C%EF%BC%8C%E5%BD%93%E6%88%91%E4%BD%BF%E7%94%A8pip%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%E6%97%B6%EF%BC%8C%E6%88%91%E4%B8%8D%E7%9F%A5%E9%81%93%E5%A6%82%E4%BD%95%E5%91%8A%E8%AF%89moviepy%E8%B7%AF%E5%BE%84%E3%80%82%E5%9C%A8">https://zulko.github.io/moviepy/install.html，需要手动指定路径。如果我理解正确，这必须在编译之前完成。然而，当我使用pip进行安装时，我不知道如何告诉moviepy路径。在</a></p>
<p>第二，似乎没有转换.exe. 但是我可以使用例如<code>magick convert image.png image.gif</code>。那么这个版本的ImageMagick与moviepy完全兼容吗？在</p>
<p>2条回答</p>
<p><a href="http://www.voycn.com/article/pythontuxiangchuli-0#main-content">跳转到主要内容</a></p>
<p><a href="http://www.voycn.com/"><img src="http://www.voycn.com/themes/industrial_zymphonies_theme/logo.svg" alt="首页"></a></p>
<p><a href="http://www.voycn.com/">航行学园</a></p>
<p><a href="http://www.voycn.com/">首页</a><a href="http://www.voycn.com/web">前端</a><a href="http://www.voycn.com/classify">分类</a><a href="http://www.voycn.com/lang">编程语言</a><a href="http://www.voycn.com/mobile">移动开发</a></p>
<h1 id="Python图像处理-二十九-MoviePy视频编辑库实现抖音短视频剪切合并操作"><a href="#Python图像处理-二十九-MoviePy视频编辑库实现抖音短视频剪切合并操作" class="headerlink" title="[Python图像处理] 二十九.MoviePy视频编辑库实现抖音短视频剪切合并操作"></a>[Python图像处理] 二十九.MoviePy视频编辑库实现抖音短视频剪切合并操作</h1><p><a href="http://www.voycn.com/">首页</a> &gt; <a href="http://www.voycn.com/article">栏目</a> &gt; [<a href="http://www.voycn.com/article/pythontuxiangchuli-0">Python图像处理] 二十九.MoviePy视频编辑库实现抖音短视频剪切合并操作</a> &gt;</p>
<p>该系列文章是讲解Python OpenCV图像处理知识，前期主要讲解图像入门、OpenCV基础用法，中期讲解图像处理的各种算法，包括图像锐化算子、图像增强技术、图像分割等，后期结合深度学习研究图像识别、图像分类应用。希望文章对您有所帮助，如果有不足之处，还请海涵~</p>
<p>前面一篇文章详细讲解了OpenCV快速实现人脸检测，涉及图像、视频、摄像头。这篇文章将介绍MoviePy视频编辑库，实现视频的自定义剪切和合并操作，基础性文章，希望对你有所帮助。同时，该部分知识均为杨秀璋查阅资料撰写，转载请署名“CSDN+杨秀璋”及原地址出处，谢谢！！</p>
<p>该扩展包缺点：速度太慢，真的很慢，后面看看有没有更好的替代方法。</p>
<p>该系列在github所有源代码：</p>
<p><a href="https://github.com/eastmountyxz/ImageProcessing-Python">https://github.com/eastmountyxz/ImageProcessing-Python</a> <a href="https://github.com/eastmountyxz/CSDNBlog-ImageProcessing-Python">https://github.com/eastmountyxz/CSDNBlog-ImageProcessing-Python</a></p>
<p>前文参考：<br>[Python图像处理] 一.图像处理基础知识及OpenCV入门函数<br>[Python图像处理] 二.OpenCV+Numpy库读取与修改像素<br>[Python图像处理] 三.获取图像属性、兴趣ROI区域及通道处理<br>[Python图像处理] 四.图像平滑之均值滤波、方框滤波、高斯滤波及中值滤波<br>[Python图像处理] 五.图像融合、加法运算及图像类型转换<br>[Python图像处理] 六.图像缩放、图像旋转、图像翻转与图像平移<br>[Python图像处理] 七.图像阈值化处理及算法对比<br>[Python图像处理] 八.图像腐蚀与图像膨胀<br>[Python图像处理] 九.形态学之图像开运算、闭运算、梯度运算<br>[Python图像处理] 十.形态学之图像顶帽运算和黑帽运算<br>[Python图像处理] 十一.灰度直方图概念及OpenCV绘制直方图<br>[Python图像处理] 十二.图像几何变换之图像仿射变换、图像透视变换和图像校正<br>[Python图像处理] 十三.基于灰度三维图的图像顶帽运算和黑帽运算<br>[Python图像处理] 十四.基于OpenCV和像素处理的图像灰度化处理<br>[Python图像处理] 十五.图像的灰度线性变换<br>[Python图像处理] 十六.图像的灰度非线性变换之对数变换、伽马变换<br>[Python图像处理] 十七.图像锐化与边缘检测之Roberts算子、Prewitt算子、Sobel算子和Laplacian算子<br>[Python图像处理] 十八.图像锐化与边缘检测之Scharr算子、Canny算子和LOG算子<br>[Python图像处理] 十九.图像分割之基于K-Means聚类的区域分割<br>[Python图像处理] 二十.图像量化处理和采样处理及局部马赛克特效<br>[Python图像处理] 二十一.图像金字塔之图像向下取样和向上取样<br>[Python图像处理] 二十二.Python图像傅里叶变换原理及实现<br>[Python图像处理] 二十三.傅里叶变换之高通滤波和低通滤波<br>[Python图像处理] 二十四.图像特效处理之毛玻璃、浮雕和油漆特效<br>[Python图像处理] 二十五.图像特效处理之素描、怀旧、光照、流年以及滤镜特效<br>[Python图像处理] 二十六.图像分类原理及基于KNN、朴素贝叶斯算法的图像分类案例<br>[Python图像处理] 二十七.OpenGL入门及绘制基本图形（一）<br>[Python图像处理] 二十八.OpenCV快速实现人脸检测及视频中的人脸</p>
<h3 id="文章目录"><a href="#文章目录" class="headerlink" title="文章目录"></a>文章目录</h3><p>一.MoviePy简介及安装 二.MoviePy基础用法 三.MoviePy抖音短视频剪切 四.MoviePy抖音短视频合并 五.总结</p>
<hr>
<h1 id="一-MoviePy简介及安装"><a href="#一-MoviePy简介及安装" class="headerlink" title="一.MoviePy简介及安装"></a>一.MoviePy简介及安装</h1><p>MoviePy是一个用于视频编辑的Python模块，包括切割、连接、标题插入、视频合成、非线性编辑，视频处理等功能，甚至可以用它增加一些自定义的高级的特效。此外，MoviePy可以读写绝大多数常见的音频和视频格式，包括GIF格式，并且可以在Windows / Mac / Linux上运行，这也以意味着，MoviePy项目可以部署到服务端，在服务端进行视频处理。该扩展包带有Python 2.7+和Python3版本，是一个视频编辑良好扩展包（ffmpeg亦推荐学习）。</p>
<p><img src="https://img-blog.csdnimg.cn/20201005160233928.png#pic_center" alt="在这里插入图片描述"></p>
<p>下载地址：</p>
<p><a href="https://pypi.org/project/moviepy/">https://pypi.org/project/moviepy/</a></p>
<p>Github：</p>
<p><a href="https://github.com/Zulko/moviepy">https://github.com/Zulko/moviepy</a></p>
<p><img src="https://img-blog.csdnimg.cn/20201005162721448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Vhc3Rtb3VudA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>本文主要通过MoviePy实现短视频的剪切和合并操作。随着自媒体公司频繁在各个平台进行视频搬运，对于视频原创性的要求越来越高，用MoviePy可以批量实现视频编辑，结合MoviePy的跨平台特性，可以实现在服务端视频采集，自动处理，发布的流水线作业。推荐ucsheep老师的部分文章：</p>
<p>MoviePy - 中文文档(一个专业的python视频编辑库)教程</p>
<p><strong>MoviePy安装如下图所示：</strong></p>
<p>pip install moviepy</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20201005165201507.png" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201005165252919.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Vhc3Rtb3VudA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><strong>常见错误</strong><br>安装MoviePy运行代码如果报错缺少ImageMagick或decode转码错误，“This error can be due to the fact that ImageMagick is not installed on your computer”，这是需要安装ImageMagic可执行文件。ImageMagic是用在视频中填入文本信息的工具，需要单独下载exe程序安装。可以参考下面这篇文章解决。</p>
<p><a href="https://blog.csdn.net/weixin_42081389/article/details/104322629">https://blog.csdn.net/weixin_42081389/article/details/104322629</a> <a href="https://imagemagick.org/script/download.php#windows">https://imagemagick.org/script/download.php#windows</a></p>
<p>安装过程注意勾选Install development headers and libraries for C and C++ 。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20201005190109817.png" alt="在这里插入图片描述"></p>
<p>安装ImageMagick成功之后如下图所示：</p>
<p><img src="https://img-blog.csdnimg.cn/20201005190435991.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Vhc3Rtb3VudA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>接着修改MoviePy模块下的config_defaults.py文件，修改IMAGEMAGICK_BINARY值，改为刚刚安装ImageMagick的目录下。比如此时的安装目录，接着即可成功运行代码。</p>
<p>C:\Program Files\ImageMagick-7.0.10-Q16-HDRI</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211113030800745.png" alt="image-20211113030800745"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import os</span><br><span class="line"></span><br><span class="line">FFMPEG_BINARY = os.getenv(&#x27;FFMPEG_BINARY&#x27;, &#x27;ffmpeg-imageio&#x27;)</span><br><span class="line">#IMAGEMAGICK_BINARY = os.getenv(&#x27;IMAGEMAGICK_BINARY&#x27;, &#x27;auto-detect&#x27;)</span><br><span class="line"></span><br><span class="line">#修改为刚刚ImageMagic的安装路径</span><br><span class="line">IMAGEMAGICK_BINARY = r&quot;C:\Program Files\ImageMagick-7.0.10-Q16-HDRI\magick.exe&quot;</span><br></pre></td></tr></table></figure>



<hr>
<h1 id="二-MoviePy基础用法"><a href="#二-MoviePy基础用法" class="headerlink" title="二.MoviePy基础用法"></a>二.MoviePy基础用法</h1><p><strong>案例一：视频翻转</strong><br>下面首先看一个简单的官方例子，它将视频翻转。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">from moviepy.editor import *</span><br><span class="line"></span><br><span class="line">#视频旋转180度</span><br><span class="line">clip = VideoFileClip(&quot;cat01.mp4&quot;).rotate(180)</span><br><span class="line"></span><br><span class="line">#The size of the clip, (width,heigth) in pixels</span><br><span class="line">print(clip.size) #(720, 1280)</span><br><span class="line"></span><br><span class="line">#播放视频</span><br><span class="line">#clip.ipython_display(width=100)</span><br><span class="line"></span><br><span class="line">#写入视频</span><br><span class="line">clip.write_videofile(&quot;cat01_rotate.mp4&quot;)</span><br></pre></td></tr></table></figure>

<p>输出结果如下图所示，成功将视频翻转，但是视频加载的时间较长。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20201005184534661.png" alt="在这里插入图片描述"></p>
<p><strong>案例二：自定义logo</strong><br>再来看一个示例，它将在视频5s和10s之间的子剪辑屏幕中央添加一个标题，然后将结果写入一个新文件。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">from moviepy.editor import *</span><br><span class="line"></span><br><span class="line">#加载视频5-10片段</span><br><span class="line">clip = VideoFileClip(&quot;cat02.mp4&quot;).subclip(5,10)</span><br><span class="line">print(type(clip))</span><br><span class="line"></span><br><span class="line">#降低音量x0.8</span><br><span class="line">clip = clip.volumex(0.8)</span><br><span class="line"></span><br><span class="line">#生成文本 自定义颜色字体</span><br><span class="line">text = &quot;CSDN Eastmount 2020&quot;</span><br><span class="line">txt_clip = TextClip(text, fontsize=70, font=&#x27;Simhei&#x27;, color=&#x27;blue&#x27;)</span><br><span class="line"></span><br><span class="line">#屏幕中央显示5秒</span><br><span class="line">txt_clip = txt_clip.set_position(&#x27;center&#x27;).set_duration(5)</span><br><span class="line"></span><br><span class="line">#Overlay text on video</span><br><span class="line">result = CompositeVideoClip([clip, txt_clip])</span><br><span class="line"></span><br><span class="line">#写入文件</span><br><span class="line">result.write_videofile(&quot;cat02_edited.mp4&quot;)</span><br></pre></td></tr></table></figure>

<p>输出结果如下图所示，可以看到成功增加了水印“CSDN Eastmount 2020”。</p>
<p><img src="https://img-blog.csdnimg.cn/20201005191331807.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Vhc3Rtb3VudA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201005192013171.png#pic_center" alt="在这里插入图片描述"></p>
<p>进一步修改视频，可以实现随机时间、随机位置出现logo水印的功能，代码如下。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">from moviepy.editor import *</span><br><span class="line">import random</span><br><span class="line"></span><br><span class="line">#加载视频5-10片段</span><br><span class="line">video = VideoFileClip(&quot;cat03.mp4&quot;).subclip(5,10)</span><br><span class="line">times = video.duration</span><br><span class="line"></span><br><span class="line">#在不同位置出现4次</span><br><span class="line">n = 4  </span><br><span class="line">times_list = [i * (times / n) for i in range(n + 1)]</span><br><span class="line">#[0.0, 1.25, 2.5, 3.75, 5.0]</span><br><span class="line">print(times_list) </span><br><span class="line">logos = []</span><br><span class="line"></span><br><span class="line">#生成文本 自定义颜色字体</span><br><span class="line">for i in range(n):</span><br><span class="line">    txt_clip = TextClip(&quot;CSDN Eastmount 2020&quot;, fontsize=50, font=&#x27;Simhei&#x27;, color=&#x27;blue&#x27;)</span><br><span class="line"></span><br><span class="line">    #显示时间 位置</span><br><span class="line">    txt_clip = (txt_clip.set_start(times_list[i]).set_end(times_list[i + 1])</span><br><span class="line">                .set_pos((random.randint(0, video.w), random.randint(0, video.h))))</span><br><span class="line">    logos.append(txt_clip)</span><br><span class="line"></span><br><span class="line">#Overlay text on video</span><br><span class="line">result = CompositeVideoClip([video, *logos])</span><br><span class="line"></span><br><span class="line">#写入文件 mp4文件默认用libx264编码 比特率单位bps</span><br><span class="line">result.write_videofile(&quot;cat03_edited.mp4&quot;, codec=&quot;libx264&quot;, bitrate=&quot;10000000&quot;)</span><br></pre></td></tr></table></figure>

<p>输出结果如下图所示：</p>
<p><img src="https://img-blog.csdnimg.cn/20201005200758461.gif#pic_center" alt="请添加图片描述"></p>
<p><strong>案例三：MoviePy作者官方实现电影字幕</strong></p>
<p><a href="https://zulko.github.io/moviepy/examples/star_worms.html">https://zulko.github.io/moviepy/examples/star_worms.html</a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20180920140822524" alt="在这里插入图片描述"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">from moviepy.editor import *</span><br><span class="line">from moviepy.video.tools.segmenting import findObjects</span><br><span class="line"></span><br><span class="line"># WE CREATE THE TEXT THAT IS GOING TO MOVE, WE CENTER IT.</span><br><span class="line">screensize = (720,460)</span><br><span class="line">txtClip = TextClip(&#x27;Cool effect&#x27;,color=&#x27;white&#x27;, font=&quot;Amiri-Bold&quot;,</span><br><span class="line">                   kerning = 5, fontsize=100)</span><br><span class="line">cvc = CompositeVideoClip( [txtClip.set_pos(&#x27;center&#x27;)],</span><br><span class="line">                        size=screensize)</span><br><span class="line"></span><br><span class="line"># THE NEXT FOUR FUNCTIONS DEFINE FOUR WAYS OF MOVING THE LETTERS</span><br><span class="line"></span><br><span class="line"># helper function</span><br><span class="line">rotMatrix = lambda a: np.array( [[np.cos(a),np.sin(a)], </span><br><span class="line">                                 [-np.sin(a),np.cos(a)]] )</span><br><span class="line"></span><br><span class="line">def vortex(screenpos,i,nletters):</span><br><span class="line">    d = lambda t : 1.0/(0.3+t**8) #damping</span><br><span class="line">    a = i*np.pi/ nletters # angle of the movement</span><br><span class="line">    v = rotMatrix(a).dot([-1,0])</span><br><span class="line">    if i%2 : v[1] = -v[1]</span><br><span class="line">    return lambda t: screenpos+400*d(t)*rotMatrix(0.5*d(t)*a).dot(v)</span><br><span class="line">    </span><br><span class="line">def cascade(screenpos,i,nletters):</span><br><span class="line">    v = np.array([0,-1])</span><br><span class="line">    d = lambda t : 1 if t&lt;0 else abs(np.sinc(t)/(1+t**4))</span><br><span class="line">    return lambda t: screenpos+v*400*d(t-0.15*i)</span><br><span class="line"></span><br><span class="line">def arrive(screenpos,i,nletters):</span><br><span class="line">    v = np.array([-1,0])</span><br><span class="line">    d = lambda t : max(0, 3-3*t)</span><br><span class="line">    return lambda t: screenpos-400*v*d(t-0.2*i)</span><br><span class="line">    </span><br><span class="line">def vortexout(screenpos,i,nletters):</span><br><span class="line">    d = lambda t : max(0,t) #damping</span><br><span class="line">    a = i*np.pi/ nletters # angle of the movement</span><br><span class="line">    v = rotMatrix(a).dot([-1,0])</span><br><span class="line">    if i%2 : v[1] = -v[1]</span><br><span class="line">    return lambda t: screenpos+400*d(t-0.1*i)*rotMatrix(-0.2*d(t)*a).dot(v)</span><br><span class="line"></span><br><span class="line"># WE USE THE PLUGIN findObjects TO LOCATE AND SEPARATE EACH LETTER</span><br><span class="line">letters = findObjects(cvc) # a list of ImageClips</span><br><span class="line"></span><br><span class="line"># WE ANIMATE THE LETTERS</span><br><span class="line">def moveLetters(letters, funcpos):</span><br><span class="line">    return [ letter.set_pos(funcpos(letter.screenpos,i,len(letters)))</span><br><span class="line">              for i,letter in enumerate(letters)]</span><br><span class="line"></span><br><span class="line">clips = [ CompositeVideoClip( moveLetters(letters,funcpos),</span><br><span class="line">                              size = screensize).subclip(0,5)</span><br><span class="line">          for funcpos in [vortex, cascade, arrive, vortexout] ]</span><br><span class="line"></span><br><span class="line"># WE CONCATENATE EVERYTHING AND WRITE TO A FILE</span><br><span class="line">final_clip = concatenate_videoclips(clips)</span><br><span class="line">final_clip.write_videofile(&#x27;coolTextEffects.avi&#x27;,fps=25,codec=&#x27;mpeg4&#x27;)</span><br></pre></td></tr></table></figure>

<p>pip install scikit-image安装相关扩展包。</p>
<p><img src="https://img-blog.csdnimg.cn/20201005202126175.png#pic_center" alt="在这里插入图片描述"></p>
<hr>
<h1 id="三-MoviePy抖音短视频剪切"><a href="#三-MoviePy抖音短视频剪切" class="headerlink" title="三.MoviePy抖音短视频剪切"></a>三.MoviePy抖音短视频剪切</h1><p>我们通常在看抖音短视频过程中，通常会下载视频，但视频最后有个抖音的logo，我们能否用Python剪切视频去除logo，再合成集合呢？比如将某个UP主的猫视频自动处理成集合。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20201005210358606.png" alt="在这里插入图片描述"></p>
<p>假设文件夹中有5个抖音短视频，如下图所示：</p>
<p><img src="https://img-blog.csdnimg.cn/20201005205525797.png#pic_center" alt="在这里插入图片描述"></p>
<p>完整代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-   </span><br><span class="line">import os</span><br><span class="line">from moviepy.editor import *</span><br><span class="line"></span><br><span class="line">#递归获取文件名称</span><br><span class="line">def file_name(file_dir):   </span><br><span class="line">    L=[]   </span><br><span class="line">    for root, dirs, files in os.walk(file_dir):  </span><br><span class="line">        for file in files:  </span><br><span class="line">            if os.path.splitext(file)[1] == &#x27;.mp4&#x27;:  </span><br><span class="line">                L.append(os.path.join(root, file))  </span><br><span class="line">    return L </span><br><span class="line"></span><br><span class="line">#主函数</span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    filePath = &#x27;vedio&#x27;</span><br><span class="line">    file_list = file_name(filePath)</span><br><span class="line"></span><br><span class="line">    k = 1</span><br><span class="line">    for name in file_list:</span><br><span class="line">        print(name)</span><br><span class="line">        #获取视频总时间</span><br><span class="line">        video = VideoFileClip(name)</span><br><span class="line">        times = video.duration</span><br><span class="line">        print(times)</span><br><span class="line"></span><br><span class="line">        #剪切视频广告 省略最后4秒</span><br><span class="line">        video = VideoFileClip(name).subclip(0,times-4)</span><br><span class="line">        result = &quot;save&quot; + str(k) + &quot;.mp4&quot;</span><br><span class="line">        video.write_videofile(result)</span><br><span class="line">        k = k + 1</span><br></pre></td></tr></table></figure>

<p>如果运行速度较慢，可以使用线程进行优化或ffmpeg开启GPU加速。输出结果如下图所示，成功将视频LOGO删除。</p>
<p><img src="https://img-blog.csdnimg.cn/20201006020610553.png#pic_center" alt="在这里插入图片描述"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20201006020128889.png" alt="在这里插入图片描述"></p>
<hr>
<h1 id="四-MoviePy抖音短视频合并"><a href="#四-MoviePy抖音短视频合并" class="headerlink" title="四.MoviePy抖音短视频合并"></a>四.MoviePy抖音短视频合并</h1><p><strong>案例一：视频常规合并</strong><br>接着将视频合并生成合集，先给出一个最简单的代码，如下所示。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-   </span><br><span class="line">import os</span><br><span class="line">from moviepy.editor import *</span><br><span class="line"></span><br><span class="line">#递归获取文件名称</span><br><span class="line">def file_name(file_dir):   </span><br><span class="line">    L=[]   </span><br><span class="line">    for root, dirs, files in os.walk(file_dir):  </span><br><span class="line">        for file in files:  </span><br><span class="line">            if os.path.splitext(file)[1] == &#x27;.mp4&#x27;:  </span><br><span class="line">                L.append(os.path.join(root, file))  </span><br><span class="line">    return L </span><br><span class="line"></span><br><span class="line">#主函数</span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    filePath = &#x27;vedio&#x27;</span><br><span class="line">    file_list = file_name(filePath)</span><br><span class="line"></span><br><span class="line">    k = 1</span><br><span class="line">    L = []</span><br><span class="line">    for name in file_list:</span><br><span class="line">        print(name)</span><br><span class="line">        #获取视频总时间</span><br><span class="line">        video = VideoFileClip(name)</span><br><span class="line">        times = video.duration</span><br><span class="line">        L.append(video)</span><br><span class="line">        print(times)</span><br><span class="line"></span><br><span class="line">    #视频合成 帧数大致就是24</span><br><span class="line">    final_clip = concatenate_videoclips(L)</span><br><span class="line">    final_clip.to_videofile(&#x27;./final.mp4&#x27;, fps= 24, remove_temp=True)</span><br></pre></td></tr></table></figure>

<p>运行结果如下图所示：</p>
<p><img src="https://img-blog.csdnimg.cn/20201006020938967.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Vhc3Rtb3VudA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>其中 final.mp4 是最终生成的文件，fps是每秒钟传输的帧数，比如人眼一般一秒钟能看到的帧数大致就是 24，而程序最终会生成一个临时文件，remove_temp=True 指的就是将这个临时文件删除。</p>
<p>注意：在我的电脑上，如果一次性合成的文件数过多，程序会崩溃，并且速度是真的慢！！！</p>
<p><strong>案例二：视频预处理合并</strong><br>同时，补充知乎“大坚果”老师读取视频文件合并的核心代码。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">clip1 = VideoFileClip(&quot;1.flv&quot;).subclip(10,20) #读取视频，并截取10-20秒的内容</span><br><span class="line">clip2 = VideoFileClip(&quot;2.webm&quot;).resize(0.60)  # 将视频画面尺寸缩小到60%</span><br><span class="line">final_clip = concatenate_videoclips([clip1,clip2]) #视频合并</span><br><span class="line">final_clip.write_videofile(&quot;hebing.mp4&quot;)</span><br></pre></td></tr></table></figure>

<p>将多段视频以列表展现的形式显示</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">final_clip = clips_array([[clip1, clip2],[clip3, clip4]])</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20201006144245441.png#pic_center" alt="在这里插入图片描述"></p>
<p>推荐CompositeVideoClips方法，可能比concatenate_videoclips、clips_array好用，它可选择起止位置，也可设置渐进切换。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">video = CompositeVideoClip([clip1,                #starts at t=0</span><br><span class="line">                            clip2.set_start(5),   #start at t=5s</span><br><span class="line">                            clip3.set_start(9)])  #start at t=9s，fade-in 的形式转换</span><br><span class="line">video = CompositeVideoClip([clip1,</span><br><span class="line">                           clip2.set_pos((45,150)),</span><br><span class="line">                           clip3.set_pos((90,100))])</span><br></pre></td></tr></table></figure>



<p><strong>案例三：多视频按规定合并</strong><br>该案例也是MoviePy官方提供，这里参考ucsheep大佬的代码供大家学习，推荐大家去学习。</p>
<p><a href="https://zulko.github.io/moviepy/examples/compo_from_image.html">https://zulko.github.io/moviepy/examples/compo_from_image.html</a> <a href="https://blog.csdn.net/ucsheep/article/details/82787821">https://blog.csdn.net/ucsheep/article/details/82787821</a></p>
<p><img src="https://img-blog.csdn.net/20180920150704214#pic_center" alt="在这里插入图片描述"></p>
<p>它需要按照我们指定的图片进行投影，注意是PNG透明图片。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20201006144735780.png" alt="在这里插入图片描述"></p>
<p>这个特殊的合成任务要花费很长的时间，这里仅给出完整代码。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">from moviepy.editor import *</span><br><span class="line">from moviepy.video.tools.segmenting import findObjects</span><br><span class="line"> </span><br><span class="line"># 加载用来指定区域的图像</span><br><span class="line">im = ImageClip(&quot;../../ultracompositing/motif.png&quot;)</span><br><span class="line"> </span><br><span class="line"># 加载这些区域返回一个ImageClip列表</span><br><span class="line">regions = findObjects(im)</span><br><span class="line"></span><br><span class="line"># 载入美国国家公园的7个clip</span><br><span class="line">clips = [VideoFileClip(n, audio=False).subclip(18,22) for n in</span><br><span class="line">     [ &quot;../../videos/romo_0004.mov&quot;,</span><br><span class="line">      &quot;../../videos/apis-0001.mov&quot;,</span><br><span class="line">      &quot;../../videos/romo_0001.mov&quot;,</span><br><span class="line">      &quot;../../videos/elma_s0003.mov&quot;,</span><br><span class="line">      &quot;../../videos/elma_s0002.mov&quot;,</span><br><span class="line">      &quot;../../videos/calo-0007.mov&quot;,</span><br><span class="line">      &quot;../../videos/grsm_0005.mov&quot;]]</span><br><span class="line"> </span><br><span class="line"># 把每一个clip都放置在对应的图片中的区域</span><br><span class="line">comp_clips =  [c.resize(r.size)</span><br><span class="line">                .set_mask(r.mask)</span><br><span class="line">                .set_pos(r.screenpos)</span><br><span class="line">               for c,r in zip(clips,regions)]</span><br><span class="line"> </span><br><span class="line">cc = CompositeVideoClip(comp_clips,im.size)</span><br><span class="line">cc.resize(0.6).write_videofile(&quot;../../composition.mp4&quot;)</span><br></pre></td></tr></table></figure>



<hr>
<h1 id="五-总结"><a href="#五-总结" class="headerlink" title="五.总结"></a>五.总结</h1><p>本篇文章主要讲解MoviePy视频编辑库基础知识，主要实现视频处理、视频剪切和视频拼接。但该扩展包也存在缺陷，速度非常慢。后续随着作者深入，希望能够分享更好的代码。希望这篇基础性文章对读者有一定帮助，也希望这些知识点为读者从事Python图像处理相关项目实践或科学研究提供一定基础。</p>
<p>2020年8月18新开的“娜璋AI安全之家”，主要围绕Python大数据分析、网络空间安全、人工智能、Web渗透及攻防技术进行讲解，同时分享CCF、SCI、南核北核论文的算法实现。娜璋之家会更加系统，并重构作者的所有文章，从零讲解Python和安全，写了近十年文章，真心想把自己所学所感所做分享出来，还请各位多多指教，真诚邀请您的关注！谢谢。</p>
<p><img src="https://img-blog.csdnimg.cn/20200819045459172.png" alt="img"></p>
<p>(By:Eastmount 2020-10-06 深夜10点夜于武汉 <a href="http://blog.csdn.net/eastmount/">http://blog.csdn.net/eastmount/</a> )</p>
<hr>
<p>参考文献：<br>[1] <a href="https://pypi.org/project/moviepy/">https://pypi.org/project/moviepy/</a><br>[2] <a href="https://github.com/Zulko/moviepy">https://github.com/Zulko/moviepy</a><br>[3] MoviePy - 中文文档(一个专业的python视频编辑库)教程<br>[4] <a href="https://blog.csdn.net/weixin_42081389/article/details/104322629">https://blog.csdn.net/weixin_42081389/article/details/104322629</a><br>[5] <a href="https://blog.csdn.net/SnailPace/article/details/107016442">https://blog.csdn.net/SnailPace/article/details/107016442</a><br>[6] <a href="https://zhuanlan.zhihu.com/p/46341173">https://zhuanlan.zhihu.com/p/46341173</a><br>[7] <a href="https://www.jianshu.com/p/98a0c091c4bf">https://www.jianshu.com/p/98a0c091c4bf</a><br>[8] <a href="https://blog.csdn.net/mp624183768/article/details/81434408">https://blog.csdn.net/mp624183768/article/details/81434408</a><br>[9] <a href="https://zulko.github.io/moviepy/examples/moving_letters.html">https://zulko.github.io/moviepy/examples/moving_letters.html</a><br>[10] <a href="https://blog.csdn.net/weixin_43354181/article/details/104272789">https://blog.csdn.net/weixin_43354181/article/details/104272789</a></p>
<p>来源url</p>
<p><a href="javascript:void()">https://blog.csdn.net/Eastmount/article/details/108929561</a></p>
<p>栏目</p>
<p><a href="http://www.voycn.com/web">前端</a></p>
<p><a href="http://www.shidaixinxi.com/shenyuan?from=voycn"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/shenyuan.jpg" alt="深渊向深渊呼唤"></a></p>
<h2 id="最新内容"><a href="#最新内容" class="headerlink" title="最新内容"></a>最新内容</h2><ul>
<li><a href="http://www.voycn.com/article/linux-shell-he-quanxian">【linux】shell 和 权限</a></li>
<li><a href="http://www.voycn.com/article/linux-xiaxorddosdemumaqingchu">Linux 下Xorddos的木马清除</a></li>
<li><a href="http://www.voycn.com/article/c-vectordemonishixian">C++——vector的模拟实现</a></li>
<li><a href="http://www.voycn.com/article/linux-vimdejibenshiyong">Linux vim的基本使用</a></li>
<li><a href="http://www.voycn.com/article/rhcsa-disitian">RHCSA——第四天</a></li>
<li><a href="http://www.voycn.com/article/hadoopshizhan-duiyingwendanciwenbenjinxingtongjihepaixuchaoxiangxijiaoxuesuanfafenxi">Hadoop实战——对英文单词文本进行统计和排序（超详细教学，算法分析）</a></li>
<li><a href="http://www.voycn.com/article/hulianwanggongsidewanzhengkaifaliuchengshizenyangde">互联网公司的完整开发流程是怎样的？</a></li>
<li><a href="http://www.voycn.com/article/shiyongredisgongjuzidongbushuclusterjiqunshisan">使用Redis工具自动部署cluster集群（十三）</a></li>
<li><a href="http://www.voycn.com/article/c-vector-0">【C++】vector</a></li>
<li><a href="http://www.voycn.com/article/zuowanzidonghuaceshidanbierangbuhuihuibaohuileni">做完自动化测试，但别让不会汇报毁了你…</a></li>
</ul>
<p><a href="http://www.voycn.com/disclaimer">免责声明</a> <a href="http://www.voycn.com/contact">联络表</a> <a href="http://www.stnkw.com/">科文园</a></p>
<p>Copyright © 2021. All rights reserved</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>ping IP 带时间戳循环显示并写入日志+检测某个IP端口的实时状态（windos版+linux版） </title>
    <url>/2021/09/09/cl449bvwo0024b4bhb4cdbb3d/</url>
    <content><![CDATA[<h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>在工作中，判断网络是否通畅，首选命令就是ping，但有时候我们需要持续ping一个或多个地址时，需要加 -t 即可，但有时候需要在ping的时候加入时间戳并把ping记录写入到日志里面，方法如下：</p>
<p><strong>windos版：</strong></p>
<p><strong>首选把下面代码复制到文本里去，然后把扩展名更改为.bat</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">@echo.----------------------------------------------------------</span><br><span class="line">@echo.       一   Author： aゞ锦衣卫</span><br><span class="line">@echo.       键   Reminder：请以管理员身份运行                                                                 </span><br><span class="line">@echo.       ★   Description：一键ping+时间戳+写日志服务                                                     </span><br><span class="line">@echo.       服   Blog：www.cnblogs.com/su-root                                               </span><br><span class="line">@echo.       务   Email：1147076062@qq.com VX：zikun868686</span><br><span class="line">@echo.-----------------------------------------------------------</span><br><span class="line">@echo.  ※温馨提醒：终止执行请按: Ctrl+C</span><br><span class="line">@echo.-----------------------------------------------------------</span><br><span class="line">@echo off</span><br><span class="line">set /p host=请输入需要检测的IP地址: </span><br><span class="line">set logfile=Log_%host%.log</span><br><span class="line">echo Target Host = %host% &gt;%logfile%</span><br><span class="line">for /f &quot;tokens=*&quot; %%A in (&#x27;ping %host% -n 1 &#x27;) do (echo %%A&gt;&gt;%logfile% &amp;&amp; GOTO Ping)</span><br><span class="line">:Ping</span><br><span class="line">for /f &quot;tokens=* skip=2&quot; %%A in (&#x27;ping %host% -n 1 &#x27;) do (</span><br><span class="line">    echo %date% %time:~0,2%:%time:~3,2%:%time:~6,2% %%A&gt;&gt;%logfile%</span><br><span class="line">    echo %date% %time:~0,2%:%time:~3,2%:%time:~6,2% %%A</span><br><span class="line">    timeout 1 &gt;NUL </span><br><span class="line">    GOTO Ping)</span><br></pre></td></tr></table></figure>

<p>s</p>
<figure class="highlight plaintext"><figcaption><span>这是注释 文件名 test.bat</span></figcaption><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">::      关闭回显</span><br><span class="line"></span><br><span class="line">set /p host=myhost:</span><br><span class="line">::      这是备注/p效果是 需要用户输入host，即你要ping的地址</span><br><span class="line">::      设置字符串变量     =后：前为提示</span><br><span class="line"></span><br><span class="line">set logfile=ping_%host%.log</span><br><span class="line">::      设置文件名 要重用set设置的变量host 需要两边包裹%</span><br><span class="line"></span><br><span class="line">echo Target Host=%host% &gt; %logfile%</span><br><span class="line">::       echo 输出的字符串 &gt;到 输入的对象</span><br><span class="line">::      &gt;file.txt 输出字符串到文件；没有&gt; 默认输出到屏幕； &gt;nul 输出到空的对象，指令操作的提示语句不会显示</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">::      增强for循环</span><br><span class="line">::      tokens 选择一行中的分割好的部分 *剩余全部 </span><br><span class="line">::      skip 跳过开头几行</span><br><span class="line">::      %date:~0,2% 日期字符串从第一个到倒数第三个2021-09-09  2:19:59</span><br><span class="line">::      &gt;&gt;a.txt 追加到a.txt里</span><br><span class="line">::      &gt;a.txt 无创建a.txt，有清空a.txt</span><br><span class="line">::      echo str 输出字符串</span><br><span class="line">::      echo str &gt;&gt;filename 输出字符串到文件</span><br><span class="line">::      timeout /t waittime /nobreak&gt;nul 等待时间waittime 期间无法停止 &gt;nul 意思不要打印到命令窗口 不显示</span><br><span class="line">::      &quot;:loop&quot; &quot;goto loop&quot; 循环</span><br><span class="line">::      pause&gt;nul 按任意键继续，不显示提示</span><br><span class="line"></span><br><span class="line">:loop</span><br><span class="line">for /f &quot;tokens=* skip=2&quot; %%A in (&#x27;ping %host% -n 1&#x27;) do (</span><br><span class="line">	 echo %date% %time:~0,2%:%time:~3,2%:%time:~6,2% %%A&gt;&gt;%logfile%</span><br><span class="line">    echo %date% %time:~0,2%:%time:~3,2%:%time:~6,2% %%A</span><br><span class="line">	timeout /t 1 /nobreak&gt;nul</span><br><span class="line">	goto loop</span><br><span class="line">)</span><br><span class="line">pause&gt;nul</span><br></pre></td></tr></table></figure>

<p><strong>运行.bat文件效果如下：</strong></p>
<p><a href="https://img2018.cnblogs.com/blog/1491353/201907/1491353-20190704224802315-910955600.gif"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1491353-20190704224802315-910955600.gif" alt="img"></a></p>
<p><strong>注：</strong>.bat文件放到哪里执行，就会在本地生成相应的.log日志文件。</p>
<p>我们打开日志文件看看：</p>
<p><a href="https://img2018.cnblogs.com/blog/1491353/201907/1491353-20190704225645380-1465060532.png"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1491353-20190704225645380-1465060532.png" alt="img"></a></p>
<p> <strong>如果我们需要检测某IP地址的指定端口可将上面代码稍加改动即可：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">@echo.----------------------------------------------------------</span><br><span class="line">@echo.       一   Author： aゞ锦衣卫</span><br><span class="line">@echo.       键   Reminder：请以管理员身份运行                                                                 </span><br><span class="line">@echo.       ★   Description：一键端口检测服务                                                     </span><br><span class="line">@echo.       服   Blog：www.cnblogs.com/su-root                                               </span><br><span class="line">@echo.       务   Email：1147076062@qq.com VX：zikun868686</span><br><span class="line">@echo.-----------------------------------------------------------</span><br><span class="line">@echo.  ※温馨提醒：终止执行请按: Ctrl+C</span><br><span class="line">@echo.-----------------------------------------------------------</span><br><span class="line">@echo off</span><br><span class="line">set /p host=请输入需要检测的IP地址: </span><br><span class="line">set /p port=请输入需要检测的端口号:</span><br><span class="line">set logfile=Log_%host%.log</span><br><span class="line">echo Target Host = %host% &gt;&gt;%logfile%</span><br><span class="line">for /f &quot;tokens=*&quot; %%A in (&#x27;tcping -d -t -n 1 %host% %port%&#x27;) do (echo %%A&gt;&gt;%logfile% &amp;&amp; GOTO Ping)</span><br><span class="line">:Ping</span><br><span class="line">for /f &quot;tokens=* skip=2&quot; %%A in (&#x27;tcping -d -t -n 1 %host% %port%&#x27;) do (</span><br><span class="line">    echo %date% %time:~0,2%:%time:~3,2%:%time:~6,2% %%A&gt;&gt;%logfile%</span><br><span class="line">    echo %date% %time:~0,2%:%time:~3,2%:%time:~6,2% %%A</span><br><span class="line">    timeout 1 &gt;NUL </span><br><span class="line">    GOTO Ping)</span><br></pre></td></tr></table></figure>

<p><strong>执行效果如下：</strong></p>
<p><a href="https://img2018.cnblogs.com/blog/1491353/201907/1491353-20190704231350175-237687828.gif"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1491353-20190704231350175-237687828.gif" alt="img"></a></p>
<p><strong>注：</strong>去官网下载tcping工具（根据自身系统选择32位/64位）<a href="https://elifulkerson.com/projects/tcping.php">https://elifulkerson.com/projects/tcping.php</a>  tcping工具具体用法可参看：<a href="https://www.cnblogs.com/su-root/p/10924758.html">https://www.cnblogs.com/su-root/p/10924758.html</a></p>
<p>我们打开日志文件看看：</p>
<p><a href="https://img2018.cnblogs.com/blog/1491353/201907/1491353-20190704231521074-411976195.png"><img src="https://img2018.cnblogs.com/blog/1491353/201907/1491353-20190704231521074-411976195.png" alt="img"></a></p>
<p><strong>linux版：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@bqh-118 ~]# ping 192.168.0.117|awk &#x27;&#123;print strftime(&quot;%c&quot;,systime()) &quot;\t&quot;$0&#125;&#x27;</span><br><span class="line">2019年07月04日 星期四 23时14分35秒    PING 192.168.0.117 (192.168.0.117) 56(84) bytes of data.</span><br><span class="line">2019年07月04日 星期四 23时14分35秒    64 bytes from 192.168.0.117: icmp_seq=1 ttl=64 time=0.223 ms</span><br><span class="line">2019年07月04日 星期四 23时14分36秒    64 bytes from 192.168.0.117: icmp_seq=2 ttl=64 time=0.385 ms</span><br><span class="line">2019年07月04日 星期四 23时14分37秒    64 bytes from 192.168.0.117: icmp_seq=3 ttl=64 time=0.420 ms</span><br><span class="line">2019年07月04日 星期四 23时14分38秒    64 bytes from 192.168.0.117: icmp_seq=4 ttl=64 time=0.291 ms</span><br><span class="line">2019年07月04日 星期四 23时14分39秒    64 bytes from 192.168.0.117: icmp_seq=5 ttl=64 time=1.21 ms</span><br><span class="line">2019年07月04日 星期四 23时14分40秒    64 bytes from 192.168.0.117: icmp_seq=6 ttl=64 time=1.45 ms</span><br></pre></td></tr></table></figure>

<p><strong>把输出信息写入到log日志中：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@bqh-118 ~]# ping 192.168.0.117 -c 6|awk &#x27;&#123;print strftime(&quot;%c&quot;,systime()) &quot;\t&quot;$0&#125;&#x27; &gt;ping.log</span><br><span class="line"></span><br><span class="line">[root@bqh-118 ~]# cat ping.log </span><br><span class="line">2019年07月04日 星期四 23时15分06秒    PING 192.168.0.117 (192.168.0.117) 56(84) bytes of data.</span><br><span class="line">2019年07月04日 星期四 23时15分06秒    64 bytes from 192.168.0.117: icmp_seq=1 ttl=64 time=0.231 ms</span><br><span class="line">2019年07月04日 星期四 23时15分07秒    64 bytes from 192.168.0.117: icmp_seq=2 ttl=64 time=0.331 ms</span><br><span class="line">2019年07月04日 星期四 23时15分08秒    64 bytes from 192.168.0.117: icmp_seq=3 ttl=64 time=0.185 ms</span><br><span class="line">2019年07月04日 星期四 23时15分09秒    64 bytes from 192.168.0.117: icmp_seq=4 ttl=64 time=0.347 ms</span><br><span class="line">2019年07月04日 星期四 23时15分10秒    64 bytes from 192.168.0.117: icmp_seq=5 ttl=64 time=0.259 ms</span><br><span class="line">2019年07月04日 星期四 23时15分11秒    64 bytes from 192.168.0.117: icmp_seq=6 ttl=64 time=0.377 ms</span><br><span class="line">2019年07月04日 星期四 23时15分11秒    </span><br><span class="line">2019年07月04日 星期四 23时15分11秒    --- 192.168.0.117 ping statistics ---</span><br><span class="line">2019年07月04日 星期四 23时15分11秒    6 packets transmitted, 6 received, 0% packet loss, time 5038ms</span><br><span class="line">2019年07月04日 星期四 23时15分11秒    rtt min/avg/max/mdev = 0.185/0.288/0.377/0.069 ms</span><br></pre></td></tr></table></figure>

<p><strong>我们也可把任务放到后台运行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@bqh-118 ~]# ping 192.168.0.117 -c 6|awk &#x27;&#123;print strftime(&quot;%c&quot;,systime()) &quot;\t&quot;$0&#125;&#x27; &gt;ping.log &amp;</span><br><span class="line">[1] 1560</span><br><span class="line">[root@bqh-118 ~]# </span><br></pre></td></tr></table></figure>

<p>当然也有其他方法检测，以上方法不是唯一的</p>
<h1 id="ping-百度"><a href="#ping-百度" class="headerlink" title="ping  百度"></a>ping  百度</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">@echo off</span><br><span class="line">@echo.------------------ping指定 IP baidu.com-----------------------------</span><br><span class="line">@echo off</span><br><span class="line">set host=baidu.com</span><br><span class="line">set logfile=Log_%host%.log</span><br><span class="line">echo Target Host = %host% &gt;%logfile%</span><br><span class="line">for /f &quot;tokens=*&quot; %%A in (&#x27;ping %host% -n 1 &#x27;) do (echo %%A&gt;&gt;%logfile% &amp;&amp; GOTO Ping)</span><br><span class="line">:Ping</span><br><span class="line">for /f &quot;tokens=* skip=2&quot; %%A in (&#x27;ping %host% -n 1 &#x27;) do (</span><br><span class="line">    echo %date% %time:~0,2%:%time:~3,2%:%time:~6,2% %%A&gt;&gt;%logfile%</span><br><span class="line">    echo %date% %time:~0,2%:%time:~3,2%:%time:~6,2% %%A</span><br><span class="line">    timeout 1 &gt;NUL </span><br><span class="line">    GOTO Ping)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="ping-局域网"><a href="#ping-局域网" class="headerlink" title="ping  局域网"></a>ping  局域网</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Echo off</span><br><span class="line">    date /t &gt;&gt; IPList.txt</span><br><span class="line">　　time /t &gt;&gt; IPList.txt</span><br><span class="line">　　echo =========== &gt;&gt; IPList.txt</span><br><span class="line">　　for /L %%I in (1,1,255) do (%SystemRoot%\System32\PING.EXE -n 1 192.168.1.%%I )</span><br><span class="line">    @Find &quot;Request timed out.&quot; &amp; echo 192.168.0.%%I Timed Out &gt;&gt;IPList.txt &amp; echo off</span><br><span class="line">    pause  </span><br><span class="line">	</span><br><span class="line">　　cls</span><br><span class="line">　　Echo Finished!</span><br><span class="line">　　@Echo on</span><br><span class="line">　　Notepad.exe IPList.txt</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title> python requests之 基础用法    </title>
    <url>/2021/11/03/cl449bvwp0027b4bh1g79bmtc/</url>
    <content><![CDATA[<h1 id="python-requests之-基础用法"><a href="#python-requests之-基础用法" class="headerlink" title="python requests之 基础用法"></a>python requests之 基础用法</h1><p><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" alt="img"></p>
<p>分类专栏： <a href="https://blog.csdn.net/weixin_39791387/category_7939836.html">python进阶</a> 文章标签： <a href="https://www.csdn.net/tags/MtjaQg4sNDk0LWJsb2cO0O0O.html">python</a> <a href="https://www.csdn.net/tags/MtTaEg0sMTEzMjItYmxvZwO0O0OO0O0O.html">requests</a></p>
<p>版权</p>
<p><a href="https://blog.csdn.net/weixin_39791387/category_7939836.html"><img src="https://img-blog.csdnimg.cn/20201014180756757.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="img">python进阶</a>专栏收录该内容</p>
<p>56 篇文章2 订阅</p>
<p>订阅专栏</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202111031352021.png" alt="image-20211103135239916"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202111031353987.png" alt="image-20211103135336890"></p>
<h3 id="文章目录"><a href="#文章目录" class="headerlink" title="文章目录"></a>文章目录</h3><ul>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#__2">一. 发送请求的类型</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#_GET_URL_15">二. GET 传递URL参数</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#__40">三. 响应内容:</a></li>
<li><ul>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#31__41">3.1 文本响应内容及其编码</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#32__64">3.2 二进制响应内容(常用)</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#33_JSON__76">3.3 JSON 响应内容(常用)</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#34__90">3.4 原始响应内容</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#35__117">3.5 定制请求头</a></li>
</ul>
</li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#_POST_123">四. POST请求</a></li>
<li><ul>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#41__124">4.1 数据上传</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#42__179">4.2 文件上传</a></li>
<li><ul>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#421__182">4.2.1 最简单的上传方法</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#422___197">4.2.2 显式设置文件名, 文件类型和请求头</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#__211">五. 响应状态码</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#__231">六. 响应头</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#_Cookie_243">七. Cookie</a></li>
<li><ul>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#71_cookies_244">7.1 快速访问cookies</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#72_cookies_cookies_251">7.2 发送cookies到服务器, 使用cookies参数</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#73_Cookies_264">7.3 Cookies返回对象</a></li>
</ul>
</li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/100536884#__275">八. 请求超时处理(生产代码必须使用这一参数.)</a></li>
</ul>
<blockquote>
<p>本文仅供学习参考,建议调试阶段使用, 生产阶段可以使用进阶用法</p>
</blockquote>
<h1 id="一-发送请求的类型"><a href="#一-发送请求的类型" class="headerlink" title="一. 发送请求的类型"></a>一. 发送请求的类型</h1><ul>
<li><code>(***)</code>表示经常会用到, <code>(**)</code> 表示会用到但不经常, <code>(*)</code>表示很少用到</li>
<li>GET 查看 (***)</li>
<li>POST 增加 (***)</li>
<li>PUT 修改 (**)</li>
<li>PATCH 修改(**)</li>
<li>DELETE 删除 (**)</li>
<li>HEAD 查看响应头 (*)</li>
<li>OPTIONS 查看可用请求方法 (*)</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">requests.[method](url)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h1 id="二-GET-传递URL参数"><a href="#二-GET-传递URL参数" class="headerlink" title="二. GET 传递URL参数"></a>二. GET 传递URL参数</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: url = <span class="string">&#x27;http://www.test.com&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: params = &#123;<span class="string">&quot;key1&quot;</span>:<span class="string">&quot;val1&quot;</span>, <span class="string">&quot;key2&quot;</span>:<span class="string">&quot;val2&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">4</span>]: r = requests.get(url, params)</span><br><span class="line"></span><br><span class="line">In [<span class="number">5</span>]: r.url</span><br><span class="line">Out[<span class="number">5</span>]: <span class="string">&#x27;https://www.test.com/?key1=val1&amp;key2=val2&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: params2 = &#123;<span class="string">&quot;key1&quot;</span>: <span class="string">&quot;val1&quot;</span>, <span class="string">&quot;key2&quot;</span>:[<span class="string">&quot;v2&quot;</span>, <span class="string">&quot;val2&quot;</span>]&#125;</span><br><span class="line"><span class="comment"># 最近碰到个问题，极个别接口在get请求的参数params时，若数据类型为dict，则报500，json.dumps()后则200， 将参数名params改为data，也200， 改为json也200. 若采用get(url, params=json.dumps(dict), ) 方案，这样的话，其它接口可能就会400了，最后判断返回是否500，若500 则dumps. </span></span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: r = requests.get(url,params2)</span><br><span class="line"><span class="comment"># 因网址问题,可能会报错</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: r.url</span><br><span class="line">Out[<span class="number">8</span>]: <span class="string">&#x27;https://www.test.com/?key1=val1&amp;key2=v2&amp;key2=val2&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920</span></span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li>requests.get(url, params={“key1”: “val1”, “key2”: “val2”}), 相当于在url后面拼接一些参数</li>
<li><code>params</code>参数只在get中使用.</li>
</ol>
</blockquote>
<h1 id="三-响应内容"><a href="#三-响应内容" class="headerlink" title="三. 响应内容:"></a>三. 响应内容:</h1><h2 id="3-1-文本响应内容及其编码"><a href="#3-1-文本响应内容及其编码" class="headerlink" title="3.1 文本响应内容及其编码"></a>3.1 文本响应内容及其编码</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">3</span>]: r = requests.get(<span class="string">&quot;https://www.baidu.com&quot;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">4</span>]: r.url</span><br><span class="line">Out[<span class="number">4</span>]: <span class="string">&#x27;https://www.baidu.com/&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">5</span>]: r.text</span><br><span class="line">Out[<span class="number">5</span>]: <span class="string">&#x27;&lt;!DOCTYPE html&gt;\r\n&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=conten</span></span><br><span class="line"><span class="string">t-type content=text/html;charset=utf-8&gt;&lt;meta http-equiv=X-UA-Compatible content=</span></span><br><span class="line"><span class="string">IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=stylesheet type=text/css hr</span></span><br><span class="line"><span class="string">ef=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span></span><br><span class="line"><span class="string">&gt;&lt;title&gt;莽\x99戮氓潞娄盲赂\x80盲赂\x8b茂录\x8c盲陆\xa0氓掳卤莽\x9f楼茅\x81\x93&lt;/title&gt;&lt;/head&gt; &lt;bo</span></span><br><span class="line"><span class="string">dy link=#0000cc&gt; ... 此处省略几千字...&lt;/body&gt; &lt;/html&gt;\r\n&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: r.encoding</span><br><span class="line">Out[<span class="number">6</span>]: <span class="string">&#x27;ISO-8859-1&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: r.encoding= <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">9</span>]: r.encoding</span><br><span class="line">Out[<span class="number">9</span>]: <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"><span class="number">1234567891011121314151617181920</span></span><br></pre></td></tr></table></figure>

<h2 id="3-2-二进制响应内容-常用"><a href="#3-2-二进制响应内容-常用" class="headerlink" title="3.2 二进制响应内容(常用)"></a>3.2 二进制响应内容(常用)</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">23</span>]: r.content</span><br><span class="line">Out[<span class="number">23</span>]: ...省略几千字... 如果r的链接地址是个图片, 可以非常好的作为示例.</span><br><span class="line"></span><br><span class="line">In [<span class="number">24</span>]: <span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">In [<span class="number">25</span>]: <span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"></span><br><span class="line">In [<span class="number">26</span>]: i = Image.<span class="built_in">open</span>(BytesIO(r.content))  <span class="comment"># 可以作为下载图片或二进制文档的方法</span></span><br><span class="line"></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>

<h2 id="3-3-JSON-响应内容-常用"><a href="#3-3-JSON-响应内容-常用" class="headerlink" title="3.3 JSON 响应内容(常用)"></a>3.3 JSON 响应内容(常用)</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">1</span>]: r = requests.get(<span class="string">&#x27;https://api.github.com/events&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: r.json()</span><br><span class="line">Out[<span class="number">2</span>]:</span><br><span class="line">[&#123;<span class="string">&#x27;id&#x27;</span>: <span class="string">&#x27;13092490355&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;PushEvent&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;actor&#x27;</span>: &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">46406730</span>,</span><br><span class="line">   <span class="string">&#x27;login&#x27;</span>: <span class="string">&#x27;NekoSilverFox</span></span><br><span class="line"><span class="string">   ...</span></span><br><span class="line"><span class="string">&#125;]</span></span><br><span class="line"><span class="string">12345678910</span></span><br></pre></td></tr></table></figure>

<h2 id="3-4-原始响应内容"><a href="#3-4-原始响应内容" class="headerlink" title="3.4 原始响应内容"></a>3.4 原始响应内容</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">1</span>]: r = requests.get(<span class="string">&#x27;https://api.github.com/events&#x27;</span>, stream=<span class="literal">True</span>) <span class="comment"># 可能会报错</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: r.json()</span><br><span class="line">Out[<span class="number">2</span>]:</span><br><span class="line">[&#123;<span class="string">&#x27;id&#x27;</span>: <span class="string">&#x27;13092490355&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;PushEvent&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;actor&#x27;</span>: &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">46406730</span>,</span><br><span class="line">   <span class="string">&#x27;login&#x27;</span>: <span class="string">&#x27;NekoSilverFox</span></span><br><span class="line"><span class="string">   ...</span></span><br><span class="line"><span class="string">&#125;]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">In [3]: r.raw</span></span><br><span class="line"><span class="string">Out[3]: &lt;urllib3.response.HTTPResponse at 0x1b4c491ddd8&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">In [4]: r.raw.read(10)</span></span><br><span class="line"><span class="string">Out[4]: b&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>一般情况下使用如下代码替代文件流:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fd:</span><br><span class="line">   <span class="keyword">for</span> chunk <span class="keyword">in</span> r.iter_content(chunk_size):</span><br><span class="line">       fd.write(chunk)</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<h2 id="3-5-定制请求头"><a href="#3-5-定制请求头" class="headerlink" title="3.5 定制请求头"></a>3.5 定制请求头</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&#x27;https://api.github.com/some/endpoint&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>headers = &#123;<span class="string">&#x27;user-agent&#x27;</span>: <span class="string">&#x27;my-app/0.0.1&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(url, headers=headers)</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<h1 id="四-POST请求"><a href="#四-POST请求" class="headerlink" title="四. POST请求"></a>四. POST请求</h1><h2 id="4-1-数据上传"><a href="#4-1-数据上传" class="headerlink" title="4.1 数据上传"></a>4.1 数据上传</h2><ul>
<li>格式有以下几种:</li>
</ul>
<ol>
<li><code>requests.post(url, data=&#123;&quot;key1&quot;: &quot;val1&quot;, &quot;key2&quot;: &quot;val2&quot;&#125;)</code><br>是将<code>字典数据</code>传给<code>data</code>参数, 还可以传输<code>元组列表</code>, 也可以传<code>string</code>(此时需要用json.dumps()处理下).</li>
<li><code>requests.post(url, json=&#123;&quot;key1&quot;: &quot;val1&quot;, &quot;key2&quot;: &quot;val2&quot;&#125;)</code><br>是将<code>字典数据</code>传给<code>json</code>参数, 会自动编码</li>
</ol>
<blockquote>
<ol>
<li>post请求可以 接受 <code>data</code>和<code>json</code> 两个参数,不接受params</li>
<li>若 post请求传参要求是body中raw的格式josn(application/json), 则在post请求参数中添加headers参数, 参数值包含{“Content-Type”: “application/json; charset=UTF-8”}</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">headers = &#123;</span><br><span class="line">   <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json; charset=UTF-8&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">resp = requests.post(url, data=(), headers=headers)</span><br><span class="line"><span class="number">12345</span></span><br><span class="line"><span class="comment"># 将字典数据传给data参数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data = &#123;<span class="string">&#x27;key1&#x27;</span>: <span class="string">&#x27;value1&#x27;</span>, <span class="string">&#x27;key2&#x27;</span>: <span class="string">&#x27;value2&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.post(<span class="string">&quot;http://httpbin.org/post&quot;</span>, data=data)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(r.text)</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">&quot;form&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;key2&quot;</span>: <span class="string">&quot;value2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;key1&quot;</span>: <span class="string">&quot;value1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 将元组数据传给data参数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>payload = ((<span class="string">&#x27;key1&#x27;</span>, <span class="string">&#x27;value1&#x27;</span>), (<span class="string">&#x27;key1&#x27;</span>, <span class="string">&#x27;value2&#x27;</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.post(<span class="string">&#x27;http://httpbin.org/post&#x27;</span>, data=payload)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(r.text)</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">&quot;form&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;key1&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;value1&quot;</span>,</span><br><span class="line">      <span class="string">&quot;value2&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 将json数据传给data参数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> json</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&#x27;https://api.github.com/some/endpoint&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>json_dict = &#123;<span class="string">&quot;some&quot;</span>: <span class="string">&quot;data&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.post(url, data=json.dumps(payload))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将字典数据传给json参数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&#x27;https://api.github.com/some/endpoint&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>json_dict = &#123;<span class="string">&quot;some&quot;</span>: <span class="string">&quot;data&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.post(url, json=json_dict)</span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536</span></span><br></pre></td></tr></table></figure>

<h2 id="4-2-文件上传"><a href="#4-2-文件上传" class="headerlink" title="4.2 文件上传"></a>4.2 文件上传</h2><p>格式如下:<br><code>r = requests.post(url, files=&#123;&#39;file&#39;: open(&#39;report.xls&#39;, &#39;rb&#39;)&#125;)</code></p>
<h3 id="4-2-1-最简单的上传方法"><a href="#4-2-1-最简单的上传方法" class="headerlink" title="4.2.1 最简单的上传方法"></a>4.2.1 最简单的上传方法</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&#x27;http://httpbin.org/post&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>files = &#123;<span class="string">&#x27;file&#x27;</span>: <span class="built_in">open</span>(<span class="string">&#x27;report.xls&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.post(url, files=files)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">&quot;files&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;file&quot;</span>: <span class="string">&quot;&lt;censored...binary...data&gt;&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2-2-显式设置文件名-文件类型和请求头"><a href="#4-2-2-显式设置文件名-文件类型和请求头" class="headerlink" title="4.2.2 显式设置文件名, 文件类型和请求头"></a>4.2.2 显式设置文件名, 文件类型和请求头</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&#x27;http://httpbin.org/post&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>files = &#123;<span class="string">&#x27;file&#x27;</span>: (<span class="string">&#x27;report.xls&#x27;</span>, <span class="built_in">open</span>(<span class="string">&#x27;report.xls&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>), <span class="string">&#x27;application/vnd.ms-excel&#x27;</span>, &#123;<span class="string">&#x27;Expires&#x27;</span>: <span class="string">&#x27;0&#x27;</span>&#125;)&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.post(url, files=files)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">&quot;files&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;file&quot;</span>: <span class="string">&quot;&lt;censored...binary...data&gt;&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>

<h1 id="五-响应状态码"><a href="#五-响应状态码" class="headerlink" title="五. 响应状态码"></a>五. 响应状态码</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.status_code  <span class="comment"># 获取请求状态码</span></span><br><span class="line"><span class="number">200</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.status_code == requests.codes.ok  <span class="comment"># 可以用此来判断是否请求成功</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bad_r = requests.get(<span class="string">&quot;http://httpbin.org/status/404&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bad_r.status_code</span><br><span class="line"><span class="number">404</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bad_r.raise_for_status()   <span class="comment"># 可以用此来查找 请求错误的原因</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;D:\Anaconda3\lib\site-packages\requests\models.py&quot;</span>, line <span class="number">940</span>, <span class="keyword">in</span> raise_for_status</span><br><span class="line">    <span class="keyword">raise</span> HTTPError(http_error_msg, response=self)</span><br><span class="line">requests.exceptions.HTTPError: <span class="number">404</span> Client Error: NOT FOUND <span class="keyword">for</span> url: http://httpbin.org/sta</span><br><span class="line">tus/<span class="number">404</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.raise_for_status()  <span class="comment"># 如果请求成功, 那么没有错误原因的, 所以返回为None.</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>

<h1 id="六-响应头"><a href="#六-响应头" class="headerlink" title="六. 响应头"></a>六. 响应头</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.headers</span><br><span class="line">&#123;<span class="string">&#x27;Cache-Control&#x27;</span>: <span class="string">&#x27;private, no-cache, no-store, proxy-revalidate, no-transform&#x27;</span>, <span class="string">&#x27;Connecti</span></span><br><span class="line"><span class="string">on&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span>, <span class="string">&#x27;Content-Encoding&#x27;</span>: <span class="string">&#x27;gzip&#x27;</span>, <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span>, <span class="string">&#x27;Date&#x27;</span>: <span class="string">&#x27;Mon,</span></span><br><span class="line"><span class="string">03 Aug 2020 09:15:49 GMT&#x27;</span>, <span class="string">&#x27;Last-Modified&#x27;</span>: <span class="string">&#x27;Mon, 23 Jan 2017 13:23:51 GMT&#x27;</span>, <span class="string">&#x27;Pragma&#x27;</span>: <span class="string">&#x27;no</span></span><br><span class="line"><span class="string">-cache&#x27;</span>, <span class="string">&#x27;Server&#x27;</span>: <span class="string">&#x27;bfe/1.0.8.18&#x27;</span>, <span class="string">&#x27;Set-Cookie&#x27;</span>: <span class="string">&#x27;BDORZ=27315; max-age=86400; domain=.baid</span></span><br><span class="line"><span class="string">u.com; path=/&#x27;</span>, <span class="string">&#x27;Transfer-Encoding&#x27;</span>: <span class="string">&#x27;chunked&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.headers.get(<span class="string">&#x27;content-type&#x27;</span>)  <span class="comment"># 此处get的key大小写不敏感</span></span><br><span class="line"><span class="string">&#x27;text/html&#x27;</span></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<h1 id="七-Cookie"><a href="#七-Cookie" class="headerlink" title="七. Cookie"></a>七. Cookie</h1><h2 id="7-1-快速访问cookies"><a href="#7-1-快速访问cookies" class="headerlink" title="7.1 快速访问cookies"></a>7.1 快速访问cookies</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&#x27;http://example.com/some/cookie/setting/url&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(url)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.cookies[<span class="string">&#x27;example_cookie_name&#x27;</span>]</span><br><span class="line"><span class="string">&#x27;example_cookie_value&#x27;</span></span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>

<h2 id="7-2-发送cookies到服务器-使用cookies参数"><a href="#7-2-发送cookies到服务器-使用cookies参数" class="headerlink" title="7.2 发送cookies到服务器, 使用cookies参数"></a>7.2 发送cookies到服务器, 使用cookies参数</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&#x27;http://example.com/some/cookie/setting/url&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(url)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.cookies</span><br><span class="line">&lt;RequestsCookieJar[]&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.cookies.get(<span class="string">&#x27;example_cookie_name&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test_cookies = <span class="built_in">dict</span>(cookes_are=<span class="string">&#x27;working&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(url, cookies=test_cookies)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line"><span class="string">&#x27;...省略几千字...&#x27;</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<h2 id="7-3-Cookies返回对象"><a href="#7-3-Cookies返回对象" class="headerlink" title="7.3 Cookies返回对象"></a>7.3 Cookies返回对象</h2><p>对象为<code>RequestsCookiesJar</code>, 和字典非常相似, 也可以将jar传到cookies参数中</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>jar = requests.cookies.RequestsCookieJar()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>jar.<span class="built_in">set</span>(<span class="string">&#x27;tasty_cookie&#x27;</span>, <span class="string">&#x27;yum&#x27;</span>, domain=<span class="string">&#x27;httpbin.org&#x27;</span>, path=<span class="string">&#x27;/cookies&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>jar.<span class="built_in">set</span>(<span class="string">&#x27;gross_cookie&#x27;</span>, <span class="string">&#x27;blech&#x27;</span>, domain=<span class="string">&#x27;httpbin.org&#x27;</span>, path=<span class="string">&#x27;/elsewhere&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&#x27;http://httpbin.org/cookies&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(url, cookies=jar)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line"><span class="string">&#x27;&#123;&quot;cookies&quot;: &#123;&quot;tasty_cookie&quot;: &quot;yum&quot;&#125;&#125;&#x27;</span></span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>

<h1 id="八-请求超时处理-生产代码必须使用这一参数"><a href="#八-请求超时处理-生产代码必须使用这一参数" class="headerlink" title="八. 请求超时处理(生产代码必须使用这一参数.)"></a>八. 请求超时处理(生产代码必须使用这一参数.)</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 配置超时处理(以下两种方法都可以), 生产代码必须使用这一参数.</span></span><br><span class="line">requests.get(url, timeout=(<span class="number">3</span>, <span class="number">7</span>))</span><br><span class="line">requests.get(url, timeout=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>



<p>set 限制解除 </p>
<p><a href="https://www.csdn.net/"><img src="https://img-home.csdnimg.cn/images/20201124032511.png" alt="CSDN首页"></a></p>
<ul>
<li><a href="https://blog.csdn.net/">博客</a></li>
<li><a href="https://download.csdn.net/">下载</a></li>
<li><a href="https://ask.csdn.net/">问答</a></li>
<li><a href="https://bbs.csdn.net/">社区</a></li>
</ul>
<p>70%</p>
<p> 搜索</p>
<p><a href="https://passport.csdn.net/account/login">登入</a></p>
<h1 id="python-requests-进阶用法"><a href="#python-requests-进阶用法" class="headerlink" title="python requests 进阶用法"></a>python requests 进阶用法</h1><p><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" alt="img"></p>
<p>分类专栏： <a href="https://blog.csdn.net/weixin_39791387/category_7939836.html">python进阶</a> 文章标签： <a href="https://www.csdn.net/tags/MtjaQg4sNDk0LWJsb2cO0O0O.html">python</a> <a href="https://www.csdn.net/tags/MtTaEg0sMTEzMjItYmxvZwO0O0OO0O0O.html">requests</a></p>
<p>版权</p>
<p><a href="https://blog.csdn.net/weixin_39791387/category_7939836.html"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202111031350603.png" alt="img">python进阶</a>专栏收录该内容</p>
<p>56 篇文章2 订阅</p>
<p>订阅专栏</p>
<h3 id="文章目录-1"><a href="#文章目录-1" class="headerlink" title="文章目录"></a>文章目录</h3><ul>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/107769951#__1">一. 会话对象</a></li>
<li><ul>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/107769951#11_2">1.1会话对象可以跨请求保持某些参数,</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/107769951#12__14">1.2 会话可以为请求方法提供缺省数据</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/107769951#13__25">1.3 参数合并</a></li>
<li><a href="https://blog.csdn.net/weixin_39791387/article/details/107769951#14__37">1.4 建议使用的代码方式:上下文管理器</a></li>
</ul>
</li>
</ul>
<h1 id="一-会话对象"><a href="#一-会话对象" class="headerlink" title="一. 会话对象"></a>一. 会话对象</h1><h2 id="1-1会话对象可以跨请求保持某些参数"><a href="#1-1会话对象可以跨请求保持某些参数" class="headerlink" title="1.1会话对象可以跨请求保持某些参数,"></a>1.1会话对象可以跨请求保持某些参数,</h2><p>会话对象具有requests API的所有方法.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> requests</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = requests.Session()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.get(<span class="string">&quot;http://httpbin.org/cookies/set/sessioncookie/123456789&quot;</span>)</span><br><span class="line">&lt;Response [<span class="number">200</span>]&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = s.get(<span class="string">&quot;http://httpbin.org/cookies&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line"><span class="string">&#x27;&#123;\n  &quot;cookies&quot;: &#123;\n    &quot;sessioncookie&quot;: &quot;123456789&quot;\n  &#125;\n&#125;\n&#x27;</span></span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>

<h2 id="1-2-会话可以为请求方法提供缺省数据"><a href="#1-2-会话可以为请求方法提供缺省数据" class="headerlink" title="1.2 会话可以为请求方法提供缺省数据"></a>1.2 会话可以为请求方法提供缺省数据</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = requests.Session()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.auth(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;pass&quot;</span>)</span><br><span class="line">	...因为没有真正验证登录, 所以会报错...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.headers.update(&#123;<span class="string">&quot;x-test&quot;</span>: <span class="string">&quot;true&quot;</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.get(<span class="string">&#x27;http://httpbin.org/headers&#x27;</span>, headers=&#123;<span class="string">&#x27;x-test2&#x27;</span>: <span class="string">&#x27;true&#x27;</span>&#125;)</span><br><span class="line">&lt;Response [<span class="number">200</span>]&gt;</span><br><span class="line"><span class="comment"># 此时x-test 和x-test2 都会被放入请求头中</span></span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>

<h2 id="1-3-参数合并"><a href="#1-3-参数合并" class="headerlink" title="1.3 参数合并"></a>1.3 参数合并</h2><p>传递给请求方法的字典都会与已设置的会话层数据合并. 方法层的参数覆盖会话的参数. 方法级别的参数不会被跨请求保持</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = requests.Session()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = s.get(<span class="string">&#x27;http://httpbin.org/cookies&#x27;</span>, cookies=&#123;<span class="string">&#x27;from-my&#x27;</span>: <span class="string">&#x27;browser&#x27;</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line"><span class="string">&#x27;&#123;\n  &quot;cookies&quot;: &#123;\n    &quot;from-my&quot;: &quot;browser&quot;\n  &#125;\n&#125;\n&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = s.get(<span class="string">&#x27;http://httpbin.org/cookies&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line"><span class="string">&#x27;&#123;\n  &quot;cookies&quot;: &#123;&#125;\n&#125;\n&#x27;</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<h2 id="1-4-建议使用的代码方式-上下文管理器"><a href="#1-4-建议使用的代码方式-上下文管理器" class="headerlink" title="1.4 建议使用的代码方式:上下文管理器"></a>1.4 建议使用的代码方式:上下文管理器</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> requests.Session() <span class="keyword">as</span> s:</span><br><span class="line">    s.get(<span class="string">&#x27;http://httpbin.org/cookies/set/sessioncookie/123456789&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若是在测试环境中, 不知道将来用get post,可以这么写</span></span><br><span class="line"><span class="keyword">with</span> requests.Session() <span class="keyword">as</span> s:</span><br><span class="line">	resp = s.request(method=<span class="string">&quot;get|post&quot;</span>, url=url)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不知道返回值是什么的情况下，可以通过content_type来判断返回值类型</span></span><br><span class="line">content_type = [<span class="string">&quot;application/json&quot;</span>, <span class="string">&quot;application/stream&quot;</span>, <span class="string">&quot;text/explain&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p>未完待续…</p>
<h1 id="python常用"><a href="#python常用" class="headerlink" title="python常用"></a>python常用</h1><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>，多引用类库</span><br><span class="line"><span class="number">2</span>，数据结构位置</span><br><span class="line"><span class="number">3</span>，尽量减少使用<span class="keyword">for</span></span><br><span class="line"><span class="number">4</span>、避免使用全局变量</span><br><span class="line"><span class="number">5</span>、增加列表推导式（List Comprehension）list.apend</span><br><span class="line"><span class="number">6</span>、用xrange()替换range()</span><br><span class="line"><span class="number">7</span>、使用生成器（Generators）生成器以块计算数据。</span><br><span class="line"><span class="number">8</span>、用Join连接字符串串 i</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>set 限制解除 </p>
<h1 id="python笔记——split-函数详解"><a href="#python笔记——split-函数详解" class="headerlink" title="python笔记——split()函数详解"></a>python笔记——split()函数详解</h1><h2 id="一、split"><a href="#一、split" class="headerlink" title="一、split()"></a><strong>一、split()</strong></h2><hr>
<ol>
<li>语法</li>
</ol>
<ul>
<li>str.split(str=””, num=string.count(str))</li>
</ul>
<ol>
<li>参数</li>
</ol>
<ul>
<li>str 分隔符，默认为所有的空字符，包括空格、换行(\n)、制表符(\t)等。</li>
<li>num – 分割次数。默认为 -1, 即分隔所有。</li>
<li>注意：当使用<strong>空格作为分隔符时，对于中间为空的项会自动忽略</strong></li>
</ul>
<ol>
<li>例子</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span> = <span class="string">&quot;Line1-abcdef \nLine2-abc Line4-abcd&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">str</span>.split())</span><br><span class="line">[<span class="string">&#x27;Line1-abcdef&#x27;</span>, <span class="string">&#x27;Line2-abc&#x27;</span>, <span class="string">&#x27;Line4-abcd&#x27;</span>]   <span class="comment">##不仅自动识别了换行符(\n)、还识别了空格（ ）</span></span><br><span class="line"><span class="number">123</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span> = <span class="string">&quot;Line1-abcdef \nLine2-abc Line4-abcd&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(a,b,c) = <span class="built_in">str</span>.split()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(b)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(c)</span><br><span class="line">Line1-abcdef</span><br><span class="line">Line2-abc</span><br><span class="line">Line4-abcd                    <span class="comment">### 如果在知道分割后的个数，可直接赋值</span></span><br><span class="line"><span class="number">12345678</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span>=<span class="string">&quot;hello boy&lt;[www.baidu.com]&gt;byebye&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">str</span>.split(<span class="string">&quot;[&quot;</span>)[<span class="number">1</span>].split(<span class="string">&quot;]&quot;</span>)[<span class="number">0</span>])</span><br><span class="line">www.baidu.com                  <span class="comment">###骚操作，用到的时候回来看下</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<h2 id="二、os-path-split"><a href="#二、os-path-split" class="headerlink" title="二、os.path.split()"></a>二、os.path.split()</h2><hr>
<ol>
<li>语法</li>
</ol>
<ul>
<li>os.path.split(‘PATH’)</li>
</ul>
<ol>
<li>参数</li>
</ol>
<ul>
<li>如果PATH传入的是一个目录和文件名，则输出路径和文件名</li>
<li>如果给出的是一个目录名，则输出路径和为空文件名</li>
</ul>
<ol>
<li>例子</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file_path = <span class="string">&quot;E:\\desktop\\cangjie.avi&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(os.path.split(file_path))</span><br><span class="line">(<span class="string">&#x27;E:\\desktop&#x27;</span>, <span class="string">&#x27;cangjie.avi&#x27;</span>)</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>python安装教程（windows） - 知乎</title>
    <url>/2021/11/10/cl449bvwq0029b4bhespl7bsw/</url>
    <content><![CDATA[<p>首发于<a href="https://www.zhihu.com/column/c_1358813855938912256">高级测试之路</a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110223824046.png" alt="python安装教程（windows）"></p>
<h1 id="python安装教程（windows）"><a href="#python安装教程（windows）" class="headerlink" title="python安装教程（windows）"></a>python安装教程（windows）</h1><p><a href="https://www.zhihu.com/people/li-xue-42-53"><img src="https://pica.zhimg.com/v2-43bb72cfdb7c2b7a11895f2dc4ef3150_xs.jpg?source=172ae18b" alt="杨和光"></a></p>
<p><a href="https://www.zhihu.com/people/li-xue-42-53">杨和光</a></p>
<p><strong>1、下载python（官网和云盘）</strong></p>
<p>A.官网下载</p>
<p>网址：</p>
<p><a href="https://www.python.org/downloads/windows/">Python Releases for Windowswww.python.org/downloads/windows/<img src="https://pic4.zhimg.com/v2-ff06c339780f23112c1cbbbb284158ff_ipico.jpg" alt="img"></a></p>
<p>打开网址，点击Downloads-windows，如图操作：</p>
<p><img src="https://pic2.zhimg.com/80/v2-14b5087331e2c0929e0545db5f84a375_720w.jpg" alt="img"></p>
<p>选择自己需要的版本，点击：</p>
<p><img src="https://pic3.zhimg.com/80/v2-7a9c1b1341082ae4a6cee0094aece69e_720w.jpg" alt="img"></p>
<p>选择适合自己windows的版本，x86-64是64位版本，x86是32位版本：</p>
<p>executable installer 是可执行的安装版本，下载到本地后双击可以直接安装</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/v2-d0926053bb8045c7c1f9af1e23fd0b79_720w.jpg" alt="img"></p>
<p>下载完成后即可安装</p>
<p>B.云盘下载</p>
<p>链接：<a href="https://pan.baidu.com/s/1DV1rAUnr5Q8GmZkOnwgQAQ">https://pan.baidu.com/s/1DV1rAUnr5Q8GmZkOnwgQAQ</a></p>
<p>提取码：drh8</p>
<p><strong>2、安装python</strong></p>
<p>选中自定义安装</p>
<p>勾选中“Add python3.7 to path”,可自动增加环境变量，不需要手动添加</p>
<p><img src="https://pic4.zhimg.com/80/v2-239a5c8f18c9eb2dc0fddfa0048d041b_720w.jpg" alt="img"></p>
<p>直接下一步</p>
<p><img src="https://pic3.zhimg.com/80/v2-8fb460852c76ea38023864667431681a_720w.jpg" alt="img"></p>
<p>修改路径</p>
<p><img src="https://pic3.zhimg.com/80/v2-da958b42f492a246b70cec38603c5396_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-7649d7ea4f88245684fa084fba65620a_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-3c138e8a7ceba8a41be57149f23e57a3_720w.jpg" alt="img"></p>
<p><strong>3、测试安装是否成功</strong></p>
<p>win+R 运行cmd,输入“python”</p>
<p><img src="https://pic2.zhimg.com/80/v2-a45a0ed170503dccffcb5d0972244319_720w.jpg" alt="img"></p>
<p>安装成功后可输入“print”测试，如果打印成功，代表安装成功了哦</p>
<p><img src="https://pic2.zhimg.com/80/v2-2d066f9b4c70ca3e552361bad35e1e69_720w.jpg" alt="img"></p>
<p><strong>恭喜你，安装成功了！</strong></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>redis入门</title>
    <url>/2021/11/13/cl449bvwr002db4bhddf5gfxu/</url>
    <content><![CDATA[<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">方法二：给Redis服务端设置密码</span><br><span class="line">第二种是给Redis Server设置密码，并且客户端配置正确的密码。</span><br><span class="line">可以通过命令行修改密码：</span><br><span class="line"></span><br><span class="line">进入安装目录</span><br><span class="line"><span class="function">D:\<span class="title">MySoftware</span>\<span class="title">DEV</span>\<span class="title">Dev_env</span>\<span class="title">Redis</span>-<span class="title">x64</span>-3.2.100&gt;<span class="title">redis</span>-<span class="title">cli.exe</span></span></span><br><span class="line"><span class="function">修改密码为1</span></span><br><span class="line"><span class="function">127.0.0.1:6379&gt; <span class="title">config</span> <span class="title">set</span> <span class="title">requirepass</span> 1</span></span><br><span class="line"><span class="function"><span class="title">OK</span></span></span><br><span class="line"><span class="function">127.0.0.1:6379&gt; <span class="title">Ctrl</span> + <span class="title">c</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">MySoftware</span>\<span class="title">DEV</span>\<span class="title">Dev_env</span>\<span class="title">Redis</span>-<span class="title">x64</span>-3.2.100&gt;<span class="title">redis</span>-<span class="title">cli.exe</span></span></span><br><span class="line"><span class="function">127.0.0.1:6379&gt; <span class="title">auth</span> 123456#测试错误密码</span></span><br><span class="line"><span class="function">(<span class="title">error</span>) <span class="title">ERR</span> <span class="title">invalid</span> <span class="title">password</span></span></span><br><span class="line"><span class="function">127.0.0.1:6379&gt; <span class="title">auth</span> 1</span></span><br><span class="line"><span class="function"><span class="title">OK</span></span></span><br><span class="line"><span class="function">也可以通过修改配置文件来修改密码，<span class="title">redis.windows.conf</span>配置文件，搜索<span class="title">requirepass</span>，找到注释密码行，去掉注释，设置密码：</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">requirepass</span> <span class="title">tenny</span>     //注意，行前不能有空格</span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<p>修改密码</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211113161411214.png" alt="image-20211113161411214"></p>
<h1 id="Redis下载和安装（Windows系统）"><a href="#Redis下载和安装（Windows系统）" class="headerlink" title="Redis下载和安装（Windows系统）"></a>Redis下载和安装（Windows系统）</h1><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/131Ga535-0.gif" alt="Redis安装"><br>图1：Redis 安装</p>
<p>下载完成后，打开相应的文件夹，您会看到如下图所示的文件目录：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/210913/131G91346-1.gif" alt="redis安装"><br>图2：Window 安装 Redis</p>
<h2 id="创建Redis临时服务"><a href="#创建Redis临时服务" class="headerlink" title="创建Redis临时服务"></a>创建Redis临时服务</h2><h4 id="1-启动服务端程序"><a href="#1-启动服务端程序" class="headerlink" title="1) 启动服务端程序"></a>1) 启动服务端程序</h4><p>如上图所示，双击 </p>
<p>Redis</p>
<p> 服务端启动程序 </p>
<p>redis</p>
<p>-server.exe，您会看到以下界面：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/210913/131G94961-2.png" alt="Redis服务端启动"><br>图3：启动 Redis 服务端程序</p>
<p>上图中显示一些 </p>
<p>Redis</p>
<p> 的相关信息，比如 </p>
<p>Redis</p>
<p> 的版本号以及默认端口号(6379)。注意，为了实现后续操作，请您保持服务端开启状态，否则客户端无法正常工作。 </p>
<h4 id="2-启动客户端程序"><a href="#2-启动客户端程序" class="headerlink" title="2) 启动客户端程序"></a>2) 启动客户端程序</h4><p>启动服务端后，双击客户端启动程序 </p>
<p>redis</p>
<p>-cli.exe，得到如下界面：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/210913/131G93507-3.gif" alt="redis客户端启动"><br>图4：Redis客户端启动</p>
<p>得到如上界面，说明 </p>
<p>Redis</p>
<p> 本地客户端与服务端连接成功。</p>
<h2 id="命令创建Redis服务"><a href="#命令创建Redis服务" class="headerlink" title="命令创建Redis服务"></a>命令创建Redis服务</h2><p>上述方式虽然简单快捷，但是显然不是程序员的操作，下面介绍，通过命令启动 </p>
<p>Redis</p>
<p> 服务端，并将 </p>
<p>Redis</p>
<p> 服务添加到 </p>
<p>Windows</p>
<p> 资源管理器，实现开机后自动启动。</p>
<h4 id="1-注册Redis服务"><a href="#1-注册Redis服务" class="headerlink" title="1) 注册Redis服务"></a>1) 注册Redis服务</h4><p>通过 CMD 命令行工具进入 </p>
<p>Redis</p>
<p> 安装目录，将 </p>
<p>Redis</p>
<p> 服务注册到 </p>
<p>Windows</p>
<p> 服务中，执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-server.exe --service-install redis.windows.conf --loglevel verbose</span><br></pre></td></tr></table></figure>

<p>执行完后，得到以下输出，说明注册成功。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[1868] 07 Jan 15:00:08.223 # Granting read/write access to &#x27;NT AUTHORITY\NetworkService&#x27; on: &quot;D:\Redis-x64-5.0.10&quot; &quot;D:\Redis-x64-5.0.10\&quot;</span><br><span class="line">[1868] 07 Jan 15:00:08.230 # Redis successfully installed as a service.</span><br></pre></td></tr></table></figure>

<h4 id="2-启动Redis服务"><a href="#2-启动Redis服务" class="headerlink" title="2) 启动Redis服务"></a>2) 启动Redis服务</h4><p>执行以下命令启动 </p>
<p>Redis</p>
<p> 服务，命令如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-server --service-start</span><br></pre></td></tr></table></figure>

<p>如下图所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/210913/131G91059-4.gif" alt="redis命令起动"><br>图5：命令启动 Redis 服务</p>
<p>注意：此时 </p>
<p>Redis</p>
<p> 已经被添加到 </p>
<p>Windows</p>
<p> 服务中，因此不会再显示 </p>
<p>Redis</p>
<p> 服务端的相应的信息，如下图所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/210913/131G922W-5.gif" alt="Redis注册Window服务"><br>图6：Windows 服务管理界面</p>
<h4 id="3-启动Redis客户端"><a href="#3-启动Redis客户端" class="headerlink" title="3) 启动Redis客户端"></a>3) 启动Redis客户端</h4><p>在 CMD 命令行输出 </p>
<p>redis</p>
<p>-cli 命令启动客户端，如下所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/210913/131G92131-6.gif" alt="Redis客户端启动"><br>图7：启动 Redis 客户端</p>
<h4 id="4-检查是否连接成功"><a href="#4-检查是否连接成功" class="headerlink" title="4) 检查是否连接成功"></a>4) 检查是否连接成功</h4><p>测试客户端和服务端是否成功连接。输出<code>PING</code>命令，若返回<code>PONG</code>则证明成功连接。如下所示：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/210913/131G940b-7.gif" alt="检查Redis是否成功连接"><br>图8：测试客户端是否连接</p>
<p>通过上面的操作，我们完成了 </p>
<p>Redis</p>
<p> 的安装。当然，您也可以将 </p>
<p>Redis</p>
<p> 加入到环境变量中，如下所示：</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/131G95226-8.gif" alt="环境变量配置"><br>图9：环境变量配置</p>
<p>注意：根据自己的安装路径添加环境变量。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>下面对安装过程中涉及到的命令进行总结，主要包括以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">安装服务：redis-server --service-install</span><br><span class="line">卸载服务：redis-server --service-uninstall</span><br><span class="line">开启服务：redis-server --service-start</span><br><span class="line">停止服务：redis-server --service-stop</span><br><span class="line">服务端启动时重命名：redis-server --service-start --service-name Redis1</span><br></pre></td></tr></table></figure>

<p><img src="C:/Users/HI/AppData/Roaming/Typora/typora-user-images/image-20211122210534669.png" alt="image-20211122210534669"></p>
<h2 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h2><p>今天在启动项目时，用到了Redis缓存数据库，但是却出现了报错信息：ERR Client sent AUTH, but no password is set。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Caused by: io.lettuce.core.RedisCommandExecutionException: ERR Client sent AUTH, but no password is set</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200426140629148.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQwMjYwODQ=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>产生这个问题的原因异常信息里已经说明，就是Redis服务器没有设置密码，但客户端向其发送了AUTH（authentication，身份验证）请求携带着密码，导致报错。既然是没有设置密码导致的报错，那我们就把Redis服务器给设置上密码就好了。一共有2种方式设置密码：</p>
<h2 id="一、命令行方式"><a href="#一、命令行方式" class="headerlink" title="一、命令行方式"></a>一、命令行方式</h2><p>1、先进入Redis服务器</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">C:\<span class="function">Program <span class="title">Files</span> (<span class="params">x86</span>)\Redis-x64-3.2.100&gt;redis-cli.exe</span></span><br><span class="line"><span class="function">1</span></span><br></pre></td></tr></table></figure>

<p>2、查看是否设置了密码</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; auth <span class="number">123456</span></span><br><span class="line">(error) ERR Client sent AUTH, but no password <span class="keyword">is</span> <span class="keyword">set</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p>3、报错，说明没有设置密码，然后再执行配置命令</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; config <span class="keyword">set</span> requirepass root</span><br><span class="line"></span><br><span class="line">OK</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p>4、返回OK后即代表配置成功，这个时候再执行查看密码命令</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">redis <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; AUTH <span class="number">123456</span></span><br><span class="line">Ok</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p>返回OK，就说明已经配置成功了。<br><strong>这种配置方式存在一个很严重的问题，就是当我们将Redis服务器关掉之后，这些配置就会失效，下次再启动服务器，需要重新设置！</strong></p>
<h2 id="二、修改配置文件"><a href="#二、修改配置文件" class="headerlink" title="二、修改配置文件"></a>二、修改配置文件</h2><p>还有一种方式就是一劳永逸的方式，就是直接修改配置文件里的参数。在redis.windows.conf（我的是这个配置文件）或者redis.conf（我看网上有说是这个配置文件的）的配置文件中找到requirepass这个参数，设置参数密码，然后保存配置文件，重启Redis。</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="meta"># requirepass foobared</span></span><br><span class="line">requirepass <span class="number">123456</span> <span class="comment">//123456是设置的密码</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p>本来这种方式非常简单，但是在实际过程中，却遇见了一些问题，那就是配置不生效，明明配置文件里都已经配置了密码，但是还会报错，后来在Redis启动时发现，Redis报错了：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"> Warning: no config file specified, <span class="keyword">using</span> the <span class="literal">default</span> config. </span><br><span class="line"> In order to specify a config file use C:\<span class="function">Program <span class="title">Files</span> (<span class="params">x86</span>)\Redis-x64-3.2.100\redis-server.exe</span></span><br><span class="line"><span class="function"> /path/to/redis.conf</span></span><br><span class="line"><span class="function">123</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2020042614443476.png" alt="在这里插入图片描述"><br>后来查阅之后才知道，<strong>原来Redis启动时需要指定配置文件，否则还会使用默认配置</strong>，而我在Windows里启动.exe应用程序时，还是习惯性的双击应用程序启动，导致Redis一直使用的是默认配置。<br>这样我们就需要在命令行窗口通过命令行的方式来启动并指定配置文件：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">C:\<span class="function">Program <span class="title">Files</span> (<span class="params">x86</span>)\Redis-x64-3.2.100&gt;redis-server.exe redis.windows.conf</span></span><br><span class="line"><span class="function">1</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20200426144822606.png" alt="在这里插入图片描述"><br>这样，我们的Redis服务器的密码就正式配置完成了。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>test</title>
    <url>/2021/11/10/cl449bvws002fb4bhdw6u2jqu/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110040940653.png" alt="image-20211110040940653"></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>图集</tag>
      </tags>
  </entry>
  <entry>
    <title> 批量下载抖音单用户所有无水印视频    </title>
    <url>/2021/10/20/cl449bvwt002ib4bhfy9ucy10/</url>
    <content><![CDATA[<h1 id="5行Python代码实现批量打水印技巧，值得收藏"><a href="#5行Python代码实现批量打水印技巧，值得收藏" class="headerlink" title="5行Python代码实现批量打水印技巧，值得收藏"></a><a href="https://www.cnblogs.com/chengxuyuanaa/p/12877728.html">5行Python代码实现批量打水印技巧，值得收藏</a></h1><p>工作的时候，尤其是自媒体，我们必备水印添加<a href="https://pythondict.com/tag/tools/">工具</a>以保护我们的知识产权，网上有许多的在线 / 下载的水印添加工具，但他们或多或少都存在以下问题：</p>
<ol>
<li>在线<a href="https://pythondict.com/tag/tools/">工具</a>需要上传到对方服务器，信息不安全。</li>
<li>很多<a href="https://pythondict.com/tag/tools/">工具</a>不具备批量处理功能。</li>
<li>很多<a href="https://pythondict.com/tag/tools/">工具</a>自定义的功能太少，如水印透明度，字体等。</li>
<li>操作繁琐。<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1880991-20200512175821075-1753638122.jpg" alt="img"><br><strong>这里还要注意：</strong>光理论是不够的。这里顺便总大家一套2020最新python入门到高级项目实战视频教程，可以去小编的Python交流.裙 ：七衣衣九七七巴而五（数字的谐音)转换下可以找到了，还可以跟老司机交流讨教！</li>
</ol>
<p>现在只要你会使用命令，我们就能教大家怎么使用 <a href="https://pythondict.com/life-intelligent/tools/python-easy-batch-add-watermark/">Python 超级简单地为图片添加水印</a>，而且具备以下特点：</p>
<ol>
<li>支持自定义水印字体。</li>
<li>支持自定义文本内容、颜色。</li>
<li>支持批量处理。</li>
<li>支持设定水印与水印之间的空间。</li>
<li>支持设定水印字体大小。</li>
<li>支持设定透明度。</li>
<li>自己的代码，安全。</li>
</ol>
<p>是不是超棒，已经具备你所需要的所有功能了 ？ 下面进入正题。</p>
<p>我们需要使用的是 2Dou 的开源项目：<br><a href="https://github.com/2Dou/watermarker">github.com/2Dou/watermarker</a><br>非常有用的开源项目，感谢原作者。</p>
<p>有三种方法可以下载这个项目：</p>
<ol>
<li><p>如果你那边的网络可以上 github，你可以进入该页面，点击 clone or download 然后点击 Download Zip.</p>
</li>
<li><p>如果你有下载</p>
<p>git</p>
<p>，可以用 cmd/terminal 进入你想放置的文件夹，输入命令:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/2Dou/watermarker.git.</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p>terminal位置如下：</p>
<img src="D:/MyBackup/%25E7%25BB%25BC%25E5%2590%2588%25E5%25A4%2587%25E4%25BB%25BD/%25E5%25AD%25A6%25E4%25B9%25A0/%25E7%25AC%2594%25E8%25AE%25B0%25E6%259C%25AC/vscode/python%25E5%258E%25BB%25E9%2599%25A4%25E6%25B0%25B4%25E5%258D%25B0-%25E7%25A8%258B%25E5%25BA%258F%25E5%2591%2598%25E7%259A%2584%25E4%25BA%25BA%25E7%2594%259FA.assets/image-20210610110728525.png" alt="image-20210610110728525" style="zoom:33%;" /></li>
<li><p>如果你都没有，则下载本站为你提供的源代码，而且修复了一个 windows 下的字体文件为中文的问题（后面会为大家详细介绍），<a href="https://pythondict.com/wp-content/uploads/2019/08/2019082413105661.zip">点击下载</a></p>
</li>
</ol>
<p>下载解压到你想要放置的任意一个文件夹下。路径中最好不要带中文名，如果你是用前两种方法下载的，而且是 windows 系统用户，注意要把该项目的字体文件名改为英文，而且 marker.py 里也有一个地方需要改动，如下:</p>
<p><a href="https://cdn.learnku.com/uploads/images/202005/07/50651/k66MgBqcTI.png!large"><img src="https://cdn.learnku.com/uploads/images/202005/07/50651/k66MgBqcTI.png!large" alt="img"></a></p>
<p>将 font 文件夹里的 青鸟华光简琥珀.ttf 改为 bird.ttf， 什么名字不重要，重点是不要用中文名，否则 <a href="https://pythondict.com/tag/pillow/">pillow</a> 会无法使用改文件。注意 marker.py 文件里的第十行要改成相应的名字，与 font 文件夹下的字体文件名相对应。</p>
<p>刚刚我们提到了 <a href="https://pythondict.com/tag/pillow/">pillow</a> 这个<a href="https://pythondict.com/tag/%E5%BA%93/">库</a>，这个包的运行需要使用到这个第三方<a href="https://pythondict.com/tag/%E5%BA%93/">库</a>，它是专门用来处理<a href="https://pythondict.com/tag/images/">图像</a>的，打开 CMD/Terminal, 输入以下命令即可安装：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pip install [pillow](https://pythondict.com/tag/pillow/ <span class="string">&quot;pillow&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>安装完毕后，我们就可以试一下了！最普通的例子如下，将你所需要加水印的图片放在该项目的 input 文件夹下，然后在 cmd/Terminal 中进入你存放该项目的文件夹输入以下命令：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python marker.py -f ./<span class="built_in">input</span>/baby.jpg -m python实用宝典</span><br></pre></td></tr></table></figure>

<p>各个参数的含义如下：</p>
<p>-f 文件路径：是你的图片的路径<br>-m 文本内容：是你想要打的水印的内容</p>
<p>其他参数不设置则为默认值，运行完毕后会在 output 文件夹下出现相应的加了水印的图片，效果如下：</p>
<p><a href="https://cdn.learnku.com/uploads/images/202005/07/50651/a7OrVczfvg.jpeg!large"><img src="https://cdn.learnku.com/uploads/images/202005/07/50651/a7OrVczfvg.jpeg!large" alt="img"></a></p>
<p>添加水印</p>
<p>默认水印的颜色是… 屎黄色的？但是没关系，我们可以修改它的颜色，添加 - c 参数即可！（参数默认格式为 #号后加 6 位 16 进制），利用图像工具，我们可以找到你喜欢的颜色的值：</p>
<p><a href="https://cdn.learnku.com/uploads/images/202005/07/50651/AhTK3RDSBQ.jpeg!large"><img src="https://cdn.learnku.com/uploads/images/202005/07/50651/AhTK3RDSBQ.jpeg!large" alt="img"></a></p>
<p>找出颜色</p>
<p>然后我们输入命令：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python marker.py -f ./<span class="built_in">input</span>/baby.jpg -m python实用宝典 -c <span class="comment">#232862</span></span><br></pre></td></tr></table></figure>

<p>看看效果：</p>
<p><a href="https://cdn.learnku.com/uploads/images/202005/07/50651/6TbpwGhpbI.jpeg!large"><img src="https://cdn.learnku.com/uploads/images/202005/07/50651/6TbpwGhpbI.jpeg!large" alt="img"></a></p>
<p>修改颜色</p>
<p>恩！变好看了，但是好像水印的颜色有点深，我们可以修改一下透明度让它变浅一点，默认的透明度为 0.15，可以让这个值变得更小，设定 opacity 参数：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python marker.py -f ./<span class="built_in">input</span>/baby.jpg -m python实用宝典 -c <span class="comment">#232862 --opacity 0.08</span></span><br></pre></td></tr></table></figure>

<p>结果如下：</p>
<p><a href="https://cdn.learnku.com/uploads/images/202005/07/50651/Vd1LFNmqFY.jpeg!large"><img src="https://cdn.learnku.com/uploads/images/202005/07/50651/Vd1LFNmqFY.jpeg!large" alt="img"></a></p>
<p>变更透明</p>
<p>其实还有其他参数可以，我们就不一一展示了，一共有这些参数：</p>
<ol>
<li>-f 参数，指定打水印的文件，如果你想打印整个文件夹，则输入该文件夹路径即可。</li>
<li>-m 参数，指定水印内容。</li>
<li>-o 参数，指定输出水印文件的位置，默认为 output 文件夹。</li>
<li>-c 参数，指定水印的颜色，默认值为 shi.. 啊不，黄色，#8B8B1B.</li>
<li>-s 参数，指定水印与水印之间的空隙，默认值为 75.</li>
<li>-a 参数，指定水印的旋转角度，我们的例子中都是默认值 30 度。</li>
<li>–size 参数，指定水印文本字体大小，默认值为 50。</li>
<li>–opacity 参数，指定透明度，默认为 0.15，数值越小越透明。</li>
</ol>
<p>接下来给大家试试批量处理功能，首先把所有图片放置到项目的 input 文件夹下：</p>
<p><a href="https://cdn.learnku.com/uploads/images/202005/07/50651/tI7opcJmye.jpeg!large"><img src="https://cdn.learnku.com/uploads/images/202005/07/50651/tI7opcJmye.jpeg!large" alt="img"></a></p>
<p>放到 input 下</p>
<p>然后输入命令里，指定文件夹即可！</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python marker.py -f ./<span class="built_in">input</span> -m python实用宝典 -c <span class="comment">#232862 --opacity 0.05</span></span><br></pre></td></tr></table></figure>

<p>你会看到 input 文件夹名后没有 /baby.jpg 了，这表明将 input 文件夹下所有的图片打水印。</p>
<p><a href="https://cdn.learnku.com/uploads/images/202005/07/50651/iJJFyTNGWm.jpeg!large"><img src="https://cdn.learnku.com/uploads/images/202005/07/50651/iJJFyTNGWm.jpeg!large" alt="img"></a></p>
<p>看到文件名 succes 则说明批处理成功！</p>
<p>还有一个隐藏功能！如果你想要修改字体也可以哦！还记得我们前面怎么修复 windows 的中文名问题吗？如图，你只要将新的字体文件放到 font 文件夹下，然后修改 TTF_FONT 变量里的字体名字，与 font 文件夹下的新字体名字相对应即可改成你想要的字体了！</p>
<p><a href="https://cdn.learnku.com/uploads/images/202005/07/50651/k66MgBqcTI.png!large"><img src="https://cdn.learnku.com/uploads/images/202005/07/50651/k66MgBqcTI.png!large" alt="img"></a></p>
<p> 都会了吧？<strong>最后注意：</strong>光理论是不够的。这里顺便总大家一套2020最新python入门到高级项目实战视频教程，可以去小编的Python交流.裙 ：七衣衣九七七巴而五（数字的谐音）转换下可以找到了，还可以跟老司机交流讨教！</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>test2</title>
    <url>/2021/11/10/cl449bvwx002lb4bh6why3msx/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110040418102.png" alt="image-20211110040418102"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211110040256393.png" alt="image-20211110040256393"></p>
<a href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsefqpnyj30k00sgn5x.jpg" data-fancybox="images" data-caption="主人没有描述我哦~"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsefqpnyj30k00sgn5x.jpg" /></a>
<a href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsefdq47j30jy0v6wrf.jpg" data-fancybox="images" data-caption="主人没有描述我哦~"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsefdq47j30jy0v6wrf.jpg" /></a>
<a href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvseeys31j30k00ti468.jpg" data-fancybox="images" data-caption="主人没有描述我哦~"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvseeys31j30k00ti468.jpg" /></a>
<a href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvseer02dj30k010ek26.jpg" data-fancybox="images" data-caption="主人没有描述我哦~"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvseer02dj30k010ek26.jpg" /></a>
<a href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvseeh5g2j30jy0xy12m.jpg" data-fancybox="images" data-caption="主人没有描述我哦~"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvseeh5g2j30jy0xy12m.jpg" /></a>
<a href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsedzgkqj30k00yin5l.jpg" data-fancybox="images" data-caption="主人没有描述我哦~"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsedzgkqj30k00yin5l.jpg" /></a>
<a href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsedoqpoj30jy0skgr1.jpg" data-fancybox="images" data-caption="主人没有描述我哦~"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsedoqpoj30jy0skgr1.jpg" /></a>
<a href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsedib55j30jy0nwahg.jpg" data-fancybox="images" data-caption="主人没有描述我哦~"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsedib55j30jy0nwahg.jpg" /></a>
<a href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsed1favj30hs0vmdix.jpg" data-fancybox="images" data-caption="主人没有描述我哦~"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/sina/006bYVyvly1fzvsed1favj30hs0vmdix.jpg" /></a>

]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>图集</tag>
      </tags>
  </entry>
  <entry>
    <title>  windows Git 中Git bash执行命令之前显示时间  </title>
    <url>/2021/10/21/cl449bvwy002ob4bh5frh79lo/</url>
    <content><![CDATA[<h1 id="windows-Git-中Git-bash执行命令之前显示时间"><a href="#windows-Git-中Git-bash执行命令之前显示时间" class="headerlink" title="windows Git 中Git bash执行命令之前显示时间"></a>windows Git 中Git bash执行命令之前显示时间</h1><p><a href="https://unix.stackexchange.com/questions/252229/ps1-prompt-to-show-elapsed-time">PS1 prompt to show elapsed 显示经过的提示符time 时间</a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110210422966.png" alt="image-20211021042212796"></p>
<p>D:\MySoftware\DEV\VersionCtrl\Git\etc\profile.d\git-prompt.sh</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if test -f /etc/profile.d/git-sdk.sh</span><br><span class="line">then</span><br><span class="line">	TITLEPREFIX=SDK-$&#123;MSYSTEM#MINGW&#125;</span><br><span class="line">else</span><br><span class="line">	TITLEPREFIX=$MSYSTEM</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if test -f ~/.config/git/git-prompt.sh</span><br><span class="line">then</span><br><span class="line">	. ~/.config/git/git-prompt.sh</span><br><span class="line">else</span><br><span class="line">	PS1=&#x27;\[\033]0;$TITLEPREFIX:$PWD\007\]&#x27; # set window title</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;\n&#x27;                 # new line</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;\[\033[32m\]&#x27;       # change to green</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;\u@\h &#x27;             # user@host&lt;space&gt;</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;\[\033[35m\]&#x27;       # change to purple</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;$MSYSTEM &#x27;          # show MSYSTEM</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;\[\033[33m\]&#x27;       # change to brownish yellow</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;\w&#x27;                 # current working directory</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27; \t&#x27;                # time</span><br><span class="line">	if test -z &quot;$WINELOADERNOEXEC&quot;</span><br><span class="line">	then</span><br><span class="line">		GIT_EXEC_PATH=&quot;$(git --exec-path 2&gt;/dev/null)&quot;</span><br><span class="line">		COMPLETION_PATH=&quot;$&#123;GIT_EXEC_PATH%/libexec/git-core&#125;&quot;</span><br><span class="line">		COMPLETION_PATH=&quot;$&#123;COMPLETION_PATH%/lib/git-core&#125;&quot;</span><br><span class="line">		COMPLETION_PATH=&quot;$COMPLETION_PATH/share/git/completion&quot;</span><br><span class="line">		if test -f &quot;$COMPLETION_PATH/git-prompt.sh&quot;</span><br><span class="line">		then</span><br><span class="line">			. &quot;$COMPLETION_PATH/git-completion.bash&quot;</span><br><span class="line">			. &quot;$COMPLETION_PATH/git-prompt.sh&quot;</span><br><span class="line">			PS1=&quot;$PS1&quot;&#x27;\[\033[36m\]&#x27;  # change color to cyan</span><br><span class="line">			PS1=&quot;$PS1&quot;&#x27;`__git_ps1`&#x27;   # bash function</span><br><span class="line">		fi</span><br><span class="line">	fi</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;\[\033[0m\]&#x27;        # change color</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;\n&#x27;                 # new line</span><br><span class="line">	PS1=&quot;$PS1&quot;&#x27;$ &#x27;                 # prompt: always $</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">MSYS2_PS1=&quot;$PS1&quot;               # for detection by MSYS2 SDK&#x27;s bash.basrc</span><br><span class="line"></span><br><span class="line"># Evaluate all user-specific Bash completion scripts (if any)</span><br><span class="line">if test -z &quot;$WINELOADERNOEXEC&quot;</span><br><span class="line">then</span><br><span class="line">	for c in &quot;$HOME&quot;/bash_completion.d/*.bash</span><br><span class="line">	do</span><br><span class="line">		# Handle absence of any scripts (or the folder) gracefully</span><br><span class="line">		test ! -f &quot;$c&quot; ||</span><br><span class="line">		. &quot;$c&quot;</span><br><span class="line">	done</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="How-to-Shorten-Git-Bash-如何缩短-Git-BashPrompt-提示-Windows-视窗"><a href="#How-to-Shorten-Git-Bash-如何缩短-Git-BashPrompt-提示-Windows-视窗" class="headerlink" title="How to Shorten Git Bash 如何缩短 Git BashPrompt 提示 (Windows) (视窗)"></a><a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows">How to Shorten Git Bash 如何缩短 Git BashPrompt 提示 (Windows) (视窗)</a></h1><p><a href="https://stackoverflow.com/questions/ask">Ask Question 问问题</a></p>
<p>Asked 问道 2 years, 7 months ago 2年7个月前</p>
<p>Active 活跃 <a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows?lastactivity">1 year, 6 months ago 一年零六个月前</a></p>
<p>Viewed 观看 8k times 8k 次</p>
<p>17</p>
<p>3</p>
<p>How do I shorten my git bash prompt from something like this</p>
<p>我如何缩短我的 git bash 提示从这样的东西</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Malik@LAPTOP-7R9912OI MINGW64 ~/Desktop/test</span><br><span class="line">$</span><br></pre></td></tr></table></figure>

<p>to something like this</p>
<p>这样的事情</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Malik@test$</span><br></pre></td></tr></table></figure>

<p>I am using git bash on windows with git version 2.21.0 (26-02-2019)</p>
<p>我在 windows 上使用 git bash 和 git 版本2.21.0(26-02-2019)</p>
<p><a href="https://stackoverflow.com/questions/tagged/windows">windows 窗户</a><a href="https://stackoverflow.com/questions/tagged/git-bash">git-bash</a></p>
<p><a href="https://stackoverflow.com/q/54887987">Share 分享</a></p>
<p>Follow 跟着</p>
<p><a href="https://stackoverflow.com/posts/54887987/revisions">edited 编辑Feb 26 ‘19 at 15:01 2月26’1915:01</a></p>
<p><a href="https://stackoverflow.com/users/1773434/govind-parmar"><img src="https://i.stack.imgur.com/9HhFs.png?s=64&g=1" alt="img"></a></p>
<p><a href="https://stackoverflow.com/users/1773434/govind-parmar">Govind Parmar</a></p>
<p><strong>18.7k 18.7 k</strong>66 gold badges 6枚金徽章4949 silver badges 49枚银徽章7979 bronze badges 79枚铜徽章</p>
<p>asked 问Feb 26 ‘19 at 14:41 2月26’1914:41</p>
<p><a href="https://stackoverflow.com/users/10177043/malik-bagwala"><img src="https://lh6.googleusercontent.com/-n0kBNdk4Mq8/AAAAAAAAAAI/AAAAAAAAAGc/uHVRvGWeA1U/photo.jpg?sz=64" alt="img"></a></p>
<p><a href="https://stackoverflow.com/users/10177043/malik-bagwala">malik bagwala</a></p>
<p><strong>1,594</strong>22 gold badges 两枚金徽章1414 silver badges 14枚银质徽章2828 bronze badges 28枚铜徽章</p>
<p><a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows#">Add a comment 添加评论</a></p>
<h2 id="3-Answers-3个答案"><a href="#3-Answers-3个答案" class="headerlink" title="3 Answers 3个答案"></a>3 Answers 3个答案</h2><p><a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows?answertab=active#tab-top">Active 活跃</a><a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows?answertab=oldest#tab-top">Oldest 最老的</a><a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows?answertab=votes#tab-top">Votes 投票</a></p>
<p>22</p>
<p>An alternative answer is to go to <code>C:\Program Files\Git\etc\profile.d</code> and open the <code>git-prompt.sh</code> file. It contains the default configuration/prompt for Git Bash.</p>
<p>另一种方法是进入 c: Program Files Git etc profile.d 并打开 Git-prompt。Sh 文件。它包含 Git Bash 的默认配置/提示。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if test -f /etc/profile.d/git-sdk.sh</span><br><span class="line">then</span><br><span class="line">    TITLEPREFIX=SDK-$&#123;MSYSTEM#MINGW&#125;</span><br><span class="line">else</span><br><span class="line">    TITLEPREFIX=$MSYSTEM</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if test -f ~/.config/git/git-prompt.sh</span><br><span class="line">then</span><br><span class="line">    . ~/.config/git/git-prompt.sh</span><br><span class="line">else</span><br><span class="line">    PS1=&#x27;\[\033]0;$TITLEPREFIX:$PWD\007\]&#x27; # set window title</span><br><span class="line">    PS1=&quot;$PS1&quot;&#x27;\n&#x27;                 # new line</span><br><span class="line">    PS1=&quot;$PS1&quot;&#x27;\[\033[32m\]&#x27;       # change to green</span><br><span class="line">    # PS1=&quot;$PS1&quot;&#x27;\u@\h &#x27;             # user@host&lt;space&gt;</span><br><span class="line">    # PS1=&quot;$PS1&quot;&#x27;\[\033[35m\]&#x27;       # change to purple</span><br><span class="line">    # PS1=&quot;$PS1&quot;&#x27;$MSYSTEM &#x27;          # show MSYSTEM</span><br><span class="line">    # PS1=&quot;$PS1&quot;&#x27;\[\033[33m\]&#x27;       # change to brownish yellow</span><br><span class="line">    PS1=&quot;$PS1&quot;&#x27;\W&#x27;                 # current working directory</span><br><span class="line">    if test -z &quot;$WINELOADERNOEXEC&quot;</span><br><span class="line">    then</span><br><span class="line">        GIT_EXEC_PATH=&quot;$(git --exec-path 2&gt;/dev/null)&quot;</span><br><span class="line">        COMPLETION_PATH=&quot;$&#123;GIT_EXEC_PATH%/libexec/git-core&#125;&quot;</span><br><span class="line">        COMPLETION_PATH=&quot;$&#123;COMPLETION_PATH%/lib/git-core&#125;&quot;</span><br><span class="line">        COMPLETION_PATH=&quot;$COMPLETION_PATH/share/git/completion&quot;</span><br><span class="line">        if test -f &quot;$COMPLETION_PATH/git-prompt.sh&quot;</span><br><span class="line">        then</span><br><span class="line">            . &quot;$COMPLETION_PATH/git-completion.bash&quot;</span><br><span class="line">            . &quot;$COMPLETION_PATH/git-prompt.sh&quot;</span><br><span class="line">            PS1=&quot;$PS1&quot;&#x27;\[\033[36m\]&#x27;  # change color to cyan</span><br><span class="line">            PS1=&quot;$PS1&quot;&#x27;`__git_ps1`&#x27;   # bash function</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br><span class="line">    PS1=&quot;$PS1&quot;&#x27;\[\033[0m\]&#x27;        # change color</span><br><span class="line">    # PS1=&quot;$PS1&quot;&#x27;\n&#x27;                 # new line</span><br><span class="line">    PS1=&quot;$PS1&quot;&#x27; $ &#x27;                 # prompt: always $</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">MSYS2_PS1=&quot;$PS1&quot;               # for detection by MSYS2 SDK&#x27;s bash.basrc</span><br><span class="line"></span><br><span class="line"># Evaluate all user-specific Bash completion scripts (if any)</span><br><span class="line">if test -z &quot;$WINELOADERNOEXEC&quot;</span><br><span class="line">then</span><br><span class="line">    for c in &quot;$HOME&quot;/bash_completion.d/*.bash</span><br><span class="line">    do</span><br><span class="line">        # Handle absence of any scripts (or the folder) gracefully</span><br><span class="line">        test ! -f &quot;$c&quot; ||</span><br><span class="line">        . &quot;$c&quot;</span><br><span class="line">    done</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>In my configuration, I commented out the <code>user@host&lt;space&gt;</code>, the <code>MINGW64</code> and changed the working directory to its basename by changing <code>\w</code> to <code>\W</code>.</p>
<p>在我的配置中，我注释掉了 user@host &lt; space &gt; ，MINGW64，并通过将 w 更改为 w 将工作目录更改为 basename。</p>
<p><a href="https://stackoverflow.com/a/61379148">Share 分享</a></p>
<p>Follow 跟着</p>
<p>answered 回答Apr 23 ‘20 at 4:00 4月23日20时4分</p>
<p><a href="https://stackoverflow.com/users/7321307/krizza"><img src="https://i.stack.imgur.com/L0Vgo.jpg?s=64&g=1" alt="img"></a></p>
<p><a href="https://stackoverflow.com/users/7321307/krizza">Krizza 女名女子名</a></p>
<p><strong>348</strong>33 silver badges 3枚银质徽章77 bronze badges 7枚铜徽章</p>
<ul>
<li><p>7</p>
<p>This works, but be careful: git updates overwrite this file. This file checks for the existence of 这是可行的，但是要小心: git 更新会覆盖这个文件<code>~/.config/git/git-prompt.sh</code> which if exists takes precedence, so you’re better of making your changes there, or directly in 如果存在优先，所以你最好在那里修改，或者直接在<code>~/.bashrc</code>. </p>
<p>– <a href="https://stackoverflow.com/users/928483/willem">Willem 男名男子名</a></p>
<p> <a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows#comment111105146_61379148">Jul 10 ‘20 at 6:56 2010年7月10日6:56</a> </p>
</li>
<li><p>I’m unable to change git- 我不能改变 git-prompt 提示.sh file as the system is complaining that’s readonly file. chmod also isn’t working (permission denied). What I might be missing? .Sh 文件，因为系统正在抱怨这是只读文件。Chmod 也不工作(许可被拒绝)。我可能错过了什么？ </p>
<p>– <a href="https://stackoverflow.com/users/1402720/amit128">Amit128 阿米特128</a></p>
<p> <a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows#comment119140042_61379148">May 5 at 15:26 5月5日15:26</a></p>
</li>
</ul>
<p><a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows#">Add a comment 添加评论</a></p>
<p>17</p>
<p>In Git Bash:</p>
<p>在 Git Bash 中:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd ~</span><br><span class="line">notepad .bashrc</span><br></pre></td></tr></table></figure>

<p>In notepad, add the line <code>PS1=&quot;foobar&gt;&quot;</code> (replace <code>foobar&gt;</code> with whatever text you want)</p>
<p>在 notepad 中，添加行 PS1 = “ foobar &gt;”(将 foobar &gt; 替换为您想要的任何文本)</p>
<p>After saving <code>~/.bashrc</code>, in Git Bash, run the command:</p>
<p>在 Git Bash 中保存 ~/. bashrc 之后，运行以下命令:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>You may find this <a href="http://bashrcgenerator.com/">online <code>.bashrc</code> generator</a> useful to experiment with to find a prompt you like.</p>
<p>你可能会发现这个在线.bashrc 生成器有用的实验，找到一个提示您喜欢。</p>
<p><a href="https://stackoverflow.com/a/54888369">Share 分享</a></p>
<p>Follow 跟着</p>
<p>answered 回答Feb 26 ‘19 at 14:59 2月26’1914:59</p>
<p><a href="https://stackoverflow.com/users/1773434/govind-parmar"><img src="https://i.stack.imgur.com/9HhFs.png?s=64&g=1" alt="img"></a></p>
<p><a href="https://stackoverflow.com/users/1773434/govind-parmar">Govind Parmar</a></p>
<p><strong>18.7k 18.7 k</strong>66 gold badges 6枚金徽章4949 silver badges 49枚银徽章7979 bronze badges 79枚铜徽章</p>
<ul>
<li><p>after the command notepad .bashrc i get a message ‘would you like to create a .bashrc file’ and it opens a blank file 在命令记事本后面。我收到一条消息，你想创建一个。然后打开一个空白文件 </p>
<p>– <a href="https://stackoverflow.com/users/10177043/malik-bagwala">malik bagwala</a></p>
<p> <a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows#comment96548634_54888369">Feb 26 ‘19 at 16:15 2月26’1916:15</a></p>
</li>
<li><p>1</p>
<p>@malikbagwala Then say “Yes” to that @ malikbagwala 那就答应吧 </p>
<p>– <a href="https://stackoverflow.com/users/1773434/govind-parmar">Govind Parmar</a></p>
<p> <a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows#comment96548639_54888369">Feb 26 ‘19 at 16:15 2月26’1916:15</a></p>
</li>
</ul>
<p><a href="https://stackoverflow.com/questions/54887987/how-to-shorten-git-bash-prompt-windows#">Add a comment 添加评论</a></p>
<p>-5</p>
<p>The:</p>
<p>返回文章页面</p>
<blockquote>
<p>LAPTOP-7R9912OI MINGW6</p>
</blockquote>
<p>is the name of your PC.</p>
<p>是你电脑的名称。</p>
<p>Search in setting</p>
<p>在设置中搜索</p>
<blockquote>
<p>‘about your PC’</p>
<p>关于你的电脑</p>
</blockquote>
<p>and look for</p>
<p>然后寻找</p>
<blockquote>
<p>rename</p>
<p>重新命名</p>
</blockquote>
<p>There you can rename your pc and it should change the username in git-bash</p>
<p>在那里你可以重命名你的电脑，它应该改变在 git-bash 的用户名</p>
<p><a href="https://stackoverflow.com/a/54888266">Share 分享</a></p>
<p>Follow 跟着</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>win永久激活数字证书+启动盘制作</title>
    <url>/2021/11/11/cl449bvwz002sb4bh2o4r291u/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/2.png" alt="2"></p>
<p>下载HWIDGen_v61.01_CHS.exe</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Win+R 输入：</span><br><span class="line"></span><br><span class="line">slmgr.vbs -dlv 显示：最为详尽的激活信息，包括：激活ID、安装ID、激活截止日期</span><br><span class="line"></span><br><span class="line">slmgr.vbs -dli 显示：操作系统版本、部分产品密钥、许可证状态</span><br><span class="line"></span><br><span class="line">slmgr.vbs -xpr 显示：是否永久激活</span><br><span class="line"></span><br><span class="line">注意：可能部分国产杀毒软件会报毒，请关闭杀毒再使用此工具激活系统，否则可能会激活 Windows <span class="number">10</span> 失败。</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1.png" alt="1"></p>
<h1 id="WinSetupFromUSB制作多系统U盘引导启动"><a href="#WinSetupFromUSB制作多系统U盘引导启动" class="headerlink" title="WinSetupFromUSB制作多系统U盘引导启动"></a>WinSetupFromUSB制作多系统U盘引导启动</h1><p><em><strong>*2016年06月06日 17:29:14*</strong></em> <a href="https://me.csdn.net/qq_20480611"><em><strong>*epsilon1*</strong></em></a> <em><strong>*阅读数 18591*</strong></em> </p>
<p><em><strong>*版权声明：本文为博主原创文章，未经博主允许不得转载。 <a href="https://blog.csdn.net/qq_20480611/article/details/51597018/">https://blog.csdn.net/qq_20480611/article/details/51597018\</a>*</strong></em> </p>
<p><em><strong>*重装系统有各种方式，比较常见的有做系统引导U盘、刻录PE、硬盘一键安装等。但是有很多缺点，国内大部分用的Ghost系统，内含各种捆绑软件，系统极其不安全、稳定，另外制作U盘启动也只能做一个系统的安装盘，如果想换个系统还要另外刻录，费时费力。*</strong></em></p>
<p>0x00 简介</p>
<p><em><strong>*WinSetupFromUSB是一款制作从usb磁盘(u盘和移动硬盘)启动安装操作系统的强大工具，支持各种windows、pe、linux操作系统。Windows纯净镜像请在*</strong></em><a href="http://www.itellyou.cn/"><em><strong>*MSDN我告诉你*</strong></em></a><em><strong>*下载。各种Linux镜像请在各自官网下载。（所有镜像都是ISO文件）*</strong></em></p>
<p>0x01 软件下载</p>
<p><em><strong>*请访问官网下载最新版本*</strong></em><a href="http://www.winsetupfromusb.com/downloads/"><em><strong>*http://www.winsetupfromusb.com*</strong></em></a></p>
<p>0x02 操作步骤</p>
<p><em><strong>*准备好一个大容量U盘（资料请备份好），容量越大越好，因为这个软件的优势就是可以写入多个系统并引导启动，打开软件，请按照如下截图勾选，请参照说明。*</strong></em> <em><strong>*<br>*</strong></em><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF51C.tmp.jpg" alt="img"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">windows镜像选--&gt; msdn中的择 初始发行 版本，可以直接写入，不要选择update版本</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211111164757165.png" alt="image-20211111164757165"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">***\*步骤说明：\**** ***\*</span><br><span class="line">\*******\*<span class="number">1</span>、第一次使用需要勾选格式化U盘（之后使用就不需要了）\**** ***\--&gt; 之后可以直接增加写入各版本或系统镜像</span><br><span class="line">\*******\*<span class="number">2</span>、格式化选择FAT32，如果系统镜像大于<span class="number">4</span>G\*******\*请选择NTFS\**** ***\*</span><br><span class="line">\*******\*<span class="number">3</span>、勾选对应系统类型\**** ***\*</span><br><span class="line">\*******\*<span class="number">4</span>、选择系统镜像\**** ***\*</span><br><span class="line">\*******\*<span class="number">5</span>、点击开始格式化并写入镜像到U盘\****</span><br></pre></td></tr></table></figure>



<p><em><strong>*必要说明：*</strong></em> <em><strong>*<br>*</strong></em><em><strong>*1、首次使用需要格式化，之后请不要勾选Auto Format*</strong></em> <em><strong>*<br>*</strong></em><em><strong>*2、可以多次使用，意味着多个相同类型系统需要分多次操作*</strong></em></p>
<p>0x03 删除引导记录</p>
<p><em><strong>*如果系统镜像出现问题无法引导或者想删除多余的引导项，可以在官网找到完整的操作过程：*</strong></em><a href="http://www.winsetupfromusb.com/faq/"><em><strong>*http://www.winsetupfromusb.com/faq/*</strong></em></a> <em><strong>*，这里做简要描述：*</strong></em> <em><strong>*<br>*</strong></em><em><strong>*1、Windows 7 及以上版本：*</strong></em> <em><strong>*<br>*</strong></em><em><strong>*删除/WINSETUP/下面对应的系统目录，然后使用工具BOOTICE编辑/boot/bcd和/efi/microsoft/boot/bcd 删除不需要的引导记录。*</strong></em> <em><strong>*<br>*</strong></em><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF52D.tmp.jpg" alt="img"><em><strong>*<br>*</strong></em><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF52E.tmp.jpg" alt="img"><em><strong>*<br>*</strong></em><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF52F.tmp.jpg" alt="img"></p>
<p><em><strong>*2、Linux：*</strong></em> <em><strong>*<br>*</strong></em><em><strong>*删除/ISO下面的对应文件，然后使用文本工具编辑根目录下的menu.lst文件，将下面的代码删除：（首行title 后面是镜像名称）*</strong></em> <em><strong>*<br>*</strong></em><img src="C:/Users/HI/AppData/Local/Temp/ksohtml/wpsF530.tmp.jpg" alt="img"></p>
<p>0x04 手动添加纪录</p>
<p><em><strong>*1、Windows：*</strong></em> <em><strong>*<br>*</strong></em><em><strong>*目前我还不知道如何添加Windows的引导记录*</strong></em></p>
<p><em><strong>*2、Linux：*</strong></em> <em><strong>*<br>*</strong></em><em><strong>*如上所述，既然我们可以通过修改文本文件删除Linux引导，那么同样可以反过来添加引导。只需要按照格式复制一份引导记录即可，注意修改其中的镜像名称，然后把对应镜像复制到ISO目录下。*</strong></em></p>
<p>0x05 模拟测试</p>
<p><em><strong>*启动镜像刻录完成后就可以测试了，如果都用真机未免费时，这里先用自带的Qemu测试引导记录是否存在：*</strong></em> <em><strong>*<br>*</strong></em><em><strong>*选择FBinstTool，然后点击Qemu测试：*</strong></em> <em><strong>*<br>*</strong></em><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF531.tmp.jpg" alt="img"><em><strong>*<br>*</strong></em><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF532.tmp.jpg" alt="img"></p>
<p>0x06 注意事项</p>
<p><em><strong>*1、上面提到刻录多个同类型系统需要分开多次操作，但是我在制作过程中发现第二次竟然无法写入，Google说系统语言改成English就可以了。*</strong></em> <em><strong>*<br>*</strong></em><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF533.tmp.jpg" alt="img"></p>
<p><em><strong>*2、低版本可能会谜一样的出现找不到MBR的问题：*</strong></em> <em><strong>*<br>*</strong></em><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF534.tmp.jpg" alt="img"><em><strong>*<br>*</strong></em><em><strong>*真是把我坑惨了！知道为了刻录那么多系统我重新格式化了多少遍吗！每次刻录Windows都显示这个问题，Google都找不到解决方法，然后我果断去官网，发现已经更新到1.6版本了，于是用最新的就好了。*</strong></em></p>
<h2 id="VMware-Workstation-虚拟机使用无线wifi上网配置"><a href="#VMware-Workstation-虚拟机使用无线wifi上网配置" class="headerlink" title="*VMware Workstation 虚拟机使用无线wifi上网配置*"></a><a href="https://www.cnblogs.com/hbtmwangjin/p/9129035.html"><em><strong>*VMware Workstation 虚拟机使用无线wifi上网配置*</strong></em></a></h2><p><em><strong>*参考文档：*</strong></em> <a href="https://blog.csdn.net/isiah_zhou/article/details/51169416"><em><strong>*转载/VMware Workstation环境下的Linux网络设置/适用于无线网络*</strong></em></a></p>
<p>　　<em><strong>*VMware Workstation 在嵌入式开发中经常会遇到，但是显示大多数人使用开发环境是Win10 + 无线网卡，针对这种情况，需要配置虚拟机的上网环境使用的是NAT模式，将配置过程进行描述：*</strong></em></p>
<p><em><strong>*1. 打开Win10网络配置，操作如下：*</strong></em></p>
<p><img src="C:/Users/HI/AppData/Local/Temp/ksohtml/wpsF535.tmp.jpg" alt="img">    <img src="C:/Users/HI/AppData/Local/Temp/ksohtml/wpsF536.tmp.jpg" alt="img"></p>
<p><em><strong>*2. 在虚拟机菜单中进行配置，选择编辑-&gt;虚拟网络编辑器 ,按照以下方法进行配置：*</strong></em></p>
<p><img src="C:/Users/HI/AppData/Local/Temp/ksohtml/wpsF537.tmp.jpg" alt="img"> </p>
<p><img src="C:/Users/HI/AppData/Local/Temp/ksohtml/wpsF538.tmp.jpg" alt="img"> </p>
<p><em><strong>*3. 设置Linux系统的网络适配器，使用NAT模式，如下操作：*</strong></em></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF539.tmp.jpg" alt="img"> </p>
<p><em><strong>*4. 进入linux 系统中进行配置，点击系统-&gt;网络设置，并进行如下设置：*</strong></em></p>
<p><img src="C:/Users/HI/AppData/Local/Temp/ksohtml/wpsF53A.tmp.jpg" alt="img"> </p>
<p><em><strong>*5. 重启Linux系统，完成配置过程；*</strong></em></p>
<p> <em><strong>*单文件*</strong></em></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/wpsF53B.tmp.jpg" alt="img"></td>
</tr>
</tbody></table>
<p><em><strong>*B*</strong></em><em><strong>*ios设置*</strong></em></p>
<p><em><strong>*启用功能*</strong></em></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td><img src="C:/Users/HI/AppData/Local/Temp/ksohtml/wpsF53C.tmp.jpg" alt="img"></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>    使用bat命令打开cmd，并打开某目录-并执行命令1+并执行命令2+并执行命令3··· </title>
    <url>/2021/09/30/cl449bvx0002vb4bhcvysgi41/</url>
    <content><![CDATA[<h1 id="bat脚本输出日志到文件只保留异常在cmd窗口"><a href="#bat脚本输出日志到文件只保留异常在cmd窗口" class="headerlink" title="bat脚本输出日志到文件只保留异常在cmd窗口"></a>bat脚本输出日志到文件只保留异常在cmd窗口</h1><p>我们在使用bat进行压测的时候往往不仅需要看自己打印log，还需要在cmd看相应的报错，而我们自己打印的log往往又会覆盖掉cmd上出现的报错，这时候可以使用命令：</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cmd</span>窗口打开bat所在的目录</span><br><span class="line">--&gt;如下执行，可以把屏幕打印到文件</span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">D:\<span class="title">MySoftware</span>\云盘\阿里云盘\阿里云盘同步\<span class="title">sync</span>-<span class="title">alidisk</span>\<span class="title">config</span>&gt; 启动阿里云盘.<span class="title">bat</span> &gt;&gt;<span class="title">sync</span>-<span class="title">alidisk</span>-<span class="title">log.txt</span></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<h1 id="bat打开cmd指向某个目录，并执行命令"><a href="#bat打开cmd指向某个目录，并执行命令" class="headerlink" title="bat打开cmd指向某个目录，并执行命令"></a>bat打开cmd指向某个目录，并执行命令</h1><p>樱花博客+环境变量快捷备份</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> OFF</span><br><span class="line"><span class="comment">rem 注意1：命令之间只需要一个&amp;符号</span></span><br><span class="line"><span class="comment">rem 注意2：cmd /k &quot;cd /d </span></span><br><span class="line"><span class="built_in">cmd</span> /k &quot;<span class="built_in">cd</span> /d F:\本地 &amp; hexo s &amp; hexo cl &amp; hexo d&quot;</span><br></pre></td></tr></table></figure>

<p>下面的不行，仅供参考</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cmd</span> /k &quot;<span class="built_in">cd</span> /d  F:\jm\tms-web&amp;&amp;npm run build-prod&amp;&amp;<span class="built_in">xcopy</span> F:\jm\tms-web\dist\*  D:\nginx-<span class="number">1</span>.<span class="number">21</span>.<span class="number">3</span>\html\jm\ /Y /E /I /Q&quot;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>五分钟做出炫酷视频片头特效</title>
    <url>/2019/12/30/cl449bvx2002yb4bhb78601wm/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>首先感谢UP主<a href="https://space.bilibili.com/439306192">Poiesis</a>分享的网站，这次给大家推荐<a href="https://panzoid.com/">panzoid.com</a>是一个可以在线生成媲美AE特效片头片尾的网站。</p>
<h2 id="食用方式"><a href="#食用方式" class="headerlink" title="食用方式"></a>食用方式</h2><p>打开网站，点击Creations：<br><img src="https://cdn.jsdelivr.net/gh/honjun/ImageHosting/picgo/20191230183216.png"><br>挑选喜欢的特效模版：<br><img src="https://cdn.jsdelivr.net/gh/honjun/ImageHosting/picgo/20191230183443.png"><br>打开模版：<br><img src="https://cdn.jsdelivr.net/gh/honjun/ImageHosting/picgo/20191230183649.png"><br>点击objects按钮，并修改你需要的logo和标语：<br><img src="https://cdn.jsdelivr.net/gh/honjun/ImageHosting/picgo/20191230183751.png"><br>修改好后点击download下载按钮，再点击Start video render开始渲染视频。<br><img src="https://cdn.jsdelivr.net/gh/honjun/ImageHosting/picgo/20191230185230.png"><br>渲染完成后点击Download your video下载视频<br><img src="https://cdn.jsdelivr.net/gh/honjun/ImageHosting/picgo/20191230185555.png"><br>完成！</p>
<h2 id="视频教程"><a href="#视频教程" class="headerlink" title="视频教程"></a>视频教程</h2><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=81306678&page=" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div>]]></content>
      <categories>
        <category>资源</category>
      </categories>
      <tags>
        <tag>设计</tag>
        <tag>资源</tag>
      </tags>
  </entry>
  <entry>
    <title>windows vbs启动多个应用程序并使程序最小化（显示桌面）</title>
    <url>/2021/11/10/cl449bvx30030b4bh1upb6t9z/</url>
    <content><![CDATA[<h2 id="转载须注明原作者及出处！"><a href="#转载须注明原作者及出处！" class="headerlink" title="转载须注明原作者及出处！"></a>转载须注明原作者及出处！</h2><h2 id="此类文章发布地址变更至：https-www-jianshu-com-u-45a4c4696c9a"><a href="#此类文章发布地址变更至：https-www-jianshu-com-u-45a4c4696c9a" class="headerlink" title="此类文章发布地址变更至：https://www.jianshu.com/u/45a4c4696c9a"></a>此类文章发布地址变更至：<a href="https://www.jianshu.com/u/45a4c4696c9a">https://www.jianshu.com/u/45a4c4696c9a</a></h2><h2 id="windows-vbs启动多个应用程序并使程序最小化（显示桌面）"><a href="#windows-vbs启动多个应用程序并使程序最小化（显示桌面）" class="headerlink" title="windows vbs启动多个应用程序并使程序最小化（显示桌面）"></a>windows vbs启动多个应用程序并使程序最小化（显示桌面）</h2><h2 id="Created-by-Marydon-on-2018-07-26-11-27"><a href="#Created-by-Marydon-on-2018-07-26-11-27" class="headerlink" title="Created by Marydon on 2018-07-26 11:27"></a>Created by Marydon on 2018-07-26 11:27</h2><h3 id="1-应用场景"><a href="#1-应用场景" class="headerlink" title="1.应用场景"></a>1.应用场景</h3><p>　　每天开机后，都需要打开平常所需要的软件，又不想将程序设为开机启动，能不能开机后，同时启动多个程序呢？</p>
<h3 id="2-代码实现"><a href="#2-代码实现" class="headerlink" title="2.代码实现"></a>2.代码实现</h3><p>　　第一步：新建一个文本文件</p>
<p>　　桌面–&gt;右键–&gt;新建–&gt;文本文档–&gt;双击打开</p>
<p>　　第二步：编辑命令</p>
<p>　　语法：</p>
<p>　　Dim shell<br>　　Set shell = CreateObject(“WScript.Shell”)</p>
<p>　　shell.Run “””你的应用程序的绝对路径”””</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Dim shell</span><br><span class="line">Set shell = CreateObject(&quot;WScript.Shell&quot;)</span><br><span class="line">&#x27;1.启动qq</span><br><span class="line">shell.Run &quot;&quot;&quot;E:\TIM-x86\Bin\TIM.exe&quot;&quot;&quot;</span><br><span class="line">&#x27;2.启动chrome</span><br><span class="line">shell.Run &quot;&quot;&quot;E:\ChromePortable-65-PE\App\Google Chrome\chrome.exe&quot;&quot;&quot;</span><br><span class="line">&#x27;3.启动eclipse</span><br><span class="line">shell.Run &quot;&quot;&quot;D:\eclipse-2018-x86\eclipse.exe&quot;&quot;&quot;</span><br><span class="line">&#x27;4.启动notepad++</span><br><span class="line">shell.Run &quot;&quot;&quot;D:\Notepad++-7.3-PE\notepad++.exe&quot;&quot;&quot;</span><br><span class="line">&#x27;5.显示桌面</span><br><span class="line">Set shell = CreateObject(&quot;Shell.Application&quot;)</span><br><span class="line">shell.ToggleDesktop</span><br><span class="line">&#x27;6.将变量置空 这一步可以不要</span><br><span class="line">Set shell = Nothing</span><br></pre></td></tr></table></figure>

<p>　　说明：虽然vbs有最小化的命令，但是效果不明显，因此，第5，6步相当于没有起作用，可以忽略。</p>
<p>　　第三步：文件–&gt;另存为–&gt;vbs文件</p>
<p><img src="https://images2018.cnblogs.com/blog/1120344/201807/1120344-20180726112331250-1242816454.png" alt="img">　　</p>
<p>　　第四步：删除刚才新建的txt文件</p>
<p>　　以后直接双击运行即可</p>
<h1 id="出现错误对话框-Windows-Script-Host"><a href="#出现错误对话框-Windows-Script-Host" class="headerlink" title="出现错误对话框 Windows Script Host"></a>出现错误对话框 Windows Script Host</h1><p>开机就会弹出错误对话框：</p>
<p>Windows Script Host</p>
<p>脚本 C:\Users\a\AppData\Local\SystemService.vbs</p>
<p>行 3</p>
<p>字符 1</p>
<p>错误 系统找不到指定的文件</p>
<p>代码 80070002</p>
<p>源 （null）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">您好！</span><br><span class="line"></span><br><span class="line">感谢您联系微软技术支持。</span><br><span class="line"></span><br><span class="line">我了解到您使用系统出现的问题。</span><br><span class="line"></span><br><span class="line">请问您使用的操作系统的具体版本，查看方法：设置-系统-关于。</span><br><span class="line"></span><br><span class="line">请您尝试以下的方法：</span><br><span class="line"></span><br><span class="line">1、保持联网状态，在Cortana搜索框输入windows powershell，鼠标右击windows powershell以管理员运行，复制粘贴以下命令运行：</span><br><span class="line"></span><br><span class="line">DISM.exe /Online /Cleanup-image /Scanhealth</span><br><span class="line">DISM.exe /Online /Cleanup-image /Checkhealth</span><br><span class="line">DISM.exe /Online /Cleanup-image /Restorehealth</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>vbs</tag>
      </tags>
  </entry>
  <entry>
    <title> 张至顺真人讲解《炁體源流》    </title>
    <url>/2021/09/25/cl449bvx50035b4bh7aq5bctf/</url>
    <content><![CDATA[<h1 id="张至顺真人讲解《炁體源流》｜天篇｜正式版"><a href="#张至顺真人讲解《炁體源流》｜天篇｜正式版" class="headerlink" title="张至顺真人讲解《炁體源流》｜天篇｜正式版"></a>张至顺真人讲解《炁體源流》｜天篇｜正式版</h1><p><img src="https://mmbiz.qpic.cn/mmbiz/cZV2hRpuAPiaJQXWGyC9wrUzIicibgXayrgibTYarT3A1yzttbtaO0JlV21wMqroGYT3QtPq2C7HMYsvicSB2p7dTBg/640?tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<blockquote>
<p><strong>张真人：</strong>你回去好好地多看书，就是看这个《炁體源流》这一本书。先看《清静经》注解第二十三章，然后看《太乙金华宗旨》。把这一本书看清楚，就是你们打坐的一条（路上）指路的明灯，永远不会走错路，也就跟大海的行船样的，大海的一盏灯嘛。千万要记住，这个光，就是大海的那一盏灯。啊，就是那大海的一盏灯，会能给你们照清楚（前进的方向）。</p>
</blockquote>
<blockquote>
<p><strong><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ0GAKnFc0KocVcGnTP7kyvIjicjibh1PClB63rpTicD11g8gibGNhf4oO982TmXVgbzGzfhU8f01LpnrQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></strong></p>
<p>**<br>**</p>
</blockquote>
<blockquote>
<p><strong><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ3NxKxsEdsfWCN6r4dfiaYuJmBzFQBl9VmgpmzU29nFdXFzkltc13TXPZYHMiaslYZaTKPDIP2y0thA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></strong></p>
</blockquote>
<blockquote>
</blockquote>
<p>炁體源流｜自序</p>
<blockquote>
<p>余自十七岁于华县半截山碧云庵参入道门，就志学道，参生死之变，习长生之术。尝于北京白云观藏经楼偶得《太清元道真经》一部，直指生死，长生久视，至道不烦也，指示修道本体，安静和柔，不移自性，常守虚无，湛然不劳，乃得自然之道也。</p>
<p>道祖为万法之王，玄之又玄，真空妙有，妙有真空，即是先天一点真阳之光。</p>
<p>以道心观天心，真阳发动处，当用之时，元神、元炁，同称谓玄。元炁谓玄，元神谓玄又玄。静者为性，动为元神。</p>
<p>燃灯佛，两目之光也，住西天极乐国雷音寺。道祖，住真空无极真境静土之天。</p>
<p>余常对门下弟子言：儒释道三家，同是一母生，何须争上下。一母者乃先天一点灵火之光，性也。</p>
<p>佛曰众生平等，道谓至善之地、性命之源、造化之理也。</p>
<p>邱祖曰：“人生先生两目，死先死两目。”</p>
<p>又曰：“一目之中，元精、元炁、元神，皆在内也。”</p>
<p>《素问》曰：“人之一身精华上注于目”，学者思之，慎之，慎之。</p>
<p>住眼于心神，二目之光，乃是元神真意之体，即真性也。千佛万祖皆不肯说破此光真性，今泄天机难免天遣。</p>
<p>作偈一首：</p>
<p>巽风吹到水面上，海底常送无油灯。</p>
<p>千言万语难说尽，一字道破定南针。</p>
<p>余云游四海，收集道书，皆佛道二祖玄妙秘密天机，生死之根本，辑录成册，望同道侣友藉此省却数十年参访功夫，早日证果。</p>
<p>“炁”化三清，“体”能载道，“源”乃先天道统，“流”为老君法脉，故曰《炁體源流》。</p>
<p>余略言几句粗浅，权作非道之道，不道之处尚冀仁人志道多多指教，是为序。</p>
<p>全真龙门派第二十一代  张至顺『号米晶子』</p>
<p>丁亥三月初三日书</p>
<p>自序终</p>
</blockquote>
<p>张真人讲解炁體源流｜天篇｜文字版</p>
<blockquote>
<p><strong>黄剑：</strong>也就是三年前，三年前差不多这个时间，我记得是11年的最后几天了，有一个特殊的机缘让我见到了张道长，在海南玉蟾宫见到师父，然后这个缘分就这么开始了。</p>
<p>当时刚好老道长自己身体不舒服，不小心喝了一杯放了好几天的蜂蜜，喝完以后身体不舒服了，然后上吐下泻，他想完蛋了，我这一身的功夫没有传出去，我如果就这样子走掉的话，我对不起祖师爷。然后这时候刚好有一个傻乎乎的记者，这个，冒冒失失地闯进了他的生活，然后就开始了一段，这个我都其实觉得很不可思议的一个故事。</p>
<p>当时呢老道长就有一个心愿，他觉得他要把他自己这么几十年、大几十年修行的心法、感悟、从《道藏》里面学到的那些宝贵的东西，他要把他这本书，他自己用几十年的时间写了一本、手抄了一本，他读到最好的经书、最经典的东西，跟他的修行有感应的，他都把它抄下来。</p>
<p>然后这个小册子、手抄本，用毛笔一笔一划地抄下来的一个册子，他很希望能够集结成册传出去，让更多真正在实修的人、在修行的人、或者对道家很有兴趣的人，他们能够有一本很好的一个借鉴和引导的书，所以呢，这就是老道长的第一个心愿，要把《炁體源流》这本书出版出来，让世人都能够看得到。我们有几个师兄，广东的一些师兄，海南的一些师兄，包括是李辛，尤其是李辛夫妇和一刀师兄，他们用一年半的时间，终于把这本《炁體源流》的书给整理出来。</p>
<p>老道长还有一个心愿，就是他觉得，除了修行外，最重要的是人活着要健康。最好的办法呢，是每天有，除了有一颗很安宁的心、宁静的心，还有每天最好多做一些运动，尤其是像一些道家秘传的八部金刚的功法，传给大家。所以呢，我们也在这一次，也把八部金刚的书，也刚刚好是明天是首发。</p>
<p>还有一本他自己平时，这么几十年行医总结和收集到的一些偏方、验方的书，《米晶子济世良方》，明天也会一起拿出来跟大家分享。所以很巧，这个好像三年时间把这个心愿给了了，师父，三本书出来，这个三年大家的任务都完成的不错吧。我想，我想知道一下，今天这个从全国各地，飞广州的，来到这边的朋友有多少？师父，他们都不是广州，都是从外地来的朋友，专门来听您的课。有坚持练八部金刚的有哪一些？练八部金刚的？他们都在练，你看看，传播的还是很广泛的。平时有打坐修行的有哪一些？都在学习打坐。所以今天你有很多东西要告诉他们，所以我的废话少说，我们请老师父。</p>
<p>今天我们还很感激除了师父的一些弟子以外呢，还有很多这个聚友会的朋友，还有一些全国各地的朋友，今天请一刀师兄做一些板书。因为师父讲的话呢，可能有一些地方的方言，不是太容易听懂。好，师父，轮到你了。</p>
<p><strong>张真人：</strong>我们这个，那么从全国各地方来的一些朋友们，反正我们就说一些同学们、好道的道友们，我们都是中国人啊，要记住。道教是我们，道家是中国最古老的一个文化的古国（中国是四大文明古国之一，道教是我国土生土长的宗教）。我们道家现在，反正最近来说嘛，大家远地方来的，辛辛苦苦地，千里万里来的，为了什么？大家都来要听我跟大家来说，究竟我有没有经验，反正总的来说，大家都辛苦了。我们要感谢大家，在这里，我希望大家身体健康、长寿，谢谢大家。</p>
<p>拐回来再说嘛，我要在这个会上讲什么，要必须要达到大家的要求。我是一个中国人，那么既然是个中国人，要爱我们的祖国，要爱我们的人民，爱教，爱党。没有中国共产党，没有今天的幸福，你们要注重这个，是不是？当然，这么几十年来，也有出些偏差，在前进的道路上，他必然要有些偏差，终究我们中国共产党为了人民，为了人民的幸福，才有了今天。我们年老（老年）人的话，每一个月还有生活补助，坐车坐什么东西，有了老年证的话什么都不要，这就是我们的幸福。</p>
<p>我们今天要讲，大家就是，就是讲这一本书。这一本书我准备了80年了，把一些《道藏》，一些中医东西都看作必要的东西，我才选在这个上边。这个上边，经过他们几个文化人整顿（整理）了一年半，才整顿（整理）出来的。这是第一个，《炁體源流》。我先把这个《炁體源流》四个字（讲一下）。那么，上边两个字最后说，那么“源”是上清派，“流”是老子派，“源”是发源，海源嘛，它比海要大得多。</p>
<p>那么，我们现在都有考察世界的一个同志，在社会上跑了10个月，才把我们地球转过来。那么，这个地球有多大？这是有限制的。那么，这个“源”，大小，不知道，没有限制。那么我们大家都知道有三山五岳。三山，就是蓬莱山(蓬壶)、丈方山(方丈山、方壶)、瀛洲山(瀛壶)，这三座山，每一座山要超过一个地球还要大，那你要知道这个“源”，这个海源有多大。那么我们的地球有限制，他们去考察地球时候他望（地球）外边水，根本没有边，无边无岸，是那个源。</p>
<p>那么，“炁”、“體”，那么大家看过《阴符经》，那是黄帝《阴符经》，黄帝《阴符经》在早，《阴符经》是从神上开始，从神上开始转入炁，它从阴转阳。《道德经》是从道，是从炁上开始，是阳转阴。他讲道，不离阴阳，一阴一阳谓之道嘛，大家都知道。</p>
<p>那么这个“炁”、“體”，我们大家都知道，老君爷一炁化三清，是从炁上开始的。“炁”、“體”，炁不离體，體不离炁。“炁”、“體”谁也不能离开谁，这是一个“炁”。你看那个“炁”，你慢慢地看那个“炁”，把那个，那是，实际上那是一个，也是个“九”，炁九嘛。</p>
<p>今天上午有的人讲，七返九还嘛。七不离九，九不离七，七去九回。那么把那一个字去掉，上面就还一点，搁那一点是个“无”，现在是简单的（简体的）一个“无”。那么上边一点，下边四点，你看一看，下边四点，上边一点，那是五炁朝元的东西。那么中国，我们国家的国旗，你看一看，五星红旗是不是像这个字？像那个五个点点，这是很清楚的。</p>
<p>那么这一个“體”，这半边是个骨头的骨，这半边是个豊节的“豊”。那么你看看那个“骨”，那么是中间一个“山”，上边一个太阳，下边一个月亮，那个“山”下边是月亮，“山”上边那是个太阳，还没有离开“山”。那一半边，离开“山”了，一半边，上半边离开“山”了，下半边没有离开“山”。这是“山”上一离开的话，“山”上有太阳，“山”下有月亮。正当午时，那么太阳在上，那么月亮在下。等半夜子时，那么月亮在上，太阳在下。它是昼夜循环，这就是一阴一阳。</p>
<p>那么这个“骨”，当然这个骨头的“骨”字，要是写到这个里头的“豊”字上边，那都看不见了。实际上这个骨头的“骨”话，你再慢慢地看看，上边是个“曲”，那么那个豊节的那个“豊”，上边是个“曲”，那个“曲”上下看，里头有三个“日”，三日二目，你慢慢地看。</p>
<p>这么上下看，是三个日头，那么横着看，上边一个“目”，下边一个“目”，三日二目，那都是五行的东西。那么中间有两个主人，两个“王”，那么有“王”就有“土”。那么八卦就在这一个里头，完全都加到里头了，一点都不错。那么下边是个“豆”，是不是？那个“豆”字上边有一道，下边有个“口”，下边有两点一横。那么两点一横，你看看像不像那个“道”字，两点一横，放到下边了。</p>
<p>那么“道”，那就是一阴一阳，那就是下边那个太极，那是后天的东西。那么中间那个“口”，就是无极，那个就是无极。那实际上把上边一道，下边一道，把那边一个“口”拿走，那是个离卦。上面一道，下边两点，下边又一道，那就是离卦，那个坎离嘛，那么坎离就在那里头的。那实际上那上边，那个大圈圈，是一个“田”，一个“田”包括两个田，一个国家包括两个国家，这是很简单的东西。</p>
<p>要说单讲这个东西，我记得25年以前，在南岳，七个省里那个气功大师，来了40多个人。那么第一个要讲出神，他出阳神了嘛。那么大家叫我去讲，我根本没有准备，那个意思就是，一来试试我有没有东西，二来是给我办难看。到讲课的时候了，还丢下五分钟。那么到上面我随便讲，就是拿“炁體”。“炁”我不讲，我光讲那一个“體”字。讲一个“體”字讲了三个小时，还光讲这个字，还不讲道。我们这个中国这个文化字，哪一个字都包括大道，没有道不成字，这是很简单的东西。</p>
<p>那么我刚才就说哩，这上边这个，这个五个炁，这个中间是一个“天”，那么这个“天”是怎么来的呢？我们朝这一站，是个“人”，这都不假嘛。我们把两个手一张开，就是个“大”，我们人朝这一站是个“人”，这么一张开就是个“大”，这个一点都不错。</p>
<p>那么我在江西龙虎山，我去不知道，这么往舞台上一走，又没有准备，随便就讲一个“火”。为什么我今天还要讲“火”？那么那个写一个“人”，“人”字两边点两点，是个“火”，是不？我为什么要肯讲那个“火”？“火”是自动的，“水”是被动的。那么，这个“火”里头有“人”，那么先有“人”吗，先有“火”？这个大家要分辨这个。</p>
<p>那么这个“人”在哪里？这个“火”在哪里？这个“人”字上边两点就是“火”。大家知道这个，为什么我要讲那个“火”？那么五行里头，金木水火土嘛，五行嘛，是不是？那么金木是两边、左右。天地，上边为天，下边为地。上边为离卦，下边为坎卦，左右这是后天的。那么水火相对，金木相对，那么土在中间，万物不离土嘛。但我们修大道、炼功，始终不要离开“土”，离不开“土”。今天上午我就说“能舍万两金，不舍一寸土。”这是最重要的。</p>
</blockquote>
<blockquote>
<p><a href="https://mp.weixin.qq.com/s?__biz=MzI1ODUxNjA0MA==&mid=2247485435&idx=1&sn=67ad4b16ca654d46bdde574140e983f5&chksm=ea07b2dcdd703bca818bbb77991ea16305fed8eaf177341b9225962eb2ae347a349d9fa87165&scene=21#wechat_redirect"><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ3vgJmNeQOb6IBGYtsibTE7rUSeetqT12pXvpiceKtUQwqeibb2UxkgWkkhAp2NYza2akwt58oLCWIJQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></a></p>
</blockquote>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><blockquote>
<p><a href="https://mp.weixin.qq.com/s?__biz=MzI1ODUxNjA0MA==&mid=2247485435&idx=1&sn=67ad4b16ca654d46bdde574140e983f5&chksm=ea07b2dcdd703bca818bbb77991ea16305fed8eaf177341b9225962eb2ae347a349d9fa87165&scene=21#wechat_redirect"><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ029WYy8t7d9h6dCsR7Nkk6AaNCUzyTIgfBRFE4tIw2zFJfGJrfb7IRSg21emibaa2OT2ib9xS4Cj3g/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></a></p>
</blockquote>
<h4 id="-2"><a href="#-2" class="headerlink" title=""></a></h4><h4 id="-3"><a href="#-3" class="headerlink" title=""></a></h4><blockquote>
<p><strong>张真人：</strong>我们今天时间不多，那么千里万里来到这儿来了，时间太少了，要是三两句讲清楚，是很不容易的。我只有跟大家（说），只要你好道，只要你把这一本书拿上，你慢慢地看，我先给你指挥看哪儿，看这一本书，《清净经》注解，看第二十三章，二十三章是“河图洛书”。</p>
<p>河图生，洛图死，先从生死上，下功夫。我刚才讲那个“火”，就是这个道理。我们生，人生，就从火里生；我们死，还是从火里死。从哪里来，从哪里去；从哪里生，从哪里死。那么这个事情，可以我跟大家说明。</p>
<p>那么这个“人”在哪里？过去有一句话“指鼻为我，你把我怎么样？你把我怎么样？”我是谁呀？指的就是我这个人。还有些人骂人说“你把老子怎么样？”指着鼻子，“你把老子怎么样？”这一句话，真真实实说出来实话了。那么老子就在这里头哩（鼻子）。那么老君，他属土，真土真意。生我们的时候，就先生这一点。大家都知道我们这个胎衣，有些人都守脐轮。守这个脐轮，我们是守脐轮，而不是守这个脐轮。</p>
<p>我们人生有三个母亲，大家知道有没有三个母亲？第一个母亲是谁，第二个母亲是谁，第三个母亲又是谁？生我的这个母亲，那么如果我这个脐轮跟我这个母亲脐轮连吗？不会连。如果我们把这个脐轮剪断，是不是把我母亲的脐轮剪断了呢？没有。是我们这个母亲，是生我这个母亲。生我哪一个？不是我这个后體，是生我先天那个母亲，那个母亲跟我这个脐轮连着哩。为什么我要说这？我先指挥大家知道这个。</p>
<p>好多人讲胎息，有些人讲胎息，哎呀，讲得很好。我们来看的话，太远了，越讲越远。为什么呢？实际上，天有五阳，地有五阴，那么阴阳两个五，合到一块儿，十大天地。十大天地合作起来以后，先生外衣。那么六祖慧能说过，那么“人生如同活牛剥皮，人死如同滚油浇心。”那么人生的时候，就像那个牛活着把皮扒掉了。</p>
<p>那么知道这个，才是生我们的母亲，先生这一个，然后先生两点。先生了两点，五官长全以后，下来以后，先结肾脏，肾脏就像一个藕，开一朵莲花，往上去。那么那个莲花就是心，心似莲花嘛，那么莲花一开开以后，它往上直接顶住天地。</p>
<p>另外一个大家看过《西游记》，那么孙悟空为什么叫“火眼金睛”？“火”、“眼”是一个事，“金”、“睛”又是一回事。火眼金睛，金属天，在“天”的那个金位上，站着哩，火眼嘛。那么我们刚才就说的这个“火”，这个“火”里头就有两个眼睛。先生那两个眼睛。</p>
<p>那么这个《炁體源流》，那么第三章“太极”，无极生皇极，皇极生太极，你把太极那个图看一看，那画得最清楚。</p>
<p>那么今天大家远地方来了，只要好道的同志，道友们都在，也辛苦。我今天已经说实话了。那么我十七岁出家，一直地到现在。那么七岁我就要出家，因为我们那儿唱小戏，唱那个板噹噹道情（地方戏曲剧种），唱的《韩湘子出家》。那么韩湘子是七岁，那么我也七岁了，他能出家，我不能出家？是不是？十二岁偷偷跑一回，被我父母找了一回。</p>
<p>后来跑了三四天了，才跑了四十多里路。还是我父亲的朋友知道了，在路上拉马车，把我送回来。最后咧到十七岁，真正地遇到师父，才正式的出家。那么出家就没有什么研究，就是直接，师父直接指挥着我。先指挥着我“八部金刚”，那时候一身病，练了还不到两个月，病完全好了。</p>
<p>大家刚才就说，我们这个“八部金刚”。现在“八部金刚”，就最近还不到两年，才一年多，好了17个癌症。那癌症，国家治不好的病，17个癌症都好了。但老年，三十年里，二十多年里（痼疾），好了就有一百多了，那就是这么一个“八部金刚”。那么明天要把这个《八部金刚》和这个《济世良方》（拿出来）。</p>
<p>我这个《济世良方》，现在我还有四个单方，四个单方，他们买两个，要给我三百万。三百万，不允许我拿这两个方子在中国治病。我说你别说三百万，三千万我也不要，我要你的钱做什么用？我有这个良方，能在全国要治好多少病？人家治不好，我用这几个方子，是绝对能好。那也不能说百分之百，是不是？能60%、70%那就很好了嘛。</p>
<p>因为他们给我介绍了几个病是癌症。第一次介绍六个，我治好三个。开头一治好，还不到二十天，把一个死了，还不到四十天，把两个死了，我说我不治了。那么政府就说，死了与你无关，都是他们介绍的。最后咧到了一年多，好了三个。最后一个，在两年以后才死的。最后咧国家又介绍了七个，我治好四个。一共13个癌症，我治好了七个，那还超过半数了。</p>
<p>因为我们要学这么一个东西，大家今天见面，也都要感谢这个黄剑同志，都要感谢他。为什么呢？我见了他以后，他把我详细的情况问一问，我跟他说一说，这么大家才见面了，才见面了，才有了今天吧。（鼓掌）</p>
<p>为什么要感谢他，还要感谢李辛啊，孙浩啊，还有徒弟们，他们准备了一年半，才把这个书准备出来。我准备了80来年嘛，没文化嘛，可是在这个中间哪有讲错的地方，请大家原谅，因为我没读过书，没文化，反正我就是按照我心里知道的（说），不知道的不说。毛主席有一句话：“不经过实践论，不经过调查了解，没有发言权。”</p>
<p>这是一个真理，你没有经过实践，都是拿这个书，靠着这个字。但我在哪讲课，没有底稿。为什么？不会写。大家提出来什么，咱们就讲什么。我知道了，我就回答。我不知道怎么办？我再回去把老师问一问，把老先祖问一问，这一句话在哪里，什么意思，跟大家再说。</p>
<p>刚才我讲了一个“火”字，大家要注意这个。这个人你到了慢慢地看一看，天上有五斗，有五星，地下有五岳，我们人身上有五官。“天有日月，人有二目。”这是书上肯说这个话。“天有三光日月星，地有三光水火风，人有三光精气神”，一点都不错。</p>
<p>我们先说那个“神”。好多人打坐，我问了十个、二十个、三十个，还是一样，都是这样子说。实际上我们看见，心里同情。为什么？我们明看着错了，你在这个会上，你敢说谁呀？你说谁错，谁起来马上就打你，是不是？社会上有真的就有假的，那么有一个高就有个低，那是肯定的，有黑的就有白的。这是避免不了的。那么有个真道，就有个假的。我们大道，我们道家有三千六百旁门，佛家有八万四千旁门，是吧，有你就有他嘛，这是必然的话。</p>
<p>我们今天看一看，这么多的炼功的人，为什么这么多的病，啥道理？我在海南，每一个月都要去一个两个，一个两个都找我，都是打坐炼功炼出来的毛病。死不得死，活不得活，可怜人。那么你去问老师教给你的什么功？那你可以问他，叫他给你治啊，他本人也治不了。因为炼功（炼）出来的毛病，神仙也难治。我经过（见过）好几个。我们主要先说出来这一个。什么问题？就是这个“火”。</p>
<p>那么你这么一看，一撇为“人”，这么一撇为阳，这么一捺为阴，我们这个“人”就在这里。那么“人”字两边点两点，就这两点，这不是“火”嘛？我们生，先生这个，先生这两点，实际上这两点不是一起生的。第一个月前七天生左眼，生左眼瞳人，生里头那个小仁。那么第六个月，第六个月从17到24，这个八天属少阴；那么第一个月前七天属少阳；九天属老阳；那么到24，这个八天属于少阴；那么到25、26、27、28、29、30，六天属老阴。</p>
<p>他这个少阴、老阴是在背后；少阳、老阳在前。后六个月才生右眼瞳人。这个要知道这个。人生，先生左眼瞳人，那么后生右眼瞳人。死，先死眼睛。眼睛一看不着，你不要治了，眼睛一看不着，多则三天，少者一天，再少点一两个小时。死，先死两个眼睛；生，先生两个眼睛。大家记住这个。</p>
<p>那么最近我们就先跟大家讲什么？先讲二十三章“河图洛书”。那么，大家没拿书的话，就不说了。拿着书，你把《炁體源流》，把那个二十三章找着。刚才我说的，我跟大家提出来，最要紧的，生，先从这儿生；死，先从这儿死。我们就从生死这个地方下功夫。</p>
<p><a href="https://mp.weixin.qq.com/s?__biz=MzI1ODUxNjA0MA==&mid=2247485435&idx=1&sn=67ad4b16ca654d46bdde574140e983f5&chksm=ea07b2dcdd703bca818bbb77991ea16305fed8eaf177341b9225962eb2ae347a349d9fa87165&scene=21#wechat_redirect"><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ1icO4UU1TtpTgRRdpOvGrRa5OyJ6x2oV1W9TED7l5APMI8Ftafte6hskrakUMgCpdiaicJic8EdWYedw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></a></p>
<p>那么这个第二十三章，它是“河图洛书”。大家有书的话就拿出来，没有书的话，你就听我讲。这个是，河图生，洛书死。上面那个圈圈里头，那么它这个一点点，点错了。那么，1对9是个10，3对7是个10，中间有个5个白圈圈，对外边那个10个黑圈圈。</p>
<p>它这是中间是戊，外边那个黑圈圈属己，戊属阳，己属阴。那个己，就是一个守家的一个狗，守家的一个犬。那么四个口，上边两个口，中间一个犬，下边两个口，那就是那个“器”。大器晚成，这个“器”就是包括五脏，就是真正的大道。那个犬，就是个狗。那么黑眼仁里头外边，还有一个黄圈圈，它就是那个黄圈圈，那个黄圈圈属己土，我们外边这个眼皮属戊土，戊土在外，己土在内，它打个颠倒了。</p>
<p>那么这个下边这个《洛书》，它是斜着，南北东西为四正，东南、西北、东北、西南这是四隅。四隅属阴，四正属阳。每一个生数它都有阴阳，我们现在离开阴阳没话说，一阴一阳谓之道嘛。</p>
<p>它这上边第一句话，这也是《清静经》注解的最后了。那么“生死品”第二十三，“便遭浊辱，流浪生死，常沉苦海，永失真道。”那么这一共是四句，十六个字。他就写，这一个字一讲。“便者、是定要也。”必定的，我们一定要这个。“遭者、逢临也。”碰见了，碰上了。“浊者、下贱也。辱者、欺凌也。”受辱，受欺凌了。</p>
<p>这一句话就很难说。那么为什么受欺凌呢？我见过，那么自己的父母残废，㞎尿不接，那么自己的儿女为什么不伺候？为什么要雇个保姆？那么这个保姆是不是有钱的人？那么这个保姆擦尿、喂饭，受不受这个欺凌？你考虑考虑。所以，这个穷人受欺凌，就是这个道理。</p>
<p>“便遭浊辱者，是言人生在世，贪心不了，名利恩爱之中。”那么人大部分那么贪心，尤其是我们这个修道人，要扫除一切贪妄。既然有贪心，必然要除去。那么“种种波浪，但失陷处，必受五浊之辱也。”那么有钱的费脑筋，办工厂，也要费心血；没有钱的人，在家的话，出去打工啊，弄啥啊，也是黑明昼夜劳累，也要受苦。这就是脑力有劲，能养活千口万口；肩担有劲，只能养活三口五口，五口人都养活不了。人家脑筋有劲，人家一办个大工厂，养活几千人，上万人，这是人家脑筋有力。</p>
<p>那么我们这个修大道，也是这样子，但跟社会上不同。社会上要用心用力，我们修道不需要，大道不需要用心用力。原因在哪里？那么邱祖爷的大徒弟李道纯，他提过这个问题，“用心用力枉大功，不用心力道自成。”你考虑考虑。</p>
<p>有好多人打坐，我问得太多了，一打坐舌顶上颚，心意守丹田，用呼用息，这样子，那样子，对不对哩？我也说对，因为啥？因为我不敢说不对，是吧？不对，人多了就要起来辩问你，是不是？“善者不辨。”那么就是老子的《道德经》最后一章，“知者不博，博者不知。善者不辩，辩者不善。信言不美，美言不信。”</p>
<p>说的好得很，不可信，那个真正能相信的人，他没有多余的话，你看我的对了，你就要，不对了，不要。那么我也是这样子，你看着我说得对，那你就照着听；不对，你就这个耳朵听，那个耳朵出。反正我也不能说全部对，不过是一个问题。</p>
<p>道家，杀盗淫妄酒，是三百六十五大戒，前五戒，戒杀、戒盗、戒淫、戒妄、戒酒。不能打妄语，一个出家人不能说妄话。只要你跟我说一回妄话，一回可以，第二回我还能容忍，等到第三回你再跟我说，你说一百个实信，我一个都不信，因为你前两遍你把我欺骗了嘛。所以这个人说话，要给话作主，你能说，就要做。既然说出来不做，言行不一致，人家说，说话言行一致嘛，我的言语怎么说，我的行动跟我的言语要一致，这才是人。嘴里这样子说，行动另外一个样子，那就这种人不可相信。因为他说话不作主，这是一个重要的问题。</p>
<p>“流者、沉下也。浪者、事叠也。生者、河图也。死者、洛书也。”那么“流浪生死者，言人在世，迷于酒色财气。不知生从何来，死从何去。夫生仙生人之道者，河图而已矣。人生之初，秉父母之元气。”大家刚才我就说的那嘛，人生之初，秉受父母的阴阳之元气，而结一颗明珠。那么受父母的双方十大元气，才结这一颗明珠。</p>
<p>这一颗明珠，刚才我就给你说了，那就是左眼的眼仁，结这一颗明珠。好多人，那么到子时来了，都是捏住鼻子往上吸。是吸，怎么吸啊？我也吸过。那么把这个东西，那么子时一到，那么捏住鼻子往上吸，吸不上去是你的福，如果你吸上去了，那你这个病就不好治了。因为我吸上去了，最后咧先化黄水，从鼻子往外流，最后了化的黄脓，那个臭气难闻的很。但我会治病，我自己那么改了一年多才改过来。</p>
<p>那么吸不是用这个鼻子吸，也不是用舌顶上腭，用什么？就用这一颗珠。“一粒火珠入海底，炼干了四海的大水。”就这一颗，如同一颗豆子那么大的一颗小珠，那么入到海底，烧的龙王躲都躲不及，把四海的大水全部炼干，是用它来吸。那很简单，大家我们也要讲这个东西。千万你们不要用鼻子捏住再吸。你吸上去的话，你有了病，谁也治不好。因为我受过这种磨难，受过这种灾害。</p>
<p>是用那一颗宝珠，那个宝珠是谁啊？前面我们也说了，守观世音。“静守观世音，倒卷黄河上昆仑。”那你只要在那一静，万法归于静嘛。那么你一动，从哪儿来的？动从静中来的。那么清，是从浊中起来的。那么你动，是从我这个静中，那你只要在这儿一静，静不了一个小时，马上天气自动。</p>
<p>它一动，你就用你的静，在那个地方静，一静，那一颗宝珠就像神光，就像你们现在照相的相机，你往那一照，把一切的东西都往上吸收到你这里头来了。你洗出来那个相片，你拿火一烧，里头有血，你们都不注意这个。那么只要一照，把你的身上那个最高等的能量，全部吸过来了。你是不知道这个东西，有些人要照相，我一般的不让他照。你照的相多了，把你身上的东西全部吸走了。你不相信吗？</p>
<p>那么它这就说这了么。那么上边这个，“结一颗灵明宝珠，名曰无极。”那一颗珠子，就是无极，别说无极，无极在天地以前。那么“得父母之精血，名曰太极。”得父母的精血，才生后天的五脏。那是，先天的五行生无极，后天的五脏生太极。太极属于后天。在上，大家知道这么？天一生壬水。大家都知道这个十天干吗？甲乙丙丁戊己庚辛壬癸，十个字。甲属阳，乙属阴。甲生乾卦，乙生坤卦。那么二木生火，生丙丁。南方火，那么丙火属阳，丁火属阴。</p>
<p>丙火生艮卦，丁火生兑卦。那么二火生中央戊己土。那么土不生四象，不生八卦，它包括四象，它这个土分四季，它分四位，丑土、辰土、未土，亥土，它是分这四个土，包括四季，它能掌握这个四大天的真气，它把这四大天的真气能团结在一起，归回中央。它是这个戊，它不生卦。那么戊土生二土，生庚辛。土能生金嘛，生到西方庚辛金，土生金嘛。那么庚生震卦，那么辛生巽卦。那么二金生水，生北方壬癸水，那么这个壬水属阳，癸水属阴。壬属白虎，癸属青龙。</p>
<p>壬生南方离卦，南方离卦是壬，那么癸水生北方坎卦。那么壬癸和坎离两个对起来。大家都记着看书，坎离不是心或肾，这个你掌握住，坎离不是心肾。坎离就是，天地让位，坎离当家。大家记住看书，以后不要把离卦当心，坎离不是心肾。这是吕祖爷说的，也不是我说的。</p>
<p>那么“天一生壬水。在上生左眼瞳人。”这就跟我说的那个“火”，是一样。在上，先生左眼瞳人，在下而生膀胱，膀胱属六腑，膀胱属肾脏的阳经。脏属阴，腑属阳。那么“地二生丁火，那么天一生左眼瞳人。”那就你先把天地掌握住。那么“地二生丁火，在上生右眼眼角。”右边的眼睛眼角，属火。</p>
<p>那么，天一生水，地二生火，那么水火既济嘛。有水就有火，你记住，那么左眼眼仁属水，右眼眼角属火，水火两个东西。为什么先讲这一卦？先叫你知道天在哪里，地在哪里。天是左眼，左边，地是右边。以后你看书弄啥的，你不要天在上边，地在下边。</p>
<p>那么“地二生丁火，在上生右眼眼角，在下生心脏。”在下边生心脏，反正左边属阳，右边属阴。凡是属阳，都在左眼这边。属阴，都在右眼。那么“天三生甲木。在上生左眼黑球。”左眼的大黑球，生左眼黑球。“在下生胆”，那么胆也属阳。那么“地四生辛金。辛金属阴。在上生右眼白球。在下生肺。”这就是地所生的。那么白眼球属肺。那么把眼睛里头的东西你先掌握清楚。</p>
<p>“天五戊土”，天的第五，属于戊土。“在上生左眼眼皮”，在上边生左边那个眼的那个外眼皮，包括五行在内的。“在下生胃”，胃属腑，腑属阳，脾属阴。那么地六看见了吗？“地六属癸水。在上生右眼瞳人。在下生肾。”在下生两肾，这就是五脏五行的话，很清楚。</p>
<p>“天七成丙火”，那么地二是丁火，天七是丙火，在上生左眼眼角，在下而生小肠。小肠也是心的那个，心属脏，小肠属腑。“地八成乙木。在上生右眼黑球。”“在下生肝”，在下的时候是生肝，肝属阴。“天九成庚金。在上生左眼白球”，这么才生出来左边眼睛的那个白球，“在下生大肠”。“地十成己土。在上生右眼眼皮。在下则生脾脏。”这就是五脏里头的生克变化。</p>
<p>凡是脏都在右眼，凡是腑都在左眼。那么天在左边，地在右边。为什么我要先讲这个？那么在这个眼睛里头，包括了有五脏。那么天是从内往外生，那么地是从外往内生，这么一内一外，一里一表。那么这个图，你慢慢地细看，这个图比这个书上讲的还明白，你把图看清楚，那你修大道一点问题都没有。</p>
<p>“以全周身三百六十五骨节。八万四千毫毛孔窍。莫不由河图而生。生凡如此。生圣也如此。夫人死之由洛书。”人死从洛书上找，原因在哪呢？为什么年老人眼睛花，耳朵聋，牙落，头发白？为什么现在老人都得高血压？那个高血压是普通的东西，每一个人都到老年的话，都要有高血压、糖尿病。那么你吃药的话，你只要吃西药，从今天开始你一直吃到老死为止，那么你一天不吃血压又高了。</p>
<p>那为什么这个八部金刚会能治高血压、糖尿病？那么你考虑考虑。因为这八个动脉，那么最要紧的就是那一道冲脉。冲脉和带脉。背后有督脉，前面有任脉，中间是一道冲脉，上下直冲。冲脉和带脉相连，带脉在这一周围。那么，上边有阴维脉、阳维脉，下边有阴跷脉、阳跷脉，有督脉、任脉，一共八个脉络。那么八个脉络内炼，内炼可以成仙得道，可以超脱了死；那么外炼，可以健康祛病，延年长寿。也就这一点个东西。</p>
<p>那么这个八个动脉，张紫阳研究的八脉，那么白玉蟾把这八个脉络又加到外边，外边加了八个动作，八个动作就代表人身上八个脉络。那么你不管哪儿有病，你把这个八个脉络八个气结凝结在一起，你跟病打，只要在你身上的病，把它一定能打出去。那打出去很明显，有时候你没有病，好像没有病，你一练，哎呀，这个病就起来了，那你就继续打，你不要停。我们用药也是这样子。</p>
<p>所以我们在下边，这个洛书。洛书的意思，大家都知道五行相克，顺者为生，逆者为死，那么从中央土，去克北方水，那么北方受害。在天上有五星，在地下有五方。那就北方受害，北方有灾。那么水去克南方火，是南方有灾，心上有病，那是一定的。这个东西也可以说，也没有啥意思。那么五行相克，那么五脏五行都要受亏，那么身上一受亏，那你必然有病。那么有病，好了，你还能治一治；不好的话，那就没办法治。因为炼功出来的病，医生没办法下手。</p>
<p>那么这个底下就是说，那么最后的，有两句诗，我们就看看是谁作的，题了四句词。那么第一个是薛道光，薛道光人家是南三祖，和尚薛道光。张紫阳访道，访了三十年了，最后咧他碰见北五祖，第四祖刘海蟾，把这个道才传给张紫阳。那么直到白玉蟾，十三岁就出外访道，访到四十三岁，访了三十年。他有两句诗，在哪么，南方那个玉蟾宫，那几句诗里头看着很悲惨，因为钱也没有了，到处也受困难。</p>
<p>他这个薛道光，这个几句诗是这样子题的，<strong>“苦劝人修不肯修，常沉苦海为何由。百年富贵电光灼，”</strong>活一百年就如同那个电光一样。这个电光，还明一下子黑一会儿，有一个人就说如同石中之火，那火的光焰就像那个石头，那么一碰，啪，就那么一点点光，那比电光还快，如同电光灼。<strong>“口气不来万事休。”</strong>一口气不来，什么都没有了。</p>
<p>那么翠虚真人也提出来了，<strong>“老君清净度人经，指出身中日月星。生死死生由自主，佛仙仙佛在心灵。”</strong>人的生死死生，都在乎一个心。为什么？<strong>心为祸本，心为道宗，你若是作恶作祸，也是在心，那么你成仙成佛，也在心。</strong>就看你这颗心怎么用。</p>
<p>这一本讲完了，我们继续来讲下边。</p>
<p>黄剑：课间休息时间，师父，休息十五分钟。</p>
<p>张道长：啊，休息十五分钟。</p>
</blockquote>
<h1 id="张至顺真人讲解《炁體源流》｜地篇｜正式版"><a href="#张至顺真人讲解《炁體源流》｜地篇｜正式版" class="headerlink" title="张至顺真人讲解《炁體源流》｜地篇｜正式版"></a>张至顺真人讲解《炁體源流》｜地篇｜正式版</h1><p> 张真人讲解炁體源流｜地篇</p>
<blockquote>
<p>**<br>黄剑：**我们很幸运，能见到这样一个很真实的一个人，我甚至可以问他那种问题，我觉得这个棍子都会打下来的问题，他都很诚恳的告诉我他的想法。我觉得这才是修行修到最后，我们怎么去做一个最真实的人，真人，这才是最高的一个境界，至少做人的方面。</p>
<p>很有幸，师父一直在强调，这个大家千辛万苦赶到这边，时间最宝贵，他说累他一点点，他就累一会儿，不要紧，所以他希望跟大家做更多的分享。事实上我觉得，大家也别指望就靠今天能够，能够悟到什么大道啊，什么之类的，很多高深的，能够，能够读懂这个道家最高深的玄机，没有这样的、这么简单的事情。</p>
<p>其实我觉得大家已经非常幸运，因为在座有很多老道长的弟子，比如说前面这个胖乎乎的刘德会师兄，他就知道，站起来认识一下大家，他也是我们的针灸医生，非常棒的针灸师。当年医道会的时候，他为了拜师，每天晚上开完会跪在师父的门口，跪了一个通宵的跪在那。</p>
<p>可是呢，第二天、第三天，我们每天开会看他都筋疲力尽的那种、好无精打采的，我说你这么没力气跑来开会干嘛呀？后来才知道他都在半夜，都是跪在师父门口呢。结果后来被那个小慧师兄批评了，你跪得这么角落的地方，师父出来也看不见你啊。按照刘师兄的话，是跪得他裤带都松了，但是终于敲开了师父的门。所以呢，其实他们跪的这么辛苦的拜师，师父教给他们的东西不会超过今天说的话，不会超过今天说的话。所以如果你懂得珍惜的话，我觉得你应该今天能听到很多很多的东西了。</p>
<p>至少你可以看到一个一百岁的人，可以站着、很认真的、把他心里想的东西告诉你，很诚恳地告诉你。因为我们很难站在一个一百岁的人的角度去想象，这个时间是多么的宝贵，像手中的沙、手中的水，你已经很难抓住它了，所以呢我们下面，我们继续抓紧时间。师父说他现在讲一段，讲完以后，然后回答一些大家的问题。师父，继续加油哦。</p>
<p><strong>张真人：</strong>大家要尊重这个时间，这个光阴是最要紧不过，快得很，一转眼就是几十年。刚才这个黄剑提出来的，他们介绍一个，啊，从远地方来的，八十多岁咧。那么来的目的要干什么？这么远，噢，受这么地波动，不过是这有些话告诉大家。这是道祖爷说的，八十岁，八十岁遇正道，俱能成道，一百二十岁还可以返老还童，这是人家道祖爷说的，他不说瞎话。</p>
<p>关于这个男和女，大道不分男女，原因在哪儿呢？那么道就是一阴一阳谓之道，那么男女就是一阴一阳。我们这个女，也是父母生的，那个男也是父母生的。不过是有一个问题，如果父亲的炁到得早，母亲的炁到得后，那么，母亲这个炁，阴炁包阳炁，那么生下来就是女孩子。那么母亲的炁到得早，父亲的炁到得迟，那么阳炁包阴炁，阳炁在外，阴炁在内，那就生下来就是男孩子。男女就是这一点分别。</p>
<p>男女有分别，男女虽然不同，神、炁无二异。这一句话，是七真里头孙不二说出来的。孙不二就说男女，好多人说男的怎么修，女的怎么修，我们道家没有这回事。我知道他们北京有几个那个大学的那个老师，编一个《女丹经》。那么你要知道，我知道在西安一个26岁的一个高中毕业生，《访道记》，叫我去看，我说我不看你的书，你这个书的名字，他起的这个书名字，我就问他那两个字什么意思，我把他问的满头大汗往下流。我说：“你今年28咧，有你这个书在，你知道你害死了多少中国人，你知道不知道？你访得没头没尾，到这问几句，到那问几句，你编来教后边的学你，学个什么？</p>
<p>反正你们看书，是道祖爷的原书，你只管看。不管他是什么人，大师、二师编的这个书，这儿一部分，那儿一部分，少头缺尾，不记完全。那么我也没文化，但我不编书，但我这个《炁體源流》，我没加一个字，我没减少一个字，或者打错，这是肯定有的。人家的原文原书你给人家改吗？你有多大的力量？你超过祖师爷的力量吗？不可能。因为我刚才说的这个意思，让大家看书，看一个正正规规的书。</p>
<p>那么一些书一沓厚这么，你看三年也看不完，你怎么记？这有一句话说得一点都不假：真传几句话，假传万卷书。那么《道藏》里头这一藏，那一藏，这一部，那一部，是道祖爷的哪一个人说的，哪一个人说的，在哪一藏，都有。我这个书对了一年半，才成功。</p>
<p>今天我跟大家讲，刚才讲的人生死，生死嘛，讲《河图洛书》嘛。我讲的那个“火”，“生在火中生，死在火中死。”就是代表那个《河图洛书》。<strong>人先生二目，死先死二目</strong>，这你记住。左边为天，右边为地，天地里头让位，天地不当家，坎离当家。坎离是后天，代表了天地。因为我给你讲这八卦五行，我先教你这个五行嘛，生这么天干地支，都生出来了，所以我先给你指挥这，你弄不错。</p>
</blockquote>
<blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ0GAKnFc0KocVcGnTP7kyvIZTDzuIxals6AcA49pqSYWBv8X9xAZnW7SjLycpMJFpiaiceCd0ia3oxyQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
</blockquote>
<blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ0GAKnFc0KocVcGnTP7kyvI4IEj1u0TZBoz6AvSQA6OiakdY1PicvAfOLibUFyKxMdmA2REpCicBoGThw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
</blockquote>
<h4 id="-4"><a href="#-4" class="headerlink" title=""></a></h4><blockquote>
<p>那么这回讲，讲什么？讲《太乙金华宗旨》。第一章，“天心第一”。第二章，“元神识神”，要知道。什么是元神，什么是识神，也要知道。第三章，“回光守中”，千言万语不如守中。那个“中”可不是“中间”的“中”，那是中宫天心，那是老君爷在那儿住着哩，先指挥这个。那么这第一章，天心第一，先知道位置。为什么非要指出来天心第一位？不管你佛教、道教、儒教，离开天心，你想成功皆不可能。</p>
<p>因为你离了那个位，离了你转世投胎原位的东西，你没离开那个胎息。胎不离息，息不离神，神不离炁，三个东西谁也不能离开谁，三个东西才成。有日就有月，有火就有水，那么中间水火都有，日月都有，离不开土，离不开土。那么我今天说的话，就是直接给你指挥，天心第一，就是我们人身上的真土、真意，就在那儿。生就是在那处，在上为金鼎，在下为玉炉，在地为炉，在天为鼎，天地的中间日月都有，我先给你指挥这个天心。</p>
<p>那么“天心第一”，“吕祖曰，自然曰道”。这，多简单，在《太乙金华宗旨》上边，就是说的这么……，自然。大家都知道，道法自然。既然知道道法自然，为什么不去自然呢？为什么要这样子做，那样子做？把人闹得心里不得安然，那么你心里这个，比如我们练这个八部金刚，你要是用气用力，那你越用越差。你自然吗？不自然，你要一用心，就把身上的这个五脏的气控制了，它不自由。它本当是自由的，那么你一用心，把它控制了，它不自由嘛。心在莫言心，意在莫思意。心本当没动，就在这儿。意，生你就在这儿，死它才动。那么你要知道这个真东西，它不动。</p>
<p>为什么老君爷叫，叫你学婴儿？那个婴儿没出世，他会做什么？你们考虑考虑。那么在怀里他不成胎，他不成体，那他会做什么？能会叫你这样的动，那样的动，这样子炼，那样子炼吗？不可能。所以那么，讲大道不离目前，大道不离身，不离目前。离开目前，谈玄说法，就是背道而行。那你就是违背了大道了，你背着道，你越走越远了，最后哩走到死亡，谁都是这样的。</p>
<p>那么“天心第一”，吕祖爷第一句话就说，“自然曰道，”自然就是大道。那个“自”，你考虑考虑，要知先天真无极，把头装到肚子里。头装到哪块？头说的是上边。那么这个自己的“自”，装到身体里头，那个身体里的“身”字，你看看里头有没有那个“自”，自己的那个“自”？你慢慢考虑考虑那个“身”。</p>
<p>你看，那不过就是底下加一个腿加一个撇，那是个走路的一个人哪。那么一个脚抬起来，一个脚往（前）朝着往前走，那就是那个本身的“身”。“日藏月内丹作母”嘛，这是我做的诗。日头能藏到月亮里头，“月”能藏到丹经里头那个“丹”。“有人识破天外天，我把日月一丹担。”那么日月，我拿这个“丹”字，就把你拿走了，那个“丹”字两头出来咧。如果那两头不出来的话，那不是个月亮的“月”吗？月亮的“月”里头有日，日头能藏到月亮里头。这个《清静经》注解都有，有这两句话。</p>
<p>那么吕祖爷说“看破红尘早悟空，太阳隐在月明中。”那么韩湘子他咋么说的嘛？他是这样子说的，那么“虚心实腹悟铅光，月里分明见太阳。”那么一个太阳藏到月亮里头，他再说，月亮里头见太阳，修性不离命，修命不离性。你炼日光，日光的背后，黑色就是月光，黑色的前面发亮发白，那就是日光。</p>
<p>你炼月，日光在前，你炼日，月光在日光的背后。那么说明你炼谁都离不开谁。刚才给你们讲的这一个，白眼睛里头有黑眼仁。那不就是日月两个东西吗？人身上有两个天地，四个日月。你不知道两个天地四个日月，你到什么时候都修不成。</p>
<p>那么他这是“天心第一，自然就是道”。那么上边，我再说一说，那么谭长真，七真里头有个谭祖。他在这个《金华宗旨》上边起到一个序文，他就，前后都不说了，中间那几句，那么就是说他说的，“千经万典，千经万典，”不管多少经，多少典，多少道藏，那么“千佛万祖，千言万语，千佛万祖，千言万语，就是叫你知道性光。”这么多的书，这么多的经典，就是指挥叫你知道一个性光。那么性中间有光，光有性。</p>
<p>那么六祖慧能他就说过这，是不是？那么你两目之光，那是元神真意之体。就像我们这个电灯，外面是个外壳，那么里头有什么？里头有两个东西，有一个火电，一个阳电，一个火线，一个零线，那么一个阴，一个阳，阴阳一对就会明。我们本身上的阴阳，那么合在一起，你说它生什么？社会上的男女一配合，生下后代。</p>
<p>飞禽走兽也是一样，阴阳一配，它就留下东西。我们本身上的阴阳合在一起，它不长胎吗？你考虑考虑。所以，人乱动、乱说，这么越说越离道越远。道无名相，道没有什么名相，又没什么可说的。无形无声，无声无色，什么都没有，是个空空荡荡的，没法子说。</p>
<p>就说“一性而已，一元神而已。”这个书上面就说，那么大道没有什么可说的，无形无相，无声无色，无头无尾，那么就是一性一元神，一性而已，一元神而已。那么“性命不可见，寄之天光。”性命你看不着，那么天光，寄之天光，就托给天光，“天光不可见，寄之两目。”它这个就是给你指挥清楚了。</p>
<p>“性命不可见，寄之天光；天光不可见，寄之两目。”刚才我说的谭长真说的什么，就是叫你知道性光。那个性光，他就说了么，你炼性也是炼的性光，你炼命也是炼的性光，你采药也是采的性光，你修大道，成仙得道，也就是一个性光。谭长真就是这么几句话，我背书背了几十年，看了多少遍，看了八九十遍了，心里糊里糊涂的。就他，从这两句里头提醒了。我把这两句弄明白，我看书，大部分才知道。悟开一个日月合到一块儿是“明”，日月上下堆着是个“易”，那是很简单的。那么悟开一个“明”，悟开一个身体的“體”。在山东住了一年，就悟开那两个字。从那两个字，才慢慢，慢慢才走向大道的。</p>
<p>那么以前修这么快，人问我怎么修的？不知道。人问你修这么快，不知道。那么我修前后连出家，带炼到那个高层的话，才八个月。前两个月还祛病，师父还没说。最后哩，才炼了六个月，六个月我超过他们三十年。你考虑考虑。那个时候年轻，小。心，意志坚决，那把什么都忘掉了。那么就从那会儿，在快要登空，快要变化的时候，就在这个时候败坏了。那么修道的人你总记住，不要过劳，劳动伤丹，小了伤丹，大了伤命，这一点都不假，就因为那个时候我才明白了。</p>
<p>那么今天，那么再跟大家说的这个命，“性命不可见，寄之天光，天光不可见，寄之两目。”接着“古来的仙真，皆口口相传，传一得一。”他这上边最要紧的就是说的这个“天心”，“性命”，“性光”。这是前几句就是说的这个东西。底下就是说的这个谁传谁，谁传谁，南北两宗，一直地到今天。“凌替极矣，滥泛极矣。”这两句话，因为我们考虑都是中国人嘛，那么明明知道看着走错了，错了你还不敢说，你还不敢拦，是不是。</p>
<p>我的对着呢。那好，你的对。因为我们在这个地方，大家这么千里万里费尽心血来，是不是，我耽搁两个小时问题不大，那么要解决很多个问题，是不是？那么你看人家几十岁了，从东北这么大远路来的，来了就是为了健康，再多点就是为了想逃脱生死。刚才我也说了，八十岁遇正道俱能成道，一百二十岁还可以返老还童，那一点都不假，祖师爷的话他不会去说假的。</p>
<p>那么到今天为止，我们的大道基本上，算消灭的基本上算没有了。我们就今天跟大家见面，也都感谢黄剑同志，把这个大道从海底拉出来。今天，才真正的大道见到日月了，才有了今天。因为这个事情，我知道的我说，我不知道的我不敢乱讲。你错讲一句，你要知道害死了多少个人，多少中国人。上边有我的父母，下边有我的兄弟姐妹，我害谁啊，都是中国人。我们都是一个天地的父母，一个日月照临的兄弟姐妹，是不是？我今天所说的，都是我的实际经过，不经过实际，我也不敢解释。</p>
<p>那么“千劫难逢，受者一时法会。皆当仰体许祖心”。我们现在这个大道，许祖在社会上传播了三十年，教给他的徒弟，他的徒弟又传了几十年，最后哩失败了，最后哩失踪了。这个《太乙金华宗旨》是从什么时候，从清朝康熙时候的，吕祖爷亲自奉旨下来在康熙传道。原来是叫《太乙宗旨》，后来吕祖下来传道，又加了个“金华”两个字。</p>
<p>他说的这个“金华”两个字，直接说明我们生的时候这两个东西，这是两个金丹，这是两个生的是先天的金丹；后天的金丹，是从后天下手：炼精化气。实际上炼精还精，炼阴精补阳精，阴跷穴藏的有先天的真炁，那么阴精一合到一起，它就要作怪，作怪它就要动，它一动，它发出来这个精，人容易烧，容易作怪。往上通肾脏，肾脏再一通心脏，心脏一知道，天光就知道了，天光一知道搁这儿下来，有真意就把它收回来了。</p>
<p>那么，不经过这些东西，人（家）说上等人固穷，下等人伤命，就在这里。下等人一得到这个东西，他必然要去找男女，男的找女的，女的找男的，这是必然的，社会上的事情。那么上等人，你要给他收，炼回来。你不炼，那好多人，我不炼，我不伤。你不伤，这么东西一长，散到外边，你一天一天的阳寿，也是散，也是照样的散。所以他一动，要把他收回来，炼。</p>
<p>炼在哪里？他们现在，你要从下元炼，炼精还元精，炼元精还元炁，炼元炁成金丹。金丹炼成，你活个三百年，五百年，一千八百年，都不准走呢。但你不好，说坏，阴丹最容易坏。那么不要叫它坏，从阴丹再转一个，第二个阶层，炼成道胎，炼成道胎以后，那就不会生死了。但你还要炼神，道胎还要炼成神，炼神还虚，到那时候才能飞腾，变化。光有道胎不能飞腾，但你在社会上能活年代，不会再死了。这是第二层。第三层，要炼神还虚。</p>
<p>但我说这一个，我们是最高上的一层。刚才我们给你，为什么要讲这个天心，讲那个河图洛书？我们先从生死上下功夫。老君爷就在这儿住着，我们为什么要感谢许祖？许祖这一句话说的正确：“在人伦日用间，立定脚跟方可修真悟性。”</p>
<p>在人伦日用间，立定脚跟，脚跟扎稳当，不要动，方可修真悟性。我就从他这个里头，才感谢许祖。“人伦日用间”，我想日用，不是用两个眼睛，就是用心脏，结果他们给我拿一个《麻衣相书》，还是在两个眼睛，还是在这个地方下功夫。那么他这底下就说，把这个天心的位置给你指定了。</p>
<p>“然后再细为开说，太乙者，无上之谓。”太乙那么是最高无上的丹诀。“丹诀甚多，总假有为而臻无为，非一超直入之旨。我传宗旨，直提性功，不落第二法门。”那么他这就是说的嘛，丹诀多得很，就从有为而臻无为，这是从有到无，无中生有，有中转无。</p>
<p>那么“所以为妙，”最高为妙，“金华即光。”他说的这个金华就是这个光。那个(灮guang)你再看，那么上面是个“火”字，下面打个“几”字，这个人都不认得这个字。那么我跟他们讲过，那么这个“火”，光不离火，光没有火不生光，那么写这个“光”字就认得了，那个“光”字，中间一道，两边两点，中间这么两点，下边一道。</p>
<p>那是什么意思？那是一个“丁”，往上的一个“丁”，顶两边，倒坐天门嘛，那是个丁火，两边是两点。我为什么给大家讲那个“火”？那么许祖就说，我们在人伦日用间，在这两个眼睛的中间，立定脚跟，方可修真悟性。我把这个事情给大家解释明白。</p>
<p>“金华亦秘一光字”，最秘密的这个“光”字，没人说，最秘密的就是这个“光”字。“在内，是先天太乙之真气，水乡铅只一味。”那么这里头东西，就是水中金，又叫水中铅。人炼就是铅、汞，铅汞就是阴阳，就是日月，就是性命，就是神和炁。大家都要记住这个“光”。刚才我就是说的这个“光”。</p>
<p>这个光……什么时候由黄剑同志能把，那么《清静经注解》二十三章，完全讲得明明白白 ，又把这个《太乙金华宗旨》十三章完全讲清楚了，再把这个博客打出去，你不用找我，你就找这个书上，找他这一个讲话。那么《清静经注解》二十三章，都讲了。《太乙金华宗旨》十三章完全讲明白了。反正只要说是我讲的，我把道祖爷的事情（讲了）。那么你说的，你说出来，我再讲出来。</p>
<p>那么我就说，感谢天地，七八十年不明白的东西，在两个月以前全部明白了。这么我就跟大家说。反正你们没曾看书，先把书放那儿，把手洗一洗，自己烧根香，你把他坐到那儿，稳稳当当的，你不要在那儿嗨儿（方言，那里）头上腿上放住，不要放到腿上。上边有老君爷的像，有吕祖爷的像，有灵官爷的像。</p>
<p>为什么我放这三个像？任何人的经书超不过老君爷。那么吕祖爷时时都在社会上。那么灵祖爷，不管你男的女的，只要有一心向道，有一分的道心，他有三分的保护，你有三分的道心，他立即保护。所以你看书，你就认为你这安安静静，你慢慢地看，你脑筋里头、背后会有人给你指挥。</p>
<p>因为我把这个两本书讲的清清楚楚，为什么？我说，现在全国这么多人都求道，遍地金莲一起开，就在目前。万朵金莲啊，无数啊！只要你大家认为这个书是正确的，张道不说瞎话，我知道的我说，我不知道的不说。但我说的只是老君爷、老祖师爷说明白的东西，他不敢提明，他就比方这个“金华”，“金华”就光，“金华”就是光。一阴一离，真阳之气就是水中金。只这一味此也。</p>
<p>“回光之功，全用逆法。”人生，从生到死，都是往外看，没有人往内看。那么这一句话说多清楚，往外看为离，往内看为坎。坎离交媾就是一周天，那么阴阳一交换，就是一个周天，在什么地方？在天心。天心就是，玉炉也是它，金鼎也是它。有天就有地，有地就有天。有坎就有离，有离就有坎。</p>
<p>那么你还上哪里找啊？反正我给大家在这个书上，提前，时间太短。那么你也，只要你好好地炼，不要乱跑，就在天心下功夫。你跑来跑去，你跑到哪儿？老君爷没有路，你说上到三十六天以上，他就是三十六天的主人；你想到北京，他就是北京一个主人嘛；你想到西天极乐国，他是极乐国的王子，你要叫他上哪走？老君爷没路走，无路之路。那么我们修有一个方向，有一个路，你跟着老君爷，你听他的指挥，他会把你带到最你理想的位置，不要乱动。</p>
<p>天心，“注想天心，天心居日月中。”那么人要想打坐，就在天心注想。天心居日月中，刚才不是说日月都知道了么？日月是天地的灵魂。那么在这个日月的中间。“黄，中黄，日月中，”那么《黄庭经》说的，那么，我们道家有个《黄庭内经》、《黄庭外经》。“寸田尺宅可治生，寸田尺宅可治生”，它这个底下，“尺宅面也”，尺宅就是说的面，“尺宅面也，面上寸土（田），非天心而何？”</p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzI1ODUxNjA0MA==&mid=2247485304&idx=1&sn=a5068a43938cab1230ed22bf836439b1&chksm=ea07b25fdd703b4942ffd97e53b98002eeb8b9c9863202a4133680230e5bb4569fc8b972d512&scene=21#wechat_redirect"><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ1ibamgnYX1NkpMrFGBibrvHiaTic7XRLVn0PPf0fTGTv4zKhtCX6k9VOfywJ6jlvmEX3LqwSILJLElBA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></a></p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzI1ODUxNjA0MA==&mid=2247485417&idx=1&sn=4dd5c5bfb9356cde1d2256de2bce2011&chksm=ea07b2cedd703bd8963135dd13be34ef9d60992a7e0e3ade06b2e35517c978284558d073ad57&scene=21#wechat_redirect"><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ1ibamgnYX1NkpMrFGBibrvHiaeJ9hS3Vk3gsQvicWgbqicMSbAjufDgaOKDGXG44ZeJv5ziad4ialNO9Uzw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></a></p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzI1ODUxNjA0MA==&mid=2247485304&idx=1&sn=a5068a43938cab1230ed22bf836439b1&chksm=ea07b25fdd703b4942ffd97e53b98002eeb8b9c9863202a4133680230e5bb4569fc8b972d512&scene=21#wechat_redirect"><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ1ibamgnYX1NkpMrFGBibrvHiayF3DZlaXV1N6O5pc45pKIYZelGNYKQUsJ8pqhVqdksYYUzqNcicib4cw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></a></p>
<p>就是说，那么七尺之身不如一尺之面，一尺之面不如三寸鼻，三寸鼻不如一寸心。它指挥这个天心，天心就住在日月之中间。那么寸田尺宅嘛，可以指说能知人的生死。这才是，说这两句就是指挥你这个天心的位置，天心的位置就在这儿，左边为日右边为月，在这个日月的中间，也就是天地的中间。“非天心而何？”不是天心是什么？</p>
<p>“方寸中具有玉罗萧台之胜，玉京丹阙之奇。”那么这一个说的这个位置，就是元始天尊住的玉京山，住的玉京山，在玉京山给天上的高仙讲经说法，就在这个地方。“玉京丹阙之奇，乃至虚至灵之神所住。”最虚、最灵明、最巧妙能变化的这个神，在这儿住着。儒教说“虚中”，孔圣人把它这个地方叫“虚中”，那么释家说“灵台”，道家说什么？道家说“祖土”，说我们祖先的土地，又叫“黄庭”，又叫“玄关”、又叫“先天窍”。</p>
<p>他把这一个地方说了四个位置，叫祖先的土地，又叫黄庭宫，又叫玄关，又叫先天窍，说四个位子。那么张紫阳把这说了一百七十几个样子，那么南极仙翁就批评了张紫阳，说你说了这么多，群众哪能知道你这么多的位置，你说的位置太多了，太复杂。说南极仙翁把张紫阳批评了一顿，你说的位置太多了，别人没办法下手。</p>
<p>“天心犹如宅舍一般”，这个天心、这个位子就像我们住的这个宿舍，住的这个宅舍一般。“光乃是主人翁”，我们这个光就说是这个宅舍里的这个主人。那么最后讲到这个光上面。不过是……光，刚才我说性光嘛，炼性也是它，炼命也是它，采药也是它，成仙得道还是它，这是许祖说的，这不是我说的。</p>
<p>那么说明性光，这个光就是药，药就是心，心就是光。<strong>那么心就是光，光就是药，药就是心。那么你们要记住这个，我们这一点灵光里头，采药也是它，炼性也是它，炼命也是它，你要把这个记清楚</strong>。为什么要指示这个，让大家成仙得道，你不要乱跑。</p>
<p>在这个时候，我可以公布一下，公布什么？大家都来找我，我也不是什么，我不是平常一个人嘛？那么我现在常住就是江苏南京茅山乾元观，那是我常住的地方，另外一个，西安八仙宫是我常住的地方。另外一个宝鸡那么钓渭镇烽火台万圣宫，是我住了六十年的地方，那是我常住的地方，你们再找的话不要乱跑，你跑来跑去把钱也花了，浪费了也找不着我。</p>
<p>反正你这三个地方，你问，他们都有电话，你不管问谁都可以，我现在跟大家宣布，你们来找我不要乱跑了，乱跑浪费钱。有的有钱，那没钱的呢，怎么办？上回一个人找我，手表也卖了，手机也卖了，痛苦不痛苦。没吃的没啥的，是吧？你不要乱跑，找我就在这三个地方，你打电话都可以问。我现在跟大家宣布，我就是常住这三个地方，我哪里也不跑了。</p>
<p>那么，回光“但故一回光，周身之气皆上朝。”只要你这个光一回，光回祖窍万神安，只要我们的这个光回到原来的祖窍，周身三百六十神，阴神全部都归，你不要乱跑。那么只要一回光，全身的炁全部往上跑。</p>
<p>“如盛王定都立极，执玉帛于万国；又如主人精明，奴婢自然奉命，各司其事。诸子只去回光，便是无上妙谛。光易动而难定。”我们都说一打坐，那个无数的头绪都撞上来了，可是你要保护你的正光，不管他千言万绪都撞上来了，你不理它。变得好的让你爱，变得不好的吓你，你不管它什么吓你，变大蛇大虎，你知道是个假的，你把你的心稳定，你把你的光掌握好，那这个光一点一点的会大，一大，就把这一切的东西全部杀掉。</p>
<p>杀掉以后就剩一点儿个亮光。那个光就像一个玻璃一样，透白刷亮。那么这个女的，可能带一种紫色、黄色，那个光是你的正光。你保护你的正光不动，那个正光里头杂光事情多，你保持你的正光，直接定住它不动，他一点一点的起那个……你越静这个光越大，光越大，把那个杂光完全吃掉，光剩下那个静光。等你那个静光静得久，你不知道自己在哪里。如果外边要来个人，你那个光就发现了，就像看电视一样。那个电视机里头一按什么东西都出来了，它出来个什么人你知道什么人，哪一天要来，你提前知道。</p>
<p>甚至于，早知三天事，富贵万万年。那么你提前的事情你提前都知道，你不至于伤害。因为那么人都问我，你知道吗？多少知道一点。那个时候炼功，是正确的，三年以后要提前什么东西，提前都知道。为什么呢？那么有经验了嘛。那么现在呢？现在不行。为什么？你别说打坐炼功，我们连命都顾不住，你还能炼功吗？你考虑考虑。那么今天跟大家说，因为我这三个东西我托不出去，我心里放不下。</p>
<p>因为有一回，喝一点水，中了毒了，吐得要死，我说我死了怎么办呢？我这些东西怎么办？我死了以后，我不能跑到地府里给鬼看病去嘛，是不是啊？那么我学了这几十年的东西，这么好的东西没有托出去，我这个单方你们谁拿着谁会看病，这是最要紧的。那么你把王清任的《医林改错》再买一本，你有了这两本书的话，超过你三十年的学习。为什么？那都是经验的良方，一百个能治好六七十，这里不说。另外这个大道，那么我十七岁出家了，那么光听老人说，光听人们经验，我也多少知道一点，所以我把这个东西也要托出去。这个八部金刚，是从我手里才公布到社会上，那我们道家都好多人不知道，现在群众都知道了。</p>
<p>那么不管你几十年的病，练不到三个月都好嘛，这都是实践的东西。你们回去你只管把这个八部金刚练一练，不管你有老人父母，他有什么病，你叫他练，练不上三个月自动就会好。那能不能百分之百，那我不敢保证。反正最好也要是百分之七十八十以上，都能会好。</p>
<p>我今天说的这个光，“光易动而难定，回之既久，此光凝结，即是自然法身。”你这个光能回得长远，久守不动，它自然而然结胎，自然而然成道。那么我问了很多人，都说炼功。那么可能我问的多少人，大部分都是这样子，不要说你们，连我们道家也是这个样子。舌顶上腭，意守丹田，用这气那气，这样子气那样子气，又是肝气啊，肝气属心，转心脏，心脏转脾脏，这样子转那样子转，那你只管转嘛。你在地狱里找路终究是地狱里，你在天上下功夫，你不找路就是天上的路。</p>
<p>反正总的来说，我跟大家说，只要你炼，知过必改嘛，就怕我炼得好着呢，那你就炼得好着呢。我说的是我的事情，你炼的是你的事情，炼好炼坏最后就知道了。最后你了尾的时候，看你怎么走，看你是害病走嘛，是成仙得道走，你没走以前你都知道，什么时候什么时候我要走了，怎么走？跟你说话：我走啦。啦字还没说完咧，气就断了。要是这样子的走，那么走和走不同。</p>
<p>那么“心印经所谓，默朝飞升者，此也。金华即金丹，神明变化，各师于心。”这个心是道心，以道心观天心，刚才是指挥的是天心，指挥的那个位置，指挥的那个地方，你不要离开那个地方。现在是以道心观天心，久守不动，自然结胎，自然成道，大道出于自然。现在么我跟大家说的，如果黄剑同志这么常……，又把这《金华宗旨》，连那个《清静经》，把这两本书公开的宣说，你只要能听见，你就看书，你看哪一个书你都懂，都明白。</p>
<p>“金华即金丹，神明变化，各师于心，此中妙诀，虽不差毫米，然而甚活，全要聪明，又须沉静，非极聪明人行不得，非极沉静人守不得。”那么你在这炼这个的时候，你心乱，心贪这贪那，你不要炼。那么你一炼就走火入魔，叫你心静，那么你心不静你一炼，就容易出邪。因为你本身邪着，那个阴神当家，元神不当家。那么自然而然的，有时候阴神它要静，因为阴神背后是元神，元神的前边就是阴神。一转眼就是阴神，一转眼就是阳神。阳神一当家，它是最安闲，它不爱动，它最喜欢快乐。</p>
<p>这个“天心第一”就给大家直接指挥天心。天心就在两个目的中间，就在鼻的上边，直接守胎息。这是刚才跟大家说胎息嘛。反正前后左右都不要离开胎息，不要离开中间。那么两个目光是从中间慢慢就这样一个电，把这个电那一个电，那么我从这个电的基本上下功夫，这两个光自然会亮。那么今天我就讲到这里。先给大家指挥天心，指挥生死的道路。我讲到这儿，要请大家多提些问题？</p>
<p><strong>黄剑：</strong>那么休息几分钟，师父累了。</p>
<p><strong>张真人：</strong>对，那么我们就休息了。</p>
</blockquote>
<h1 id="张至顺真人讲解《炁體源流》｜人篇｜正式版"><a href="#张至顺真人讲解《炁體源流》｜人篇｜正式版" class="headerlink" title="张至顺真人讲解《炁體源流》｜人篇｜正式版"></a>张至顺真人讲解《炁體源流》｜人篇｜正式版</h1><p> 张真人讲解炁體源流｜人篇</p>
<blockquote>
<p><strong>黄剑：</strong>坐我们的前排的这些都是我们的顾问老师，包括我们那个乾元观的当家，一当家，都亲自过来，他也是老道长的弟子，我们要好好地感谢他，还有他身边的两个道人，那几个师兄，都是他们一直在照顾师父，照顾的非常细心，所以老人家，有这么……师父哦，这些徒弟不错吧？照顾你照顾的不错吧，这几个徒弟。</p>
<p>让师父有一个好身子，好身板，能够继续地有机会出来传播大道，我觉得他这个心思非常非常地可以理解。因为道家是都躲在深山里面，现在能浮现出来的高道真的很少很少了，所以师父觉得自己应该出来多传播一些，那种道家的文化，让人家（知晓）。</p>
<p>有一次我们问他，为什么现在这个佛家的、基督教的都传播的那么好啊，都做的那么好啊，然后老人家非常骄傲地说，你看天上这个，这个山里头是蘑菇多还是灵芝多啊，你看海里是龙多还是鱼多啊？他非常以自己的道家为自豪，所以他觉得这些东西是真正的宝贝，然后鼓不敲不响，你不求我我还不教你呢，你不想学我还不告诉你呢，所以他愿意跟这些真正喜欢道家文化的人分享这些宝贝。</p>
<p>那我们现在问一些问题。有很多人提了很多问题，我看有的人一下问了六个问题，我觉得这个有点，有点过了，可能老道长任何一个问题够他回答一整天了，所以呢，我们就选择一些吧。师父，不能每个问题都回答啊，我选一个字写得比较好一点的啊。先来一个简单的问题，说这个炼完八部金刚以后，还可以站桩吗？</p>
<p><strong>张真人：</strong>可以，可以。站桩有一个问题啊，久行、久动、久走，伤筋；久立伤骨；久坐伤血；久睡伤脉。这站桩，你站到那儿，我们就说你站到那儿做什么？抱元守一，是不是？那这都是古代的，在这个八几年啊气功全国普遍啊，光一个上海都有一百几十样子气功，那我都知道。为什么我们在那个时候，大家叫我出来，第一次教，就是在北海舰队，李司令，李司令，济南军区的李司令，北海舰队的于司令，他们都是气功协会的人。</p>
<p>那么他就说，你会不会气功？我说我不会气功。他讲那你们道家会什么？就是在山东崂山下边有个大石头，混元石嘛，有邱祖爷画的图，还有张三丰画的图。那一天是我在上边，8点以后就到那个上边，一直地到下午4点才下来。</p>
<p>那时候，欠人家外债，三万八千七，把我愁死了。在那儿一下子，连哭带磕头，一下子磕了十几个小时。下来就碰见他们，他说你这能不能给我们讲一讲这个？这两边的讲了，中间的看你能不能讲？我说中间的，我一来不敢讲，二来我讲不了。中间这个图，是混合图，那个中间的图，就是今天的天心。讲日好讲,讲月好讲。</p>
<p>那么这是刚才你问的这个站桩，你问我行不行？那你要站你就站。我说的这个事情，是我的理解，那么人家教站桩功的老师，他必然要说出来很多的好处。你站了多年了，究竟站了出现什么东西？你问问你自己就对了。你问我，这个话，我也不敢多说。</p>
<p><strong>黄剑：</strong>先不讨论站桩好不好。</p>
<p><strong>张真人：</strong>对。</p>
<p><strong>黄剑：</strong>可以站。还有人问这个玄关一窍在哪？这是在问银行号码密码一样的啊。这能说吗？</p>
<p><strong>张真人：</strong>怎么不能说嘛，我给你说的，祖土、黄庭、玄关、先天窍，这不是给你说明了吗？</p>
<p><strong>黄剑：</strong>都是一个东西。</p>
<p><strong>张真人：</strong>那不就是天心嘛，就是胎息嘛，我们坐胎就在那儿。那就是天心，那就是祖土，祖先住的土地。老君爷就在这儿住的。老君爷道传谷神嘛，那么“谷神不死，是谓玄牝，玄牝之门，是谓天地之根，万物之母。”那人（方言，指上文老君爷的那段话（出自《道德经·第六章》），这个不是说的这，又是什么？</p>
<p><strong>黄剑：</strong>这个没有认真听课，过去吧。刚才“天心”一章全讲了啊。大家非常关心如何正确地打坐、修行，道家和佛家的打坐，有区别吗？</p>
<p><strong>张真人：</strong>没有区别。道家也是炼的性和命，佛家光炼性不炼命。那么佛家炼到最后，他为什么一化身有舍利子？他那个舍利子就是后天的渣滓，他把先天的元物都提走了，他后天的他不炼，他不要。所以，佛家有舍利子，道家没有。我们炼后天炼先天，一起炼化。这个他炼的是直接（炼）性，我们是连性带命一起炼。就有这一点区别，别的没有什么区别。</p>
<p>那么性，释迦佛他直接提的天，提的天上。我们道家有三层、有四层。那么你从下元开始，炼阴精转元精，炼元精转元炁，炼元炁化金丹，这是从下元开始。那么还有一个中乘，中乘就是那一道冲脉，跟带脉连着的。那么带脉就像一个，就像一个口口，那个冲脉就是直接向里，从中间向上去冲。那个冲脉就是一个中，那个带脉在这一周围。冲脉从下元开始，从中间，背后有督脉，前边有任脉，中间有冲脉。这三道脉，那是我们修行人呐必然要走的。那么你炼后天，要经过任督，从这个地方开始。我们，那么，下乘，中乘，上乘就是泥丸宫，在泥丸下手，是上乘功。但我们在天心下手，是最上一乘。就是这种分别。那么佛道没有分别。</p>
<p><strong>黄剑：</strong>那他们就想知道，打坐到底怎么打坐？是左脚放在上面，还是右脚放在上面？有没有什么规矩？有什么注意事项？</p>
<p><strong>张真人：</strong>佛教最讲究天盘，两个脚都在上面盘着。那么，我们说一句，那如果盘天盘能成仙能成佛，我不怕老了，我就把腿盘断，我也盘。因为盘了，我能成仙成佛。那么你把腿盘得疼、肿、胀，气血不通，那你盘它有啥用嘛？另外，我们道家真正的打坐，不讲究盘，我这样子也可以嘛。那么我咋个弄，我想盘也好，不盘也好，我散坐也好，打坐没有方式。</p>
<p>睡觉有三个东西：第一个折身武睡，那么一个手捂，把耳朵露开；一个手攥住，攥到这个姿势，攥结实，腿张开，那么两个腿抻（读chēn)直。年轻人要这样子睡，武睡，保持你的精不变，甚至于做梦遗精，你能保持那个问题。半文半武，那么一个腿蜷过来，好，这么是抻（读chēn)着一个，蜷着一个，半文半武。这是中年人。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ2hpBIINuHd53ENiaTGXzic4Nxp2Ol4dURibZtc5wtk2yegWARyXCNhqibpGaiaNEIGbOaspibYSTUltSyg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ2hpBIINuHd53ENiaTGXzic4NmJcRibZmAGka8L5ly22t42hZ8W3GhtIib42wCON4IHpydwJqLaBwhRSg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ2hpBIINuHd53ENiaTGXzic4NhtlBAQac8Ybwur2Rw6ISSVKLREq7EJcb73nPEIwYQiahnBAKZlZLiaNg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p><strong>黄剑：</strong>一条直的，一条是半屈的。</p>
<p><strong>张真人：</strong>老年人把两个腿蜷过来，两个手抱到这，一个手搭到磕膝盖（方言，指膝盖）上。行如风，站如松，坐如钟，睡如弓。睡觉就像一个弓，这么两个手一搭着，这么一弄（方言，这里指蜷），就像一个弓弦。我们睡觉有三个办法，打坐没有形式。</p>
<p>那么你跟我在一起，你坐上一年，我不叫你知道我打坐，你根本不知道，你坐我睡。那么你坐到最后，什么结果？有些人说我睡着，我睡着？我可没睡，我都单看你坐什么样子，是不？打坐没有形式，怎么舒服，怎么自然，要达到自然，不是叫你“人”打坐。</p>
<p>好多人以为我这样子那样子用呼吸，你一开口就知道你错了。不是叫你“人”打坐，是叫你的元神不动，只要你的元神不离身，自然成功。眼不观物耳不听，口不言语自长生。闭关闭谁啊？就是闭的这三关，没有别的。打坐没有方式，正法不叫你折腾，正法是叫你元神打坐，只要你的元神昼夜不离，你再大的年老，不要三百天，你的精神马上转过来。</p>
<p>秉着你们年轻，有志向、有志性、有恒心，最慢是五年，再快三年，再快了一年，可以成功。到底哪个对哪个不对？那么，三茅，三茅一年成道，大茅一年半成道，那么老二是种庄稼，老大老三都走了，我要这个东西干什么？那么三茅人家在四年以内，弟兄三个都成道了。</p>
<p>我刚才说的这个话，人家说要有实践论，那就是我的实践。我炼的还不到六个月嘛，超过他们三十年，那时候才17岁出家嘛，18岁才传带我。因为你打坐，不是叫你……把一切的东西都放下，心上无挂碍，心上、心中不存一丝头啊，你存一点都不行。那么，一分阴气不绝，不能成仙得道，一分阳气不绝，不能死。只要有一分的阳气，人不能死，那么你有一分的阴气没炼完，你不能成仙得道，非把它阴气炼完，纯阳之体，才成仙得道。</p>
<p><strong>黄剑：</strong>好，师父其实很强调那个，这个讲的是很重要的一点。</p>
<p><strong>张真人：</strong>打坐随便。</p>
<p><strong>黄剑：</strong>打坐是当时我们在山里头的时候，李辛，李辛老师就问，被我逼着说，你要去问点问题啊，我好拍电视啊。李辛老师就问，终于想出一个问题，师父啊，怎么打坐？被一顿臭骂，如果大家想看那一段怎么打坐的这个，在视频上面都有，在我的空间的视频都有，打坐是你的元神在打坐，不是你的肉体。师父，有一个问，女性修道有什么注意事项？</p>
<p><strong>张真人：</strong>什么？</p>
<p><strong>黄剑：</strong>女性啊。</p>
<p><strong>张真人：</strong>女？</p>
<p><strong>黄剑：</strong>女，女子，女子修道有什么要注意的？</p>
<p><strong>张真人：</strong>呵。</p>
<p><strong>黄剑：</strong>是不是也不可以，是不是不适合意守下丹田？</p>
<p><strong>张真人：</strong>呵，刚才我就说了，前边也讲了，大道不分男女。男女虽有别，神炁无二异。都是炼的神和炁，离开神炁，都是骗人的。那么，打坐，妇女有分别，哪儿分别？男子天天到，女子月月来。那么男的什么时候一天能来个五六回六七回，那么你就小心了，你的炁快满了。他一天，男的一天要来几回，那么一会儿你精气满的话，他要不了两个小时，他又来了。要不了几个小时，一天要来个六七回七八回的话，你小心，大药快冲关了，大药冲关怎么办？小则伤丹，大则伤命。那是最要紧的，必然要经过师父跟你说。</p>
<p>那么，你们大家想一想，三人不问道嘛。这么多的人呢，那么必然还有一点个事情不敢明说，不敢在大会上明说。张紫阳说得太明白了，天罚他三次死罪，呵呵，我就看着他那，心里有些害怕，反正我说的这些，这都是书上道祖爷说的，他不敢说明。你说个天，他说个地，你说个这，他说个那，我把这几个人的对到一块，就明白了嘛，是不是？我把这个书都对到一块了，所以把这个大道基本上算说明白了。</p>
<p>以后，你听黄剑还有个最标准的给大家公布，就是我解释的《清静经》、《太乙金华宗旨》，这两本完全说了八天，八晚上，把这个东西说的很详细。你只要听了这个博客的话，你人人都会看，一看书都懂，不管你看哪个书，一看都懂。他说的不对，你就知道不对。不管对也好，不对也好。</p>
<p>对，不生病。那么你的不对，就是我说得对，那么，对，你的心不正，大道归于心嘛，心正即丹，心邪即毁。那么旁门，那么三千六百旁门，旁门里头人家的心正，他道传的不是正道，但他的心正，他的心正，天有指挥，他本身上的元神会给他指挥，人家也是照样子成道。但若我跟你说的正道，但若你的心邪，你必然要走到邪路上去，那不是我跟你说的，天不容。</p>
<p>那么女子们修道有个分别啊，那么月月来，那么连来带闭，一般地都是最多是七天，最标准就是五天。前两天往上朝，第三天，最后的下半天它往下流，往下走，先朝两个乳房。现在他们讲，左转三十六，右转二十四，揉软奶头，那我们男的揉什么呀？那么揉奶头，左转三十六，是从子到巳，六个时辰，刨过卯不用，还就剩五个时辰。</p>
<p>那么，上边为阳，阳爻用九，阴爻用六，（《周易》），四九三十六，一个时辰三十六，那么五个时辰一百八。那么下降由午到亥，六个时辰，除酉不用，它正好五个。那么五个，是不是？四六二十四，一个时辰二十四，那么五个时辰一百二，一百二对一百八，三百，那么正好六十五天，就是在这个卯酉沐浴不计数，对够三百六十五天，是这样子的，不是叫你数，也不是叫你，你转一周天，刚好是三百六。那是个预计，是个比喻，而不是那样子的。</p>
<p>那么你炼，妇女，到最后的那一天，第三天，刨过一二不用，去过四五，第一第二不用，第四第五不用。第四第五再用，那个，那个药已经老了，老了伤丹，嫩了不结丹。就在这个第三，刨过一二，去掉四五，就在第三天，最后的半天，这么你下功夫。前来两三天，你该睡、该坐，你不要动，因为你等它这个药老，你再下功夫。</p>
<p>下功夫跟男的一样，你只要从这边一静，虎降头，龙降尾，那么我们男的那么一动，等那个老虎出来动，动了大叫三声，那个时候你下功夫，它一热，你就敢下功夫，再静，在天心里头，它从天心里动的，你在天心里一静，它就跟那个海水呼呼叫地往上跑。</p>
<p>是不是水？我在这个里头也作了四句顺口溜，“朝朝目视白云飞，欲到天涯水作梯。若人识破风云里，五灵光中好锁龟。”那么，五灵是真意，在这个光，还是不离光，在这个光里头，自然把它锁住，那么一锁住，自然结胎。这么妇女跟男的就这一点区别，别的没有什么区别，都是炼的神炁。</p>
</blockquote>
<blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/icAl8WYt3yQ2HcRDMiaIJUR8MFfvu1mIf1cYrQiaGALjIatdLo7JQjgXjPsqVJkBTDo934aAYfLS6esoEKXLVZuBA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
</blockquote>
<blockquote>
<p><strong>黄剑：</strong>好，这个说，请师父喝一口水。请问道长，神气精，就精气神，鬼魂魄，有什么区别？这个人字写的很好。</p>
<p><strong>张真人：</strong>鬼、魂，是下边，是阴气；神、气、精，是从阴精里头提出来的、从五脏里头提出来的、最高的东西。这一句话，在这第二篇里头“元神、识神”，在那个里头。“人一身的精华上注于目”，人最高的精华都在两个眼睛里，你还上哪里找？你在下元炼的都完全都是魄阴之气，都是五脏的气，这就分别就很大了，是不是？你炼好了不生病，炼不好最后也是很难说。</p>
<p>你在地狱里头找路，你终究是地狱的路，找不着天上的路。人家从天上下功夫，不找路就是天上的路。不过是，你走到这个正路上，人家有根基的，人家坐飞机，往北京，两个小时到了，再不然坐火车，用七八个小时到了，那么你坐汽车又慢，你地下走更慢，那么到北京你地下走，得一两个月，是不是？这就是你走到正路上，只要不退心，早到也到，晚到也到，终究不离你那个地方，终究能走到。</p>
<p>炼后天，好了还能长远，不好，那就是自找死路，那是一点都不假。就是这种分别了，妇女就这种分别了。</p>
<p><strong>黄剑：</strong>这人说，我炼功的感觉腹部有气团在撞，肚子里，眼前有光，后面应该怎么炼啊？</p>
<p><strong>张真人：</strong>什么？你再说。</p>
<p><strong>黄剑：</strong>他炼功的时候啊，腹部有气在撞，然后呢，眼前有光，他后面怎么办啊？</p>
<p><strong>张真人：</strong>那是你炼的，你在肚子里头……我有两个学生，常常地就这样子说，就是炼那个王力平的一套东西，怎么好怎么好。他说，我始终也不回答，我笑，我说师父光笑，那我可不如人家的好嘛，那你就慢慢地在肚子里头转就对了，转到最后，就有些东西会给你回答。</p>
<p>你能转得不生病，那就是你的福，生出来病你再看，是不是？那么，为什么现在病这么多？我在海南，每一个月差不多都要来一个两个来问我，有的人教给他八部金刚，人炼上一个月两个月，他这个病好了，有的炼不好。</p>
<p>这些事情，反正你们不管怎么炼，我今天说的，你知道这个路走错了，错了改嘛，错了不怕改嘛，天不杀悔过人嘛。我以前我杀人、放火，我现在改过了，天不杀悔过人。但我路走错了，你改，你不改，那是你的事。我今天你们来听我，为什么？你们来找我，这么几千里路上万里路，你来找我，为什么？那我就是跟你说的，真的，我没事，我从17岁到现在没有感冒过，我的徒弟跟着我多年，你问他我感冒过没有？没有。好，那行吧，你再问。</p>
<p><strong>黄剑：</strong>这个是谁写的，六七个问题，请你只提一个问题，再重新传上来好吗？写太多了，而且这个问题太碎了。嗯，还有人说，常言“尽信书不如无书”，任何典籍总有出错，如何分辨学习各派典籍？这不就是老道长做的事情，就是因为怕你出错，他替你整理过了。他说有很多书都讲的不对，也有可能不对，那到底是怎么看？怎么分辨哪一本书说的是对的？</p>
<p><strong>张真人：</strong>哦，刚才我说的这个书，不是书上不对，你得看清楚。但，要是我是个大师，我是个气功，我写出来的文章，写出来的文章怎么写的，这个《道藏》上编一篇，那个《道藏》上弄几篇，自己或者打坐，多少有点知觉，对不对呢？那就看他们的了。</p>
<p>为什么打坐？我到北京，一个国务院的一个主任问我，他说，张道长，你说有神没神？他问我两回，我没答复。结果道观里一个我们办公室的主任说，这是周主任，在我们道观里负责的。我说，你问我有神没神，第一个我说有神，第二个我说绝对有神，第三个肯定不疑有神。他说，你说这三个有神什么意思？我本人出家，我就是修神仙的，我要说没神，没神你出家干什么？这是因为我本身上的问题。</p>
<p>第二个，我是在北京白云观，你问我有神，白云观是邱祖爷开的，那么白云观是我们宗教活动场所，我可以说有神。那你明天叫我到大会堂里开会，有，没有，我也是说的两可之间。</p>
<p>那么第三个说绝对不疑，邱祖是元朝人，在哪儿住姓啥叫啥，有这个人，是他创立的龙门，那么我是邱祖爷的后代，我要说没神，那不是消灭我的先人吗？他就说你真能行，我问过你们好多人，都是讲的马列主义，那么我要给你讲马列主义，讲三天也讲不完，你跟我讲马列主义，是不是？那么就离开本质。</p>
<p>另外一个人，就是他本人问我，他说你们打坐与害病有关没关？我半天，我说你问这啥意思么？那么就是我们陈撄宁，会长嘛，他也不在了，那么我还举手选举表决还选举他了。他说陈撄宁就是得的癌症，他爱人还是得的癌症。他就问他那你们炼功，那么你们害病，他说炼功与害病无关，这一句话说的。</p>
<p>他问我，我说，我师父说过，“得道的童子不计岁月，道能祛病，能延年长寿。道不能祛病，不能延年长寿，怎么能修成大道？”我就跟他回答的是这个意思，是不是啊？道绝对能祛病，有病打针吃药，不用问，口上有道，本身上没有道。这个话，我跟中央好多领导都说过，你不管他气功大师二师，天上的神仙，他就是活佛也好，活神仙也好，你发现他打针吃药，不用问，他没有功夫。</p>
<p>有些人讲道讲得远的很，我都想拜他为师，那么本身病得起不来，我连听都不用听，坐了十分钟，不到十分钟我就走了，我不听了。不管你谁，我说的是实话，考验人真的，你内容看不着，你外形你看着了吧？如果我走着，两个人搀着我，哼哼，走不动，一身的病，身上浮肿，你不用问，没有道。那么有道的人哪能是这个样子呢？道不祛病，就是假的。我个人可以说一句话，道能祛病。不能祛病，你这个道不真，不能延年嘛。</p>
<p><strong>黄剑：</strong>非常有信心啊。这个，下面有人问，修行的时候，会出现书里面或者师父说的各种感觉的景象，如何看待这到底是真的还是假的？其实刚才师父有说这个，就是说他打坐修行的时候，会发现很多很多奇怪的现象，你说这个现象是真的还是假的？</p>
<p><strong>张真人：</strong>发现一切的现象，这就是你打坐的内里边三百六十阴神，它给你变这变那，变那变这，变得多得很。我刚才都说了，你打坐，直接定住你的元光，性光，不要动，自然而然就把它消灭了。那是阴气，别的没有什么，它再害怕，你知道它是个假的。你看我，我都经过嘛。</p>
<p>楼观台，蛇告状，蛇会告状吗？那么一个蛇把一个出家人咬着了，那么这个知客就说，啊你们随便咬人的么，不要你们了，你们起单。就这么一句话叫那个蛇起单走。那么第二天，那个蛇多得很啊，爬到桌子下大堂上，那么大堂的县领导说什么意思嘛，赶快骑马到楼观台问问，把知客请来，知客一看都是蛇。</p>
<p>那么一看这个蛇，咬人的这个蛇，是有尾巴有尖，楼观台的蛇，没有尾巴是齐的，两个蛇把一个蛇咬住、咬死，跪到大堂上，楼观台的蛇告状啊，就这么……是不是啊？它不管变什么。那么我心里说，这个，我一想这说么，楼观台这蛇，好一个大蛇在太空里，哎呀，我心里说，你可不敢入到肚里，那呼呼叫地跑到肚里头了，看得清清楚楚，一条大蛇在肚里头，几天吃饭哆嗦害怕，心里说这怎么办？心里说，你能不能消啊？一说心里消，能消不行，它呼变得一点点，哎呀，我说既然你能变小，你不如变一股清风飞走？哎，一股清风飞走了。但你心一动，它就要动，所以我们修道人心不敢动。你心一动，那个鸟不能活。你心里一动，你朝那个鸟一恨的话，那个鸟当时就死。有了功夫，千万你不要恨，你恨谁，谁不能活。大家要记住这个。我们……他不懂，你不要恨他，就这么。</p>
<p><strong>黄剑：</strong>这个说十二经脉，在身体的两侧循行，线路是否同时同一个方向的？十二经脉在身体里走的。</p>
<p><strong>张真人：</strong>是不是一同时动？</p>
<p><strong>黄剑：</strong>十二经脉在身体两侧的循行线路，是不是同时同方向的？有没有交界？十二经脉在身体怎么走的？是不是同时同方向？</p>
<p><strong>张真人：</strong>这一个，也问的正确。你们往往地形容这个炁，炼着的这个炁那个炁。我问你太阳从东出来，那么日出木心为东，月落西下为酉，在这个昼夜十五六的时候，太阳从东边出来，月亮从西边落下，它是不是昼夜循环？另外，到那二十九、三十、初一，没有月亮，没有月亮，月、日相合，那么合了以后又慢慢地离开，昼夜循环，每一个月是昼夜不停的。</p>
<p>我们睡也好，坐也好，你的呼吸停止了吗？人一呼一吸脉行三寸，一昼夜行一个周天。它这个脉每逢子时到什么？子时开天，丑时辟地。那么寅时万物发生，在这个寅时中间，在这个3点到5点这个中间，你下功夫，正是万物发长的时候，我们人身跟天地的日月行动一丝一毫都不差。</p>
<p>你不要注重你的炁。那么，炁昼夜是循环的嘛，你要一控制，你的气血都不平衡了，你把它控制，不当家，往往的人都是用这个，越用越差，气脉不周流了。那么天地行动、日月循环，一丝一毫也不动。那么睡也好，坐也好，你的呼吸并没停止，脉自然动，动在哪儿呢？</p>
<p>你只要掌握了天心，天心就是天上的一个紫微，就是五斗的斗姆，那么五个星，四个星为四大天，中间那个星星就是紫微星，紫微星比斗姆星小得多，斗姆星包括紫微星以外，那是个斗姆。那么周天的气血如同周天的星星是一样，这么明白了吗？我们只要是保持天心不动，昼夜的精神循环，循环到这个时间，它自然而然地接上，你不要注意。</p>
<p><strong>黄剑：</strong>最后一个问题，这个问题写的我都没看懂，他说，天有定数，是否能不能闻道？炼到何处，能不能炼成？已经决定？然后，一刀帮我翻译了一下，就是天命已定，能否改变？就是说，人的命都是有定数的，是吧？那这个我们炼功，能不能改变这个定数？</p>
<p><strong>张真人：</strong>对！我们不能改变的话，山难改性难移，要得移过性，除非是神仙。你修不成神仙，你动不了寿。这个寿是活的，你做的好事多了，能加寿，你做的坏事多了，能减寿。大家知道，哎，大汉是谁呀？大汉国大汉的是谁啊，知道吗？偶然间想不起来了，韩信吗？知道韩信吗？是不是？韩信不是大汉的一个大帅嘛，官封三齐王嘛，他命里该活72，32岁死了，因为他做的有五个短寿的东西。</p>
<p>那么唐朝的罗成，也是该活72，32岁死了，短了四十年。那么这个寿是活的，你做的好事多了，能给你增寿，你做的坏事多了，能减寿。那么要移动寿的话，除非修成神仙。我们现在就是下功夫，就想与阎王爷拼命地干，我们就跟他斗争。我们能斗争过他，我们就不死，我们斗争不过他，那我们的命就由他来。我们要不能移过性、不能移过命的话，我们就不能成神仙。但能修成神仙，就能移寿移命。这个是很简单的，是不是。</p>
<p><strong>黄剑：</strong>好，师父，今天就到这里吧。</p>
<p><strong>张真人：</strong>好吧，好吧，好吧，谢谢大家。</p>
</blockquote>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>   auto.js 精品基础教程 2021最新版 auto.js教程  </title>
    <url>/2021/09/09/cl449bvx60037b4bh8lufecfh/</url>
    <content><![CDATA[<p>set 限制解除 </p>
<p><a href="https://www.csdn.net/"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090252992.png" alt="CSDN首页"></a></p>
<ul>
<li><a href="javascript:void(0)"> 绿化设定</a></li>
<li><a href="https://blog.csdn.net/">博客</a></li>
<li><a href="https://download.csdn.net/">下载</a></li>
<li><a href="https://ask.csdn.net/">问答</a></li>
<li><a href="https://www.csdn.net/c/">社区</a></li>
<li><a href="https://so.csdn.net/marketing/download.html?invitationCode=U23CJF4&from=0802toobar">插件</a></li>
<li><a href="https://ac.csdn.net/?short_code=13271b93">认证</a></li>
</ul>
<p> 搜索</p>
<p><a href="https://passport.csdn.net/account/login">登入</a></p>
<p><a href="https://mall.csdn.net/vip">会员中心 <img src="https://img-home.csdnimg.cn/images/20210831040447.png" alt="img"></a></p>
<p><a href="https://i.csdn.net/#/user-center/collection-list?type=1">收藏</a></p>
<p><a href="https://blink.csdn.net/">动态</a></p>
<p><a href="https://mp.csdn.net/">创作</a></p>
<h1 id="Auto-JS-教程（1）-auto-js-精品基础教程-2021最新版-auto-js教程"><a href="#Auto-JS-教程（1）-auto-js-精品基础教程-2021最新版-auto-js教程" class="headerlink" title="Auto.JS 教程（1）+auto.js 精品基础教程 2021最新版 auto.js教程"></a>Auto.JS 教程（1）+auto.js 精品基础教程 2021最新版 auto.js教程</h1><p><strong>声明：</strong> 本教程基于b站up主-笔青居的视频。传送门：<a href="https://space.bilibili.com/21486893/video">https://space.bilibili.com/21486893/video</a></p>
<p><a href="https://www.bilibili.com/video/BV1HZ4y1c7rW?p=18">https://www.bilibili.com/video/BV1HZ4y1c7rW?p=18</a></p>
<h1 id="Auto-JS"><a href="#Auto-JS" class="headerlink" title="Auto.JS"></a>Auto.JS</h1><p><code>Auto.js</code> 是个基于 <code>JavaScript</code> 语言运行在Android平台上的脚本框架。Auto.js主要工作原理是基于辅助服务<code>AccessibilityService</code>。</p>
<h2 id="功能介绍："><a href="#功能介绍：" class="headerlink" title="功能介绍："></a>功能介绍：</h2><ol>
<li>数据监控：可以监视当前手机的数据。</li>
<li>图片监控：截图获取当前页面信息。</li>
<li>控件操作：模拟操作手机控件。</li>
<li>自动化工作流：编写简单的脚本，完成一系列自动化操作。如：微信/QQ自动点赞，快速抢单等。</li>
<li>定时功能：定时执行某个脚本，来完成定时任务。如：定时打卡签到等。</li>
</ol>
<h2 id="项目介绍："><a href="#项目介绍：" class="headerlink" title="项目介绍："></a>项目介绍：</h2><ul>
<li>项目地址：<a href="https://github.com/hyb1996/Auto.js">https://github.com/hyb1996/Auto.js</a></li>
<li>官方论坛：<a href="https://www.autojs.org/">https://www.autojs.org/</a></li>
<li>在线文档：<a href="https://hyb1996.github.io/AutoJs-Docs/#/">https://hyb1996.github.io/AutoJs-Docs/#/</a></li>
<li>简介：一个支持无障碍服务的Android平台上的Javascript IDE,其发展目标是JsBox和Workflow。</li>
<li>主要功能：由无障碍服务实现的简单易用的自动操作函数</li>
<li>协议：基于Mozilla Public License Version 2.0</li>
</ul>
<p><strong>手机安装使用步骤：</strong></p>
<p>① 开启无障碍服务<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090252282.png" alt="在这里插入图片描述"><br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090252492.png" alt="在这里插入图片描述"><br>② 音量上键停止脚本：当脚本处于无法停止的状态时，使用音量上键强制停止脚本。<br><img src="https://img-blog.csdnimg.cn/20190212152035620.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1FpSHNNaW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>③ 开启悬浮窗：<br><img src="https://img-blog.csdnimg.cn/20190212152445833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1FpSHNNaW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>悬浮窗有4个控件：</strong></p>
<p>1）脚本列表<br>2）自动录制<br>3）<code>布局范围分析</code> 与 <code>布局层次分析</code></p>
<p>4）更多</p>
<p><img src="https://img-blog.csdnimg.cn/20190212152915187.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1FpSHNNaW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><strong>auto的优点：</strong></p>
<p>1）开源:代码开源，可以查到源码。</p>
<p>2）无需root：Android 7.0以上功能基本不需要root。</p>
<p>3）免费。</p>
<p>4）易用：代码自动生成。</p>
<p>5）语言：标准的JS语法。</p>
<p>6）灵活。</p>
<p>7）扩展：提供JS转JAVA桥梁，存在无限多的扩展。</p>
<p><strong>提倡自动动手编写Auto.JS脚本</strong></p>
<p>1）安全：Auto.JS脚本拥有很大的权限，使用他人的脚本可能存在风险。</p>
<p>2）编写简单：JS 脚本嵌套中文，方便阅读和书写。</p>
<p>3）脚本升级：一旦APP版本升级，原脚本可能不使用了。</p>
<p>4）提升自己的编写代码能力和解决问题能力。</p>
<h2 id="PC环境的搭建"><a href="#PC环境的搭建" class="headerlink" title="PC环境的搭建"></a>PC环境的搭建</h2><h4 id="VS-Code-安装"><a href="#VS-Code-安装" class="headerlink" title="VS Code 安装"></a>VS Code 安装</h4><p>VS Code 入门教程：<a href="https://blog.csdn.net/QiHsMing/article/details/87064955">https://blog.csdn.net/QiHsMing/article/details/87064955</a></p>
<p>Visual Studio Code 官方下载地址：<a href="https://code.visualstudio.com/">https://code.visualstudio.com</a> 根据你的电脑平台选择版本下载。<br><img src="https://img-blog.csdnimg.cn/20190212100951299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1FpSHNNaW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>新建项目文件夹，右键点击 <code>Open with Code</code> 在VS Code 中打开。<br><img src="https://img-blog.csdnimg.cn/20190212101417620.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1FpSHNNaW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="安装-AutoJS-插件"><a href="#安装-AutoJS-插件" class="headerlink" title="安装 AutoJS 插件"></a>安装 AutoJS 插件</h4><p>点击 <code>扩展</code> 搜索 <code>Auto.js</code> 或 <code>hyb1996</code> 即可找到Auto.JS插件。<br><img src="https://img-blog.csdnimg.cn/20190212102009209.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1FpSHNNaW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="使用AutoJS插件开发"><a href="#使用AutoJS插件开发" class="headerlink" title="使用AutoJS插件开发"></a>使用AutoJS插件开发</h4><p><strong><code>1.开启AutoJS插件</code></strong></p>
<p>按 Ctrl+Shift+P 或点击”查看”-&gt;”命令面板”可调出命令面板，输入 Auto.js 可以看到几个命令，移动光标到命令Auto.js: Start Server，按回车键执行该命令。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090252899.png" alt="在这里插入图片描述"><br>此时VS Code会在右上角显示”Auto.js server running”，即开启服务成功。<br><img src="https://img-blog.csdnimg.cn/20190212123034551.png" alt="在这里插入图片描述"><br><strong><code>2.连接手机终端</code></strong></p>
<p>将手机连接到电脑启用的Wifi或者同一局域网中。通过命令行ipconfig(或者其他操作系统的相同功能命令)查看电脑的IP地址。在Auto.js的侧拉菜单中启用调试服务，并输入IP地址，等待连接成功。<br><img src="https://img-blog.csdnimg.cn/20190212153240291.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1FpSHNNaW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090252192.png" alt="在这里插入图片描述"><br>一旦连接成功，VS Code 显示:<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090252586.png" alt="在这里插入图片描述"></p>
<p>在电脑上编辑JavaScript文件并通过命令Run或者按键F5在手机上运行。<br><img src="https://img-blog.csdnimg.cn/20190212153659730.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1FpSHNNaW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>手机终端运行结果：<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090252817.png" alt="在这里插入图片描述"></p>
<p><strong><code>3.保存项目到手机终端</code></strong><br>按 Ctrl+Shift+P 或点击”查看”-&gt;”命令面板”可调出命令面板，输入以下命令，会找到已连接手机终端。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  Auto.js:SaveToDevice</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190212154206965.png" alt="在这里插入图片描述"><br>点击已连接手机终端，项目就会保存到已连接手机终端。<br><img src="https://img-blog.csdnimg.cn/20190212154512743.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20190212154531485.png" alt="在这里插入图片描述"></p>
<h4 id="AutoJS插件常用命令"><a href="#AutoJS插件常用命令" class="headerlink" title="AutoJS插件常用命令"></a>AutoJS插件常用命令</h4><p>按 Ctrl+Shift+P 或点击”查看”-&gt;”命令面板”可调出命令面板，输入 Auto.js 可以看到几个命令：</p>
<p><code>Start Server</code>: 启动插件服务。之后在确保手机和电脑在同一区域网的情况下，在Auto.js的侧拉菜单中使用连接电脑功能连接。<br><code>Stop Server</code>: 停止插件服务。<br><code>Run</code> 运行当前编辑器的脚本。如果有多个设备连接，则在所有设备运行。<br><code>Rerun</code> 停止当前文件对应的脚本并重新运行。如果有多个设备连接，则在所有设备重新运行。<br><code>Stop</code> 停止当前文件对应的脚本。如果有多个设备连接，则在所有设备停止。<br><code>StopAll</code> 停止所有正在运行的脚本。如果有多个设备连接，则在所有设备运行所有脚本。<br><code>Save</code> 保存当前文件到手机的脚本默认目录（文件名会加上前缀remote)。如果有多个设备连接，则在所有设备保存。<br><code>RunOnDevice</code>: 弹出设备菜单并在指定设备运行脚本。<br><code>SaveToDevice:</code> 弹出设备菜单并在指定设备保存脚本。<br><code>New Project</code>（新建项目）：选择一个空文件夹（或者在文件管理器中新建一个空文件夹），将会自动创建一个项目<br><code>Run Project</code>（运行项目）：运行一个项目，需要Auto.js 4.0.4Alpha5以上支持<br><code>Save Project</code>（保存项目）：保存一个项目，需要Auto.js 4.0.4Alpha5以上支持</p>
<p>以上命令一些有对应的快捷键，参照命令后面的说明即可。</p>
<p><strong>简单脚本实例：</strong> 实现微信朋友圈点赞</p>
<p><strong>步骤：</strong></p>
<ol>
<li>找到评论按钮</li>
<li>点击评论按钮</li>
<li>找到点赞按钮</li>
<li>点击点赞按钮</li>
</ol>
<p>代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">评论=desc(&quot;评论&quot;).findOne();</span><br><span class="line">log(评论);</span><br><span class="line">评论.click();</span><br><span class="line">sleep(1000);</span><br><span class="line">赞 = text(&quot;赞&quot;).findOne();</span><br><span class="line">赞的父控件 = 赞.parent();</span><br><span class="line">赞的父控件.click();	</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>  # [教程]免费域名注册及域名解析(freenom&amp;cloudflare)   </title>
    <url>/2021/10/24/cl449bvx70039b4bh2ekxh74y/</url>
    <content><![CDATA[<p><a href="https://zhujitips.com/328#content">Skip to content</a></p>
<p><a href="https://zhujitips.com/">主机贴士</a></p>
<p>搬瓦工|BandwagonHost VPS|Vps|主机推荐</p>
<p><a href="https://t.me/BWH1NET">加入Telegram群组</a><a href="https://zhujitips.com/about">关于本站</a><a href="https://zhujitips.com/category/%E6%95%99%E7%A8%8B">教程</a>[<a href="https://zhujitips.com/841">VPS]推荐</a></p>
<h1 id="教程-免费域名注册及域名解析-freenom-amp-cloudflare"><a href="#教程-免费域名注册及域名解析-freenom-amp-cloudflare" class="headerlink" title="[教程]免费域名注册及域名解析(freenom&amp;cloudflare)"></a>[教程]免费域名注册及域名解析(freenom&amp;cloudflare)</h1><p>4月17日更新• <a href="https://zhujitips.com/tag/cloudflare%E8%A7%A3%E6%9E%90">cloudflare解析</a> • <a href="https://zhujitips.com/tag/freenom%E5%85%8D%E8%B4%B9%E5%9F%9F%E5%90%8D">freenom免费域名</a>•<a href="https://zhujitips.com/category/%E6%95%99%E7%A8%8B">教程</a>•阅读:13,621次</p>
<blockquote>
<p>看到有群友不会搞域名注册和域名解析的，特写了一份教程送上，希望有所帮助。</p>
<p>本教程用到3个网站：</p>
<p>1.免费域名注册网站<a href="https://www.freenom.com/">https://www.freenom.com</a></p>
<p>2.免费域名解析CDN网站<a href="https://www.cloudflare.com/">https://www.cloudflare.com</a></p>
<p>3.google邮箱（你也可以用别的邮箱，建议使用google邮箱）</p>
<p>备注：申请的域名，一定要搞个二级域名，解析到一个网站，反正大家不缺vps，搭建一个网站指向好。域名没有网站指向的话，会被回收。切记切记！</p>
<p>比如申请的域名是abc123.tk,那么在cf域名解析的时候，一定要指向个二级域名给实际网站，建议使用常规的www，做个A记录：www -&gt; ip:你搭建的网站ip，这里有教你怎么<a href="https://zhujitips.com/340">搞个自己的网站</a>。博主自2018.1月申请的免费域名用到现在还正常，没被回收。祝好运！</p>
</blockquote>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/freenom/01.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006751.png" alt="img"></p>
<p>输入你希望的域名，如abc123.tk，那么在上面的红框里输入abc123就行</p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/freenom/03.png" alt="img"></p>
<p>它提供了蛮多免费域名后缀，自己选吧，点击现在获取。</p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/freenom/04.png" alt="img"></p>
<p>点击完成</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006494.png" alt="img"></p>
<p>点击红框里，选择12个月的免费，点击继续。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006163.png" alt="img"></p>
<p>输入你的邮箱，建议google邮箱，点击验证邮箱。</p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/freenom/07.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006605.png" alt="img"></p>
<p>截图的时候搞错了，不用点击箭头所指。<br>登录你的邮箱，查看freenom给你发来的验证邮件。其他邮箱不一定在收件箱，没有的话，去垃圾箱看看。</p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/freenom/09.png" alt="img"></p>
<p>点击箭头所指</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006705.png" alt="img"></p>
<p>输入你的一些信息，继续往下滚动，填写</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006540.png" alt="img"></p>
<p>勾选，并完成</p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/freenom/12.png" alt="img"></p>
<p>点击进入管理后台登录页面。</p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/freenom/13.png" alt="img"></p>
<p>输入你的邮箱及相应密码，点击LOGIN登录。</p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/freenom/14.png" alt="img"></p>
<p>在“服务”下拉菜单下“我的域名”</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006449.png" alt="img"></p>
<p>点击“管理域名”</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006218.png" alt="img"></p>
<p>点击如图所示，修改域名dns</p>
<p>切换自定义服务，输入cloudfrare的免费域名服务器地址</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006895.png" alt="img"></p>
<p>（注:我这里按照惯性，直接输入了我原来cf账号上看的地址，结果发现今天做教程时，cf给了我新的域名服务器地址，最后有做修改）</p>
<p>查看状态，激活状态，freenom免费域名部分结束。</p>
<hr>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/cf/01.png" alt="img"></p>
<p>打开<a href="https://www.cloudfrare.com;后期登陆使用谷歌的图片验证接口需要墙/">https://www.cloudfrare.com；后期登陆使用谷歌的图片验证接口需要墙</a></p>
<p>修改了语言，但是我之后看到的还是英文，各位看官，随意</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006496.png" alt="img"></p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/cf/03.png" alt="img"></p>
<p>点击注册</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006665.png" alt="img"></p>
<p>输入你的邮箱，建议还是刚搞freenom时用的google邮箱，点击创建账号</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006700.png" alt="img"></p>
<p>到你的邮箱中，找到cf发来的验证邮件，并完成验证</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006095.png" alt="img"></p>
<p>已完成验证，点击继续进入仪表盘</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006221.png" alt="img"></p>
<p>点击增加站点</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006455.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006691.png" alt="img"></p>
<p>输入刚才freenom注册的域名，如abc123.tk</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006122.png" alt="img"></p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/cf/11.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006235.png" alt="img"></p>
<p>选择免费方案<br>点击确认</p>
<p>输入你要的二级域名，这里只要前缀就好，如：</p>
<p>你希望hk.abc123.tk解析到你的vps，那么</p>
<p>第一个红框里输入hk，第二个红框里输入你的vps ip地址</p>
<p>如果你是准备搞nat ddns，那么</p>
<p>第一个红框里输入hk，第二个红框里建议输入127.0.0.1，方便查看变动（也可以随意输入）</p>
<p>后面的橘色云朵，请点击一下，让他变灰色，表示不使用cdn，然后点击增加记录</p>
<hr>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006078.png" alt="img"></p>
<p><img src="https://zhujitips.com/wp-content/uploads/2018/11/cf/14.png" alt="img"></p>
<p>这就是前文所说的，惯性添加了域名解析服务器，结果发现，今天教程是，cf给了我新的解析服务器，那么就更新修改它吧。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240006457.png" alt="img"></p>
<p>回到freenom网站，登录相关页面,不细说了，不记得的话，前文找</p>
<p>过了几分钟后，收到cloudflare发来邮件，说更新成功。</p>
<hr>
<p>看nat ddns怎么搞的，请点击<a href="https://zhujitips.com/299">传送门</a></p>
<blockquote>
<p>看我写的这么辛苦，请收藏一下本站吧。主机贴士<a href="https://zhujitips.com/">https://zhujitips.com</a></p>
<p>欢迎加入<a href="https://t.me/BWH1NET">TG群讨论</a></p>
<p>转帖，请带上本尾巴。谢谢！</p>
<p>教程到此结束！</p>
</blockquote>
<p><a href="https://zhujitips.com/category/%E6%95%99%E7%A8%8B">教程</a></p>
<p> <a href="https://zhujitips.com/tag/cloudflare%E8%A7%A3%E6%9E%90">cloudflare解析</a>, <a href="https://zhujitips.com/tag/freenom%E5%85%8D%E8%B4%B9%E5%9F%9F%E5%90%8D">freenom免费域名</a></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>新电脑还原hexo博客</title>
    <url>/2021/11/10/cl449bvx8003cb4bhb7s92vmf/</url>
    <content><![CDATA[<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="2-下载hexo-backup-或者直接从旧电脑拷贝"><a href="#2-下载hexo-backup-或者直接从旧电脑拷贝" class="headerlink" title="2.下载hexo backup 或者直接从旧电脑拷贝"></a>2.下载hexo backup 或者直接从旧电脑拷贝</h1><h1 id="-1"><a href="#-1" class="headerlink" title=""></a></h1><p>为了省事，我建议删除node_modules文件夹，然后把剩余的文件全部备份。<br><img src="https://img-blog.csdnimg.cn/20210623220834335.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2NjY3MTcw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="-2"><a href="#-2" class="headerlink" title=""></a></h3><p> git clone -b backup <a href="mailto:&#x67;&#x69;&#116;&#64;&#103;&#105;&#x74;&#46;&#122;&#104;&#x6c;&#x68;&#x36;&#46;&#x63;&#110;">&#x67;&#x69;&#116;&#64;&#103;&#105;&#x74;&#46;&#122;&#104;&#x6c;&#x68;&#x36;&#46;&#x63;&#110;</a>:****/*****.github.io.git</p>
<p><img src="https://img-blog.csdnimg.cn/20210623223210422.png" alt="在这里插入图片描述"><br>执行完了以后看一下你的文件夹里应该已经出现node_modules文件夹了。</p>
<h2 id="克隆backup–-gt-然后删除-git文件夹"><a href="#克隆backup–-gt-然后删除-git文件夹" class="headerlink" title="克隆backup–&gt; 然后删除  .git文件夹"></a>克隆backup–&gt; 然后删除  .git文件夹</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">克隆backup--&gt; 然后删除  .git文件夹</span><br><span class="line"><span class="built_in">cmd</span>管理员中进行操作</span><br><span class="line">npm install &amp; npm install hexo-deployer-git --save &amp; npm install hexo-git-backup --save&amp;npm remove hexo-renderer-stylus&amp;npm add hexo-renderer-stylus </span><br><span class="line"></span><br><span class="line">#deployer或许需要更新</span><br><span class="line">npm i hexo-deployer-git@<span class="number">3</span>.<span class="number">0</span>.<span class="number">0</span></span><br><span class="line"></span><br><span class="line">修改根目录_config，替换主题，配置备份与还原仓库</span><br><span class="line"></span><br><span class="line">粘贴<span class="built_in">md</span>文件到_post</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> 非 管理员 中进行操作</span><br><span class="line">查看</span><br><span class="line">hexo cl &amp; hexo g &amp; hexo s</span><br><span class="line">发布与备份</span><br><span class="line">hexo cl &amp; hexo g &amp; hexo d &amp; hexo b &amp; hexo s</span><br><span class="line"></span><br><span class="line">ok 解决了哦</span><br><span class="line">ok 后面可以不用看啦</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">命令调试</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line">npx cross-env NODE_OPTIONS=&quot;--trace-warnings&quot; hexo s</span><br><span class="line">npx cross-env NODE_OPTIONS=&quot;--trace-warnings&quot; hexo g</span><br><span class="line">npx cross-env NODE_OPTIONS=&quot;--trace-warnings&quot; hexo cl</span><br><span class="line">npx cross-env NODE_OPTIONS=&quot;--trace-warnings&quot; hexo d</span><br><span class="line">哪个有问题就重装哪个</span><br><span class="line">&gt; 刚写完准备睡觉，发现 `hexo s` 不报 warning 了，但是启动后又报了 😶</span><br><span class="line">使用上边刚说的那个命令，发现这其实是 [nib@<span class="number">1</span>.<span class="number">1</span>.<span class="number">2</span>](https://www.npmjs.com/package/nib) 这个包里的 stylus 引起的问题，nib 里的 dependencies 如下：</span><br><span class="line">```</span><br><span class="line">&#123;</span><br><span class="line">  &quot;stylus&quot;: &quot;<span class="number">0</span>.<span class="number">54</span>.<span class="number">5</span>&quot;</span><br><span class="line">&#125;</span><br><span class="line">```</span><br><span class="line">已经有人给 nib 提 issue 了，但看它最后一次更新已经是 <span class="number">4</span> years ago 了，估计是指望不上它更新了，那我们自己来解决吧！</span><br><span class="line">在 package.json 里增加 `resolutions` 来覆盖版本定义</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line">&quot;resolutions&quot;: &#123;</span><br><span class="line">  &quot;stylus&quot;: &quot;^<span class="number">0</span>.<span class="number">54</span>.<span class="number">8</span>&quot;</span><br><span class="line">&#125;</span><br><span class="line">然后重新 `yarn install` 一下就好了。</span><br></pre></td></tr></table></figure>



<h2 id="bat脚本启动git-bash窗口，并执行命令"><a href="#bat脚本启动git-bash窗口，并执行命令" class="headerlink" title="bat脚本启动git bash窗口，并执行命令-"></a>bat脚本启动git bash窗口，并执行命令-</h2><p>一键清理生成发布备份+</p>
<p>bash在gitbash执行日志不乱码+</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">start &quot;&quot; &quot;D:\MySoftware\DEV\VersionCtrl\Git\bin\sh.exe&quot; --login -i -l -c &#x27;bash bolg_backup.sh&#x27;           </span><br></pre></td></tr></table></figure>

<p>​                                                                                             </p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> OFF</span><br><span class="line">::重装系统后注意两处盘符的修改</span><br><span class="line"><span class="function">G:</span></span><br><span class="line"><span class="function"><span class="title">cd</span> <span class="title">G</span>:\<span class="title">MuyanGitBlog</span>\<span class="title">MuyanGit</span>\杂项\博客备份\</span></span><br><span class="line"><span class="function"><span class="title">start</span> <span class="title">D</span>:\<span class="title">MySoftware</span>\<span class="title">DEV</span>\<span class="title">VersionCtrl</span>\<span class="title">Git</span>\<span class="title">git</span>-<span class="title">bash.exe</span> -<span class="title">c</span> &quot;<span class="title">bash</span> <span class="title">bolg_backup.sh</span>&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#重装系统后注意两处盘符的修改</span><br><span class="line">##exec <span class="number">1</span>&gt;&gt;G:\MuyanGitBlog\MuyanGit\杂项\博客备份\log.txt <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">##<span class="built_in">cd</span> G:/MuyanGitBlog/MuyanGit </span><br><span class="line">exec <span class="number">3</span>&gt;&amp;<span class="number">1</span> <span class="number">4</span>&gt;&amp;<span class="number">2</span></span><br><span class="line">trap &#x27;exec <span class="number">2</span>&gt;&amp;<span class="number">4</span> <span class="number">1</span>&gt;&amp;<span class="number">3</span>&#x27; <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line">exec <span class="number">1</span>&gt;&gt;log.txt <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"># Everything below will go to the file &#x27;log.txt&#x27;:</span><br><span class="line"></span><br><span class="line"># 执行的命令主体</span><br><span class="line"><span class="built_in">echo</span> 开始运行备份命令—————————————— &amp;&amp; <span class="built_in">echo</span> `<span class="built_in">date</span>`······备份进行中 &amp;&amp; hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; hexo b &amp;&amp; <span class="built_in">echo</span> MuyanGit博客备份 &amp;&amp; <span class="built_in">echo</span> 结束运行备份命令—————————————— &amp;&amp; <span class="built_in">echo</span> `<span class="built_in">date</span>`······备份结束中</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211111032033277.png" alt="image-20211111032033277"></p>
<p>插件解释：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">#发布插件</span><br><span class="line"> npm install hexo-deployer-git --save </span><br><span class="line">#备份插件</span><br><span class="line">npm install hexo-git-backup --save</span><br><span class="line">npm install lineno --save</span><br></pre></td></tr></table></figure>





<p>下载完以后，你就可以在新电脑上正常使用了。写一个新文章，试试<br>hexo clean</p>
<p>git check</p>
<p>hexo d<br>打开博客，你的文章就更新啦。</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">然后进入文件，打开gitbash或者<span class="built_in">cmd</span>，安装依赖（就是把你之前删除的node_modules文件装回来）</span><br><span class="line"><span class="built_in">cd</span> backup </span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm remove hexo-renderer-stylus &amp; npm add hexo-renderer-stylus</span><br><span class="line"></span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">下载完以后，你就可以在新电脑上正常使用了。写一个新文章，试试</span><br><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br><span class="line">打开博客，你的文章就更新啦。</span><br><span class="line"></span><br><span class="line">若出现问题解决 Hexo 在使用 Node.js <span class="number">14</span> 时的 Accessing non-existent property &#x27;xxx&#x27; of module exports inside ···</span><br><span class="line">npm remove hexo-renderer-stylus</span><br><span class="line">npm add hexo-renderer-stylus</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">更新：npm update ****</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="2-解决-Hexo-在使用-Node-js-14-时的-Accessing-non-existent-property-‘xxx’-of-module-exports-inside-circular-dependency-问题-–-gt-https-www-haoyizebo-com-posts-710984d0"><a href="#2-解决-Hexo-在使用-Node-js-14-时的-Accessing-non-existent-property-‘xxx’-of-module-exports-inside-circular-dependency-问题-–-gt-https-www-haoyizebo-com-posts-710984d0" class="headerlink" title="2`解决 Hexo 在使用 Node.js 14 时的 Accessing non-existent property ‘xxx’ of module exports inside circular dependency 问题 _–&gt; https://www.haoyizebo.com/posts/710984d0/"></a>2`解决 Hexo 在使用 Node.js 14 时的 Accessing non-existent property ‘xxx’ of module exports inside circular dependency 问题 _–&gt; <a href="https://www.haoyizebo.com/posts/710984d0/">https://www.haoyizebo.com/posts/710984d0/</a></h2><p>今天把博客迁移到了新域名，顺便把 <a href="https://github.com/nodejs/node">node.js</a>、<a href="https://hexo.io/zh-cn/">Hexo</a> 和主题都升了下级。</p>
<p>当习惯的运行 <code>hexo s</code> 命令时，发现多了些 warnings，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo -s                              </span><br><span class="line">(node:87224) Warning: Accessing non-existent property &#x27;lineno&#x27; of module exports inside circular dependency</span><br><span class="line">(Use `node --trace-warnings ...` to show where the warning was created)</span><br><span class="line">(node:87224) Warning: Accessing non-existent property &#x27;column&#x27; of module exports inside circular dependency</span><br><span class="line">(node:87224) Warning: Accessing non-existent property &#x27;filename&#x27; of module exports inside circular dependency</span><br><span class="line">(node:87224) Warning: Accessing non-existent property &#x27;lineno&#x27; of module exports inside circular dependency</span><br><span class="line">(node:87224) Warning: Accessing non-existent property &#x27;column&#x27; of module exports inside circular dependency</span><br><span class="line">(node:87224) Warning: Accessing non-existent property &#x27;filename&#x27; of module exports inside circular dependency</span><br><span class="line">Copy</span><br></pre></td></tr></table></figure>

<p>说实话我对 node.js 没啥了解，但是单词还是认识几个，看起来像是循环依赖的问题。（习惯性想起了一道面试题：Spring 是如何解决循环依赖的？）</p>
<p>这些 warnings 其实对 Hexo 程序运行没啥影响，只是看起来不舒服罢了。</p>
<p>但出于好奇和洁癖，就去 google 了一下。这里来总结一下原因及解决方案。</p>
<p>原因其实就是 <a href="https://github.com/nodejs/node/pull/29935">#29935</a> 这个 pr 被合到 node.js 14.0.0 里边了，所以从 node.js 14 开始，这个问题就在网上不断被讨论了。</p>
<p>大家的解决办法也是五花八门，其中一个比较有代表性的是把 node 降级，降到 12 就不会报这个 warning 了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">brew uninstall node</span><br><span class="line">brew install node@12</span><br><span class="line">brew link --overwrite --force node@12</span><br><span class="line">Copy</span><br></pre></td></tr></table></figure>

<p>但这样解决问题显然不是我的风格，继续翻 Github 上的 issues，发现<strong>具体到 Hexo 这里的 warning</strong>是由于 <a href="https://github.com/stylus/stylus">stylus</a> 导致的，幸运的是 3 天前 stylus 在 0.54.8 版本修复了这个问题（见 pr <a href="https://github.com/stylus/stylus/pull/2538">#2538</a> ）。</p>
<p>所以对于 Hexo 用户来说，重新装一下 <code>hexo-renderer-stylus</code> 就可以愉快的 <code>hexo s</code> 了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm remove hexo-renderer-stylus</span><br><span class="line">npm add hexo-renderer-stylus</span><br><span class="line">Copy</span><br></pre></td></tr></table></figure>

<p>至于其他的 package 导致的 warnings，可以使用如下方式来看看具体是哪个 package 导致的</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npx cross-env NODE_OPTIONS=&quot;--trace-warnings&quot; hexo s</span><br><span class="line">npx cross-env NODE_OPTIONS=&quot;--trace-warnings&quot; hexo g</span><br><span class="line">npx cross-env NODE_OPTIONS=&quot;--trace-warnings&quot; hexo cl</span><br><span class="line">npx cross-env NODE_OPTIONS=&quot;--trace-warnings&quot; hexo d</span><br></pre></td></tr></table></figure>

<p>UPDATE，接昨天说的：</p>
<blockquote>
<p>刚写完准备睡觉，发现 <code>hexo s</code> 不报 warning 了，但是启动后又报了 😶</p>
</blockquote>
<p>使用上边刚说的那个命令，发现这其实是 <a href="https://www.npmjs.com/package/nib">nib@1.1.2</a> 这个包里的 stylus 引起的问题，nib 里的 dependencies 如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;stylus&quot;: &quot;0.54.5&quot;</span><br><span class="line">&#125;</span><br><span class="line">Copy</span><br></pre></td></tr></table></figure>

<p>已经有人给 nib 提 issue 了，但看它最后一次更新已经是 4 years ago 了，估计是指望不上它更新了，那我们自己来解决吧！</p>
<p>在 package.json 里增加 <code>resolutions</code> 来覆盖版本定义</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;resolutions&quot;: &#123;</span><br><span class="line">  &quot;stylus&quot;: &quot;^0.54.8&quot;</span><br><span class="line">&#125;</span><br><span class="line">Copy</span><br></pre></td></tr></table></figure>

<p>然后重新 <code>yarn install</code> 一下就好了。</p>
<p>至此 hexo 就可以和 node.js 14 开始愉快的旅程了~</p>
<p>参考：</p>
<ul>
<li><a href="https://github.com/nodejs/node/pull/29935">module: warn on using unfinished circular dependency</a></li>
<li><a href="https://github.com/stylus/stylus/pull/2538">Fix for Node v14 ‘Accessing non-existent property’ errors #2538</a></li>
<li><a href="https://github.com/stylus/stylus/issues/2534">NodeJS 14 warnings #2534</a></li>
<li><a href="https://github.com/hexojs/hexo/issues/4257">Warning: Accessing non-existent property ‘lineno’ of module exports inside circular dependency #4257</a></li>
<li><a href="https://classic.yarnpkg.com/zh-Hans/docs/selective-version-resolutions/">选择性依赖项解决</a></li>
</ul>
<h1 id="备份·1·-hexo-deployer-git-–save·"><a href="#备份·1·-hexo-deployer-git-–save·" class="headerlink" title="备份·1· hexo-deployer-git –save·"></a>备份·1· hexo-deployer-git –save·</h1><p>fatal: ‘github’ does not appear to be a git repository<br>fatal: Could not read from remote repository.</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108171017499.png" alt="image-20211108171017499"></p>
<h2 id="config-yml–-gt-github修改为分支名-Origin"><a href="#config-yml–-gt-github修改为分支名-Origin" class="headerlink" title="config.yml–&gt;  github修改为分支名****Origin          "></a>config.yml–&gt; <font color='red'> github修改为分支名****Origin          </font></h2><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108171427694.png" alt="image-20211108171427694"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108171309922.png" alt="image-20211108171309922"></p>
<h1 id="备份·3·"><a href="#备份·3·" class="headerlink" title="备份·3·"></a>备份·3·</h1><h2 id="1-go-get或git-clone时-报git-github-com-Permission-denied-publickey-解决办法"><a href="#1-go-get或git-clone时-报git-github-com-Permission-denied-publickey-解决办法" class="headerlink" title="1`go get或git clone时 报git@github.com: Permission denied (publickey) 解决办法"></a>1`<a href="https://www.cnblogs.com/l199616j/p/15401331.html">go get或git clone时 报git@github.com: Permission denied (publickey) 解决办法</a></h2><h3 id="一、现象"><a href="#一、现象" class="headerlink" title="一、现象"></a>一、现象</h3><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211013112056228-332634395.png" alt="img"></p>
<h3 id="二、原因分析"><a href="#二、原因分析" class="headerlink" title="二、原因分析"></a>二、原因分析</h3><p>Permission denied (publickey) 没有权限的publickey ，出现这错误一般是以下两种原因</p>
<ul>
<li><ul>
<li>客户端与服务端未生成 ssh key</li>
<li>客户端与服务端的ssh key不匹配</li>
</ul>
</li>
</ul>
<h3 id="三、解决办法"><a href="#三、解决办法" class="headerlink" title="三、解决办法"></a>三、解决办法</h3><p>我们新生成一个ssh key就可以了</p>
<p>依次执行如下命令</p>
<p><strong>1、打开git bash，</strong></p>
<p>右击桌面空白处，选择【git bash】</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211011200903646-1300938935.png" alt="img"></p>
<p> <strong>2、进入ssh 路径下</strong></p>
<blockquote>
<p>cd ~/.ssh</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211012154424521-1519865131.png" alt="img"></p>
<p><strong>3、生成新的ssh key</strong></p>
<p>输入如下命令，<a href="mailto:&#x79;&#111;&#x75;&#114;&#101;&#109;&#x61;&#105;&#x6c;&#64;&#101;&#120;&#97;&#x6d;&#112;&#108;&#x65;&#x2e;&#x63;&#111;&#x6d;">&#x79;&#111;&#x75;&#114;&#101;&#109;&#x61;&#105;&#x6c;&#64;&#101;&#120;&#97;&#x6d;&#112;&#108;&#x65;&#x2e;&#x63;&#111;&#x6d;</a>改为自己的邮箱</p>
<blockquote>
<p>ssh-keygen -t rsa -C “<a href="mailto:&#x79;&#111;&#x75;&#x72;&#101;&#x6d;&#x61;&#105;&#108;&#x40;&#101;&#x78;&#97;&#x6d;&#x70;&#108;&#x65;&#x2e;&#99;&#x6f;&#109;">&#x79;&#111;&#x75;&#x72;&#101;&#x6d;&#x61;&#105;&#108;&#x40;&#101;&#x78;&#97;&#x6d;&#x70;&#108;&#x65;&#x2e;&#99;&#x6f;&#109;</a>“</p>
</blockquote>
<p>然后回车，途中会让你选择生成的ssh key的存放目录和输入密码，不用管，直接回车。</p>
<p>这里有个坑，需要把原来生成的ssh key文件删除，否则不会生成新key的时候，会报文件已存在而导致无法生成新的key。一般ssh key的文件路径都是【C:\Users\username.ssh\id_rsa】，其中username是你这个用户的用户名。如果没找到，可以先执行如下命令，回车后，系统会告诉你路径。</p>
<p><img src="https://img2020.cnblogs.com/blog/1258817/202110/1258817-20211012154600987-548165432.png" alt="img"></p>
<p><strong>4、执行命令</strong></p>
<blockquote>
<p>ssh -v <a href="mailto:&#103;&#x69;&#x74;&#x40;&#x67;&#x69;&#x74;&#x68;&#x75;&#x62;&#x2e;&#99;&#x6f;&#109;">&#103;&#x69;&#x74;&#x40;&#x67;&#x69;&#x74;&#x68;&#x75;&#x62;&#x2e;&#99;&#x6f;&#109;</a></p>
</blockquote>
<p>最后会出现</p>
<p><a href="mailto:&#103;&#105;&#116;&#64;&#103;&#x69;&#116;&#104;&#x75;&#x62;&#x2e;&#x63;&#x6f;&#x6d;">&#103;&#105;&#116;&#64;&#103;&#x69;&#116;&#104;&#x75;&#x62;&#x2e;&#x63;&#x6f;&#x6d;</a>: Permission denied (publickey).</p>
<p><strong>5、执行命令</strong></p>
<blockquote>
<p>ssh-agent -s</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211013100253622-2065206294.png" alt="img"></p>
<p>知识点：</p>
<p>ssh-agent的角色就是帮忙存储、查找并发送对应的指纹而已，也就是说它是一个连接的转发人，扮演的是一个代理的角色。</p>
<p>使用ssh-agent后，可以通过ssh-add命令向ssh-agent注册本机的私钥，ssh-agent会自动推导出这个私钥的指纹(实际上是ssh-add计算的)保存在自己的小本本里(内存)，以后只要ssh连接某主机(某用户)，将自动转发给ssh-agent，ssh-agent将自动从它的小本本里查找私钥的指纹并将其发送给服务端(sshd端)。如此一来，ssh客户端就无需再指定使用哪个私钥文件去连接。</p>
<p><strong>6、将新生成的ssh key添加到ssh-agent</strong></p>
<blockquote>
<p>ssh-add ~/.ssh/id_rsa</p>
</blockquote>
<p>坑：</p>
<p>如果这时出现【Could not open a connection to your authentication agent.】</p>
<p>则先执行下【eval <code>ssh-agent -s</code>】，再执行【ssh-add ~/.ssh/id_rsa】就可以了</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211013101302943-2117794664.png" alt="img"></p>
<p><strong>7、创建ssh key</strong></p>
<p>打开刚刚生成的id_rsa.pub文件，复制里面的内容</p>
<p>进入你的github账号：<a href="https://github.com/settings/keys">https://github.com/settings/keys</a></p>
<p>settings→SSH and GPG keys→new SSH key，</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211013103644878-1188582949.png" alt="img"></p>
<p>title随便取一个名字，然后将id_rsa.pub里的内容复制到Key中，完成后Add SSH Key。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211013103719636-1728940513.png" alt="img"></p>
<p> 坑：</p>
<p>如果添加key失败，提示【Key is invalid. You must supply a key in OpenSSH public key format】格式错误。</p>
<p>则在bash下执行命令【cat id_rsa.pub】然后复制key，再去github上添加</p>
<p><strong><img src="https://img2020.cnblogs.com/blog/1258817/202110/1258817-20211013103837902-1255477911.png" alt="img"></strong></p>
<p> <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211013103955999-1772622213.png" alt="img"></p>
<p> <strong>8、验证</strong></p>
<blockquote>
<p>ssh <a href="mailto:&#103;&#105;&#x74;&#64;&#x67;&#x69;&#116;&#104;&#117;&#x62;&#x2e;&#99;&#111;&#109;">&#103;&#105;&#x74;&#64;&#x67;&#x69;&#116;&#104;&#117;&#x62;&#x2e;&#99;&#111;&#109;</a></p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211013104221360-367976052.png" alt="img"></p>
<p>成功了</p>
<p><strong>9、再次执行git get，成功了</strong></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/1258817-20211013111829854-1740622999.png" alt="img"></p>
<h4 id="重要：第一次使用gitbash提交哦-方便输入私人口令来建立连接"><a href="#重要：第一次使用gitbash提交哦-方便输入私人口令来建立连接" class="headerlink" title="重要：第一次使用gitbash提交哦-方便输入私人口令来建立连接"></a>重要：第一次使用gitbash提交哦-方便输入私人口令来建立连接</h4><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108192850340.png" alt="image-20211108192850340"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108192643051.png" alt="image-20211108192643051"></p>
<p>备份4·</p>
<p>使用代理</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在开启shadowsocks的前提下，手动配置git的代理。git客户端输入如下两个命令就可以了。git config --global http.proxy http://127.0.0.1:1080git config --global https.proxy http://127.0.0.1:1080http://也可以改成sockets5://,但是区别在于：socks5不支持通过pubkey免密登录github，每次提交代码只能输入用户名和密码。http可以支持免密登录。取消代理：git config --global --unset http.proxy git config --global --unset https.proxy 其实方案一和方案二是同一种方法，不过方案二更加具体一点罢了，大部分问题都可以用方案二解决，当方案二无效时，考虑使用方案一。</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108200442565.png" alt="image-20211108200442565"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108200222632.png" alt="image-20211108200222632"></p>
<p>最近换电脑了。今晚有空正好把我的hexo搬过来了，在这里分享一下换电脑以后如何转移hexo。</p>
<p><strong>我们要知道</strong>，在我们的hexo博客文件中有一个.gitignore，这个文件就是在你同步的时候不把某些文件上传到github上，所以我们直接从github下拉文件到新电脑是行不通的。</p>
<h1 id="1-git安装–-gt-https-blog-csdn-net-qq-36667170-article-details-118163563"><a href="#1-git安装–-gt-https-blog-csdn-net-qq-36667170-article-details-118163563" class="headerlink" title="1.git安装–&gt; https://blog.csdn.net/qq_36667170/article/details/118163563"></a>1.git安装–&gt; <a href="https://blog.csdn.net/qq_36667170/article/details/118163563">https://blog.csdn.net/qq_36667170/article/details/118163563</a></h1><p>为了省事，我建议删除node_modules文件夹，然后把剩余的文件全部备份。<br><img src="https://img-blog.csdnimg.cn/20210623220834335.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2NjY3MTcw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="2-新电脑准备工作"><a href="#2-新电脑准备工作" class="headerlink" title="2.新电脑准备工作"></a>2.新电脑准备工作</h3><h4 id="2-1-准备好git"><a href="#2-1-准备好git" class="headerlink" title="2.1 准备好git"></a>2.1 准备好git</h4><p>git下载链接：<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></p>
<p>安装：一路右键安装</p>
<p>打开gitbash设置用户，注意这个不是登录，是给你的电脑设置一个用户，等你上传的时候，告诉远程仓库是谁上传的而已。</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;你的名字&quot;（注意前边是“- -global”，有两个横线）git config --global user.email &quot;你的邮箱&quot;执行：ssh-keygen -t rsa -C &quot;yourmail@<span class="number">163</span>.com&quot; 敲四下，使用默认的名称 rsa_id或者ssh-keygen -t rsa -f C:/Users/asus/.ssh/随便名字_id_rsa -C &quot;yourmail@xxx.com&quot; 敲三下，使用自定义名称。将生成好的 .pub 文件内容添加到码云的个人设 =》SSH公钥打开 `<span class="built_in">cmd</span>` ，输入命令，查看git版本：git --version### 二、查看是否配置了git用户名和邮箱<span class="number">1</span>. 查看用户名git config user.name1. 查看用户邮箱git config user.email如果没有配置，那么需要配置用户名和邮箱：<span class="number">1</span>. 配置用户名：git config --global user.name &quot;xxx&quot;<span class="number">1</span>. 配置用户邮箱git config --global user.email &quot;xxx&quot;#### <span class="number">2</span>、查看 ssh文件是否配置成功ssh -T git@github.com输出： Hi danygitgit! You&#x27;ve successfully authenticated, but GitHub does <span class="keyword">not</span> provide shell access.```  恭喜你，你的设置已经成功了。### 六、修改git的remote url  如果之前添加的是 `HTTPS` 协议的github仓库地址，那么每次push或者pull仍然需要密码，所以，我们需要将其修改为 `ssh` 协议的，这样，就不需要这么麻烦了。#### <span class="number">1</span>、查看当前的 remote url  首先进入本地仓库，右键 -&gt; `Git Bash Here` git remote -v复制代码输出： origin https://github.com/danygitgit/document-library.git (fetch)输出： origin https://github.com/danygitgit/document-library.git (push)  如果是以上的结果那么说明此项目是使用 `https` 协议进行访问的（如果地址是git开头则表示是 `git` 协议）#### <span class="number">2</span>、复制远程仓库的ssh链接#### <span class="number">3</span>、修改git的remote url方法有三种：<span class="number">1</span>. 修改命令git remote origin <span class="built_in">set</span>-url [url]<span class="number">1</span>. 先删后加git remote rm origingit remote add origin [url]<span class="number">1</span>. 直接修改`config`文件  找到仓库下 `.git` 文件夹下的 `config` 文件，打开，可以看到以下内容  将文件中的 `url =https://github.com/danygitgit/document-library.git `更改为 `url = git@github.com:danygitgit/document-library.git` 即可。  修改后的文件如下  以后，不管是push还是pull，你都不需要再提交密码了。### 七、Sourcetree配置ssh密钥  `SourceTree` 是一款git管理可视化工具，就不需要繁琐的敲打命令行了。个人比较推荐，无论在windows环境还是mac的os环境。[官网链接](https://link.juejin.cn/?target=https<span class="variable">%3A%</span><span class="number">2</span>F<span class="variable">%2Fwww.sourcetreeapp.com%</span><span class="number">2</span>F)</span><br></pre></td></tr></table></figure>



<p>ssh-add命令是把专用密钥添加到ssh-agent的高速缓存中</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-D</td>
<td>删除ssh-agent中的所有密钥.</td>
</tr>
<tr>
<td>-d</td>
<td>从ssh-agent中的删除密钥</td>
</tr>
<tr>
<td>-e pkcs11</td>
<td>删除PKCS#11共享库pkcs1提供的钥匙</td>
</tr>
<tr>
<td>-s pkcs11</td>
<td>添加PKCS#11共享库pkcs1提供的钥匙</td>
</tr>
<tr>
<td>-L</td>
<td>显示ssh-agent中的公钥</td>
</tr>
<tr>
<td>-l</td>
<td>显示ssh-agent中的密钥</td>
</tr>
<tr>
<td>-t life</td>
<td>对加载的密钥设置超时时间，超时ssh-agent将自动卸载密钥 -X：对ssh-agent进行解锁</td>
</tr>
<tr>
<td>-x</td>
<td>对ssh-agent进行加锁</td>
</tr>
</tbody></table>
<p> 1.把秘钥添加到ssh-agent中</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">ssh-add C:<span class="regexp">/Users/</span>cc_want/.ssh/test_rsa</span><br></pre></td></tr></table></figure>

<p>2.从ssh-agent中删除</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">ssh-add -d C:<span class="regexp">/Users/</span>cc_want/.ssh/test_rsa</span><br></pre></td></tr></table></figure>

<p>3.查看ssh-agent中的所有秘钥</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">ssh-<span class="keyword">add</span> -l</span><br></pre></td></tr></table></figure>

<h1 id="SSH-ADD-Windows-Could-not-open-a-connection-to-your-authentication-agent-17"><a href="#SSH-ADD-Windows-Could-not-open-a-connection-to-your-authentication-agent-17" class="headerlink" title="SSH-ADD / Windows / Could not open a connection to your authentication agent. #17"></a>SSH-ADD / Windows / Could not open a connection to your authentication agent. #17</h1> <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">If you have this issue :In the CMD window, type the following command:cd path-to-Git/bin (for me : cd C:\Program Files\Git\bin)bashexec ssh-agent bashssh-add MYKEY</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108191127008.png" alt="image-20211108191127008"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108170322843.png" alt="image-20211108170322843"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108170448634.png" alt="image-20211108170448634"></p>
<p>配置好SSH，<a href="https://blog.csdn.net/qq_36667170/article/details/79094257">GitHub教程 SSH keys配置</a></p>
<p>记得把git添加到环境变量中，要不然后边使用hexo时候会报错’git’ 不是内部或外部命令,也不是可运行的程序 或批处理文件。</p>
<p><strong>补充</strong>：添加环境变量</p>
<ul>
<li>直接搜索环境变量打开<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202106232222168.png" alt="在这里插入图片描述"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210623222411617.png" alt="在这里插入图片描述"></li>
<li>添加环境变量：双击打开系统变量的path<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210623222529338.png" alt="在这里插入图片描述"></li>
<li>找到你git的安装目录，把bin的地址加入到path中即可。<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210623222629633.png" alt="在这里插入图片描述"><br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210623222731901.png" alt="在这里插入图片描述"></li>
</ul>
<h4 id="2-2-准备好Node-js"><a href="#2-2-准备好Node-js" class="headerlink" title="2.2 准备好Node.js"></a>2.2 准备好Node.js</h4><p><a href="https://blog.csdn.net/qq_36667170/article/details/104925711">Node.js安装配置</a></p>
<p>给你的npm换成淘宝源，这样待会下东西下的更快。<br>npm config set registry <a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org/</a><br>（如果看不懂这是干嘛，建议你回忆一下npm怎么用 <a href="https://lolitasian.blog.csdn.net/article/details/104942300">npm超详细入门 源管理 | 常用指令 | 下载 | 淘宝源卸载</a>）</p>
<h4 id="2-3准备好hexo"><a href="#2-3准备好hexo" class="headerlink" title="2.3准备好hexo"></a>2.3准备好hexo</h4><p>既然你已经回忆起npm怎么用了，那你用npm安装上hexo<br>安装安装hexo<br>npm install hexo-cli -g<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210623222945212.png" alt="在这里插入图片描述"></p>
<h3 id="3-将备份文件转移到新电脑"><a href="#3-将备份文件转移到新电脑" class="headerlink" title="3.将备份文件转移到新电脑"></a>3.将备份文件转移到新电脑</h3><p>就是直接把你那个文件复制到新电脑上。<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210623221812274.png" alt="在这里插入图片描述"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">然后进入文件，打开gitbash或者<span class="built_in">cmd</span>，安装依赖（就是把你之前删除的node_modules文件装回来）<span class="built_in">cd</span> backup npm install</span><br></pre></td></tr></table></figure>

<h3 id="-3"><a href="#-3" class="headerlink" title=""></a></h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save下载完以后，你就可以在新电脑上正常使用了。写一个新文章，试试hexo cleanhexo d打开博客，你的文章就更新啦。</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>更改Chrome浏览器安装位置的方法谷歌mklink</title>
    <url>/2021/11/10/cl449bvx9003eb4bh8iwycxyn/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/Snipaste_2021-11-06_01-39-32.png" alt="Snipaste_2021-11-06_01-39-32"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rd</span>/s/q &quot;C:\Program Files\Google\Chrome&quot;</span><br><span class="line"><span class="built_in">rd</span>/s/q &quot;C:\Program Files (x86)\Google&quot; </span><br><span class="line"><span class="built_in">rd</span>/s/q &quot;C:\Users\HI\AppData\Local\Google&quot;</span><br><span class="line">mklink /d &quot;C:\Program Files\Google\Chrome&quot; &quot;D:\MySoftware\Browsers\Google\Chrome&quot;</span><br><span class="line">mklink /d &quot;C:\Program Files (x86)\Google&quot; &quot;D:\MySoftware\Browsers\Google&quot;</span><br><span class="line">mklink /d &quot;C:\Users\HI\AppData\Local\Google&quot; &quot;D:\MySoftware\Browsers\Google\PersonData&quot;</span><br></pre></td></tr></table></figure>



<ul>
<li></li>
</ul>
<h1 id="谷歌浏览器移盘及mklink-命令使用"><a href="#谷歌浏览器移盘及mklink-命令使用" class="headerlink" title="谷歌浏览器移盘及mklink 命令使用"></a><a href="https://www.cnblogs.com/yzw625/p/15498480.html">谷歌浏览器移盘及mklink 命令使用</a></h1><p>不把安装的谷歌浏览器程序本身从C:盘移到D:盘上，而是把缓存文件、设置等移到别的盘</p>
<p>如果要移动安装的谷歌浏览器程序本身，把”%ProgramFiles(x86)%\Google\Chrome”剪切到D:盘，这样就变成了绿色版了，通过快捷方式运行即可。但这样有个问题，浏览器升级是个麻烦事，另外还要设置将点击网址时关联到这个浏览器上。</p>
<p>如果保持程序本身在C:盘，改缓冲区、临时文件夹等，可以这样：</p>
<ol>
<li>mklink命令将原缓存文件夹变为一个快捷方式，指向新定义的目录。如将”%LOCALAPPDATA%\Google\Chrome”下的”User Data”文件夹，通过管理员身份下的mklink命令改为指向D:下的某个文件夹</li>
<li>也可通过运行参数：–disk-cache-dir=D:\XXXXXX</li>
</ol>
<h3 id="具体操作"><a href="#具体操作" class="headerlink" title="具体操作"></a>具体操作</h3><p>1.把C:\Users\用户名\AppData\Local\Google\Chrome下的Chrome文件夹删除或者改名；</p>
<p>2.打开CMD，运行</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mklink /j &quot;C:\Users\Administrator\AppData\Local\Google\Chrome&quot; D:\Google\Chrome</span><br></pre></td></tr></table></figure>

<p>注意：<code>C:\Users\Administrator\AppData\Local\Google\Chrome</code><strong>的 Chrome 文件夹先改成其它名字 比如 Chrome2, 然后当软链接创建完成后,就把这个Chrome2下面的所有东西复制到 “D:\Google\Chrome” 下面,然后再回去删除这个 Chrome2 ,创建软链接时,一定要保证 D:\Google\Chrome 这个文件夹是一个空的,里面不能有任何东西</strong></p>
<p>3.效果图：<br><a href="https://img2020.cnblogs.com/blog/2074362/202111/2074362-20211102131455675-1124638750.png"><img src="https://img2020.cnblogs.com/blog/2074362/202111/2074362-20211102131455675-1124638750.png" alt="image"></a></p>
<p>image</p>
<p>4.<strong>带 /J 参数，创建目录联接</strong>。而且这个命令无需管理员权限。完成后C盘中这个文件不是快捷方式，相当于一个虚拟的文件夹，而这个文件夹真正存储位置是 <code>D:\Google\Chrome</code>，同样可以正常在C盘 <code>Google\Chrome</code>目录下进行存储文件不占用这个文件夹的空间。</p>
<p>参考：<a href="https://www.cnblogs.com/yzw625/p/15498480.html#scroller-0">https://www.cnblogs.com/yzw625/p/15498480.html#scroller-0</a>)</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title> 正则表达式    </title>
    <url>/2021/10/12/cl449bvxa003hb4bh40bb1ky1/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211012162309441.png" alt=" "></p>
<h1 id="捕获组"><a href="#捕获组" class="headerlink" title="捕获组"></a>捕获组</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">([a-z]&#123;2&#125;)\1(\d&#123;2&#125;)\2</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014132033916.png" alt="image-20211014131705857"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014131748383.png" alt="image-20211014131748383"></p>
<h2 id="非捕获组"><a href="#非捕获组" class="headerlink" title="非捕获组"></a>非捕获组</h2><p>匹配到了，但无法继续使用\1</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014131857235.png" alt="image-20211014131857235"></p>
<h1 id="预搜索-零宽断言"><a href="#预搜索-零宽断言" class="headerlink" title="预搜索(零宽断言)"></a>预搜索(零宽断言)</h1><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014133216855.png" alt="image-20211014133216855"></p>
<p><strong>（最精简有用的）补充三:（看例子直接上手用）</strong></p>
<p><strong>(?=exp):零宽度正预测先行断言，它断言自身出现的位置的后面能匹配表达式exp。</strong></p>
<p>匹配后面为_path，结果为product</p>
<p>‘product_path’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(product)(?=_path)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014140406255.png" alt="image-20211014140406255"></p>
<p><strong>(?&lt;=exp):零宽度正回顾后发断言，它断言自身出现的位置的前面能匹配表达式exp</strong></p>
<p>匹配前面为name:，结果为wangfei</p>
<p>‘name:wangfei’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(?&lt;=name:)(wangfei)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014140429223.png" alt="image-20211014140429223"></p>
<p><strong>(?!exp):零宽度负预测先行断言，断言此位置的后面不能匹配表达式exp。</strong></p>
<p>匹配后面不是_path</p>
<p>‘product_path’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(product)(?!_path)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014140558025.png"></p>
<p>匹配后面不是_url</p>
<p>‘product_path’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(product)(?!_url)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014140637434.png"></p>
<p><strong>(?&lt;!exp):零宽度负回顾后发断言来断言此位置的前面不能匹配表达式exp</strong></p>
<p>匹配前面不是name:</p>
<p>‘name:angelica’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(?&lt;!name:)(angelica)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014140757073.png" alt="image-20211014140757073"></p>
<p>匹配前面不是nick_name:</p>
<p>‘name:angelica’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(?&lt;!nick_name:)(angelica)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014140821894.png![image-20211014140846217](https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211014140846217.png" alt="image-20211014140821894"></p>
<h1 id="各种电话正则"><a href="#各种电话正则" class="headerlink" title="各种电话正则"></a>各种电话正则</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">/^<span class="number">400</span>[<span class="number">0</span>-<span class="number">9</span>]&#123;<span class="number">7</span>&#125;|^<span class="number">1</span>[<span class="number">34578</span>]\d&#123;<span class="number">9</span>&#125;$|^<span class="number">0</span>[<span class="number">0</span>-<span class="number">9</span>]&#123;<span class="number">2</span>,<span class="number">3</span>&#125;-[<span class="number">0</span>-<span class="number">9</span>]&#123;<span class="number">8</span>&#125;/</span><br></pre></td></tr></table></figure>





<h1 id="识别html标签-注意url解析的源码编码"><a href="#识别html标签-注意url解析的源码编码" class="headerlink" title="识别html标签-注意url解析的源码编码"></a>识别html标签-注意url解析的源码编码</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;a[\s\S]+?&lt;/a&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211015122931588.png" alt="image-20211015122931588"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">href=\&quot;.+?/&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211015123957224.png" alt="image-20211015123957224"></p>
<h2 id="通过零宽断言-截取网址"><a href="#通过零宽断言-截取网址" class="headerlink" title="通过零宽断言-截取网址"></a>通过零宽断言-截取网址</h2><h3 id="移除左侧符号"><a href="#移除左侧符号" class="headerlink" title="移除左侧符号"></a>移除左侧符号</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(?&lt;=(href=\&quot;))(.+?/&quot;)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211015125433505.png" alt="image-20211015125433505"></p>
<h3 id="移除首尾符号"><a href="#移除首尾符号" class="headerlink" title="移除首尾符号"></a>移除首尾符号</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">((?&lt;=(href=\&quot;))(.+?))(?=/&quot;)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211015125347483.png" alt="image-20211015125347483"></p>
<h1 id="（最精简有用的）补充三-（看例子直接上手用）"><a href="#（最精简有用的）补充三-（看例子直接上手用）" class="headerlink" title="（最精简有用的）补充三:（看例子直接上手用）"></a><strong>（最精简有用的）补充三:（看例子直接上手用）</strong></h1><p><strong>(?=exp):零宽度正预测先行断言，它断言自身出现的位置的后面能匹配表达式exp。</strong></p>
<p>匹配后面为_path，结果为product</p>
<p>‘product_path’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/(product)(?=_path)/</span><br></pre></td></tr></table></figure>

<p><strong>(?&lt;=exp):零宽度正回顾后发断言，它断言自身出现的位置的前面能匹配表达式exp</strong></p>
<p>匹配前面为name:，结果为wangfei</p>
<p>‘name:wangfei’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/(?&lt;=name:)(wangfei)/</span><br></pre></td></tr></table></figure>

<p><strong>(?!exp):零宽度负预测先行断言，断言此位置的后面不能匹配表达式exp。</strong></p>
<p>匹配后面不是_path</p>
<p>‘product_path’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/(product)(?!_path)/</span><br></pre></td></tr></table></figure>

<p>匹配后面不是_url</p>
<p>‘product_path’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/(product)(?!_url)/</span><br></pre></td></tr></table></figure>

<p><strong>(?&lt;!exp):零宽度负回顾后发断言来断言此位置的前面不能匹配表达式exp</strong></p>
<p>匹配前面不是name:</p>
<p>‘name:angelica’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/(?&lt;!name:)(angelica)/</span><br></pre></td></tr></table></figure>

<p>匹配前面不是nick_name:</p>
<p>‘name:angelica’.scan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/(?&lt;!nick_name:)(angelica)/</span><br></pre></td></tr></table></figure>

<p>再次提醒，如果由于同样表达式在不同地方的断言方法名（断言表达式叫法）不一致引起不适的话请以<strong>补充三中的为准</strong>。溜了溜了。</p>
<p>谢谢大家的阅读。</p>
<h2 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h2><p>校验中文名<br>校验银行卡号<br>校验身份证号<br>校验邮箱地址</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 判断是否为合法的中文名</span><br><span class="line"> * @param $name 名字</span><br><span class="line"> * @return bool</span><br><span class="line"> */</span><br><span class="line">function isChineseName($name) &#123;</span><br><span class="line">    if (preg_match(&#x27;/^([\xe4-\xe9][\x80-\xbf]&#123;2&#125;)&#123;2,4&#125;$/&#x27;, $name)) &#123;  </span><br><span class="line">        return true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 判断是否为合法的银行卡号</span><br><span class="line"> * @param $banknum 银行卡号</span><br><span class="line"> * @return bool</span><br><span class="line"> */</span><br><span class="line">function isBanknumByLuhm($banknum) &#123;</span><br><span class="line">    $n = 0;</span><br><span class="line">    for ($i = strlen($banknum); $i &gt;= 1; $i--) &#123;</span><br><span class="line">        $index=$i-1;</span><br><span class="line">        //偶数位</span><br><span class="line">        if ($i % 2==0) &#123;</span><br><span class="line">            $n += $banknum&#123;$index&#125;;</span><br><span class="line">        &#125; else &#123;//奇数位</span><br><span class="line">            $t = $banknum&#123;$index&#125; * 2;</span><br><span class="line">            if ($t &gt; 9) &#123;</span><br><span class="line">                $t = (int)($t/10)+ $t%10;</span><br><span class="line">            &#125;</span><br><span class="line">            $n += $t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ($n % 10) == 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 判断是否为合法的身份证号码</span><br><span class="line"> * @param $idcard 身份证号</span><br><span class="line"> * @return bool</span><br><span class="line"> */</span><br><span class="line">function isIdcard($idcard)&#123;</span><br><span class="line">    if(strlen($idcard)==18)&#123;</span><br><span class="line">        return $this-&gt;idcard_checksum18($idcard);</span><br><span class="line">    &#125;elseif((strlen($idcard)==15))&#123;</span><br><span class="line">        $idcard = $this-&gt;idcard_15to18($idcard);</span><br><span class="line">        return $this-&gt;idcard_checksum18($idcard);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 计算身份证校验码，根据国家标准GB 11643-1999</span><br><span class="line">function idcard_verify_number($idcard_base) &#123;</span><br><span class="line">    if(strlen($idcard_base)!=17)&#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    //加权因子</span><br><span class="line">    $factor=array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2);</span><br><span class="line">    //校验码对应值</span><br><span class="line">    $verify_number_list=array(&#x27;1&#x27;,&#x27;0&#x27;,&#x27;X&#x27;,&#x27;9&#x27;,&#x27;8&#x27;,&#x27;7&#x27;,&#x27;6&#x27;,&#x27;5&#x27;,&#x27;4&#x27;,&#x27;3&#x27;,&#x27;2&#x27;);</span><br><span class="line">    $checksum=0;</span><br><span class="line">    for ($i=0; $i&lt;strlen($idcard_base); $i++) &#123;</span><br><span class="line">        $checksum += substr($idcard_base, $i, 1) * $factor[$i];</span><br><span class="line">    &#125;</span><br><span class="line">    $mod = $checksum % 11;</span><br><span class="line">    $verify_number = $verify_number_list[$mod];</span><br><span class="line">    return $verify_number;</span><br><span class="line">&#125;</span><br><span class="line">// 将15位身份证升级到18位</span><br><span class="line">function idcard_15to18($idcard) &#123;</span><br><span class="line">    if (strlen($idcard) != 15) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 如果身份证顺序码是996 997 998 999，这些是为百岁以上老人的特殊编码</span><br><span class="line">        if (array_search(substr($idcard,12,3), array(&#x27;996&#x27;,&#x27;997&#x27;,&#x27;998&#x27;,&#x27;999&#x27;)) !== false) &#123;</span><br><span class="line">            $idcard = substr($idcard,0,6).&#x27;18&#x27;.substr($idcard,6,9);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            $idcard = substr($idcard,0,6).&#x27;19&#x27;.substr($idcard,6,9);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    $idcard = $idcard.$this-&gt;idcard_verify_number($idcard);</span><br><span class="line">    return $idcard;</span><br><span class="line">&#125;</span><br><span class="line">// 18位身份证校验码有效性检查</span><br><span class="line">function idcard_checksum18($idcard)&#123;</span><br><span class="line">    if (strlen($idcard)!=18) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    $idcard_base = substr($idcard,0,17);</span><br><span class="line">    if ($this-&gt;idcard_verify_number($idcard_base) != strtoupper(substr($idcard,17,1))) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 判断是否为合法的邮箱地址</span><br><span class="line"> * @param  $email 邮箱地址</span><br><span class="line"> * @return bool</span><br><span class="line"> */</span><br><span class="line">function isEmail($email) &#123;</span><br><span class="line">    $pattern = &quot;/^([0-9A-Za-z\\-_\\.]+)@([0-9a-z]+\\.[a-z]&#123;2,3&#125;(\\.[a-z]&#123;2&#125;)?)$/i&quot;;</span><br><span class="line">    if (preg_match($pattern, $email)) &#123;</span><br><span class="line">        $reply = &quot;您输入的电子邮件地址合法&lt;br /&gt;&lt;br /&gt;\n&quot;;</span><br><span class="line">        $user_name = preg_replace($pattern ,&quot;$1&quot;, $email);</span><br><span class="line">        $domain_name = preg_replace($pattern ,&quot;$2&quot;, $email);</span><br><span class="line">        $reply .= &quot;用户名：&quot;.$user_name.&quot;&lt;br /&gt;\n&quot;;</span><br><span class="line">        $reply .= &quot;域名：&quot;.$domain_name.&quot;&lt;br /&gt;\n\n&quot;;</span><br><span class="line">        return true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $reply = &quot;您输入的电子邮件地址不合法&quot;;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="sublime筛选指定的文件"><a href="#sublime筛选指定的文件" class="headerlink" title="sublime筛选指定的文件"></a>sublime筛选指定的文件</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">H:\学习\WEB\,*.md</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211015130506836.png" alt="image-20211015130506836"></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>查看网络连接及其发起程序（进程）的方法------测试是否又成为肉鸡的可能性，检测自己的局域网IP，尝试用端口号查询进程名 非原创</title>
    <url>/2021/09/09/cl449bvxb003kb4bhftjh9q3m/</url>
    <content><![CDATA[<h1 id="查看网络连接及其发起程序（进程）的方法——测试是否又成为肉鸡的可能性，检测自己的局域网IP，尝试用端口号查询进程名"><a href="#查看网络连接及其发起程序（进程）的方法——测试是否又成为肉鸡的可能性，检测自己的局域网IP，尝试用端口号查询进程名" class="headerlink" title="查看网络连接及其发起程序（进程）的方法——测试是否又成为肉鸡的可能性，检测自己的局域网IP，尝试用端口号查询进程名"></a>查看网络连接及其发起程序（进程）的方法——测试是否又成为肉鸡的可能性，检测自己的局域网IP，尝试用端口号查询进程名</h1><p> 原创</p>
<p><a href="https://blog.51cto.com/netside">netside</a>2013-04-12 15:50:19©著作权</p>
<p><em>文章标签</em><a href="https://blog.51cto.com/topic/zhakanjincheng.html">查看进程</a><a href="https://blog.51cto.com/topic/zhakanwangluolianjie.html">查看网络连接</a><a href="https://blog.51cto.com/topic/jinchengliuliang.html">进程流量</a><em>文章分类</em><a href="https://blog.51cto.com/netside/category4">非专业知识</a><em>阅读数</em>2.2万</p>
<p>一些上网行为管理设备会记录、统计用户发起的网络连接信息，常统计出一些不明的、对一些公网IP的连接请求，依经验往往是由用户机器上装的一些软件（特别是国产软件）引起的，有的还会产生很大的上传流量。部分连接会被上网行为管理设备依据设定的规则来阻止掉，这时候需要把这些进程（应用程序）纠出来，告诉用户，打消疑问。</p>
<p><strong>方法一：命令行下，使用****netstat命令。</strong></p>
<p>第一步，查看TCP连接，找出对应的PID；</p>
<p>netstat -ano -p tcp or：netstat -ano | find “ESTABLISHED”</p>
<p>注释：1.如果使用find就不用再使用-p来指定是不是tcp协议了。</p>
<p>2.参数-o表示显示发起连接的进程的ID（PID）。</p>
<p>第二步，使用tasklist命令列出发起连接的进程；</p>
<p>tasklist | find “PID”</p>
<p>当然，也可以在“任务管理器”中查看，效果一样。</p>
<p><strong>方法二：图形界面中，通过Windows自带的“资源监视器（Resource Monitor）”来查看TCP连接。</strong></p>
<p>先打开“任务管理器”（Ctrl+Shift+Esc），然后切换到“性能”，在窗口右下角就能找到。</p>
<p><a href="https://s4.51cto.com/attachment/201304/155418430.jpg"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109090237758.jpeg" alt="查看网络连接及其发起程序（进程）的方法_进程流量"></a></p>
<p><strong>方法三：使用软件 TcpView。</strong></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>用python写个颜值评分器筛选最美主播</title>
    <url>/2021/11/12/cl449bvxc003ob4bh0x8h3fw6/</url>
    <content><![CDATA[<h1 id="用python写个颜值评分器筛选最美主播"><a href="#用python写个颜值评分器筛选最美主播" class="headerlink" title="用python写个颜值评分器筛选最美主播"></a>用python写个颜值评分器筛选最美主播</h1><p> 更新时间：2021年08月26日 17:16:59  作者：Dragon少年  </p>
<p>这篇文章主要介绍了我如何用python写颜值评分器，本文给大家介绍的非常详细，对大家的学习或工作具有一定的参考借鉴价值，需要的朋友可以参考下</p>
<h5 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h5><ul>
<li><p><a href="https://www.jb51.net/article/220934.htm#_label0">前言</a></p>
</li>
<li><p><a href="https://www.jb51.net/article/220934.htm#_label1">一、核心功能设计</a></p>
</li>
<li><ul>
<li><a href="https://www.jb51.net/article/220934.htm#_lab2_1_0">获取主播直播封面图</a></li>
<li><a href="https://www.jb51.net/article/220934.htm#_lab2_1_1">主播颜值评分</a></li>
</ul>
</li>
<li><p><a href="https://www.jb51.net/article/220934.htm#_label2">二、实现步骤</a></p>
</li>
<li><ul>
<li><a href="https://www.jb51.net/article/220934.htm#_lab2_2_2">1. 获取主播名称和照片</a></li>
<li><a href="https://www.jb51.net/article/220934.htm#_lab2_2_3">2. 主播颜值评分</a></li>
</ul>
</li>
</ul>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>晚上回家闲来无事，想打开某直播平台，看看小姐姐直播。看着一个个多才多艺的小姐姐，眼花缭乱，好难抉择。究竟看哪个小姐姐直播好呢？</p>
<p>今天我们就一起来做个颜值评分器，爬取小姐姐们的直播照片，对每位小姐姐的颜值进行打分排序，选出最靓的star。</p>
<h2 id="一、核心功能设计"><a href="#一、核心功能设计" class="headerlink" title="一、核心功能设计"></a>一、核心功能设计</h2><p>总体来说，我们需要做的是获取直播颜值区的主播小姐姐的正在直播的全部主播名称和封面图并保存下来，用百度AI提供的人脸识别接口，进行颜值评分排序，选出颜值最高的。</p>
<p>拆解需求，大致可以整理出核心功能如下：</p>
<h3 id="获取主播直播封面图"><a href="#获取主播直播封面图" class="headerlink" title="获取主播直播封面图"></a>获取主播直播封面图</h3><ul>
<li>打开直播颜值区模块对页面进行分析</li>
<li>发送网络请求，解析数据</li>
<li>保存数据</li>
</ul>
<h3 id="主播颜值评分"><a href="#主播颜值评分" class="headerlink" title="主播颜值评分"></a>主播颜值评分</h3><ul>
<li>百度人脸识别接口</li>
<li>遍历主播照片，调用颜值检测接口对主播颜值进行打分</li>
<li>对评分进行排序</li>
</ul>
<h2 id="二、实现步骤"><a href="#二、实现步骤" class="headerlink" title="二、实现步骤"></a>二、实现步骤</h2><h3 id="1-获取主播名称和照片"><a href="#1-获取主播名称和照片" class="headerlink" title="1. 获取主播名称和照片"></a>1. 获取主播名称和照片</h3><p>首先我们选择的是某牙直播，进入首页打开颜值区，按F12可以进入开发者模式。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># 1.找到数据所在url地址（系统分析网页性质）</span><br><span class="line">url = &quot;https://www.huya.com/g/2168&quot;</span><br><span class="line">headers = &#123;</span><br><span class="line">        &#x27;User-Agent&#x27;: &#x27;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 &#x27;</span><br><span class="line">                      &#x27;(KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36&#x27;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"># 2. 发送网络请求-请关闭代理</span><br><span class="line">response = requests.get(url=url, headers=headers)</span><br><span class="line">html_data = response.text</span><br><span class="line">print(html_data)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>不难发现所有的小姐姐直播封面对应的都是在li标签里面。我们只要解析获取这些li标签数据就可以了。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210826165210142.jpg" alt="在这里插入图片描述"></p>
<p>接着我们需要拿到直播小姐姐的封面图片，通过分析上面li标签里面的内容，可以发现下面有个a标签，里面的img标签中的data-original不就是我们要的小姐姐图片嘛！</p>
<p><img src="https://img.jbzj.com/file_images/article/202108/20210826165210143.jpg" alt="在这里插入图片描述"></p>
<p>接下来我们想要获取主播小姐姐的名字怎么办呢？点开li标签继续分析，可以看到下面有个span标签，其中的i标签内容就是小姐姐直播的名字。</p>
<p><img src="https://img.jbzj.com/file_images/article/202108/20210826165210144.jpg" alt="在这里插入图片描述"></p>
<p>网页结构我们上面已经分析好了，那么我们就可以来动手爬取我们所需要的数据了。获取到所有的数据资源之后，把图片保存下来即可。文件的下载保存的方式比较多，我用的是通过 with open打开文件的方式 ，比较简单。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># 3. 数据解析</span><br><span class="line">selector = parsel.Selector(html_data)</span><br><span class="line">lis = selector.xpath(&#x27;//li[@class=&quot;game-live-item&quot;]&#x27;)  # 所有li标签</span><br><span class="line"></span><br><span class="line">for li in lis:</span><br><span class="line">    img_name = li.xpath(&#x27;.//span[@class=&quot;avatar fl&quot;]/i/text()&#x27;).get()  # 主播名字</span><br><span class="line">    img_url = li.xpath(&#x27;.//a/img/@data-original&#x27;).get()  # 主播图片地址</span><br><span class="line">    # print(img_name, img_url)</span><br><span class="line"></span><br><span class="line">    # 请求图片数据</span><br><span class="line">    img_data = requests.get(url=img_url).content  # 图片数据</span><br><span class="line"></span><br><span class="line">    # 4. 数据保存</span><br><span class="line">    # 准备文件名</span><br><span class="line">    file_name = img_name + &#x27;.jpg&#x27;</span><br><span class="line">    with open(&#x27;DATA\颜值检测\img\\&#x27; + file_name, mode=&#x27;wb&#x27;) as f:</span><br><span class="line">        f.write(img_data)</span><br><span class="line">        print(&#x27;正在保存:&#x27;, file_name)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这样小姐姐的直播名称和照片都可以保存下来了，效果如下：</p>
<p><img src="https://img.jbzj.com/file_images/article/202108/20210826165211145.jpg" alt="在这里插入图片描述"></p>
<h3 id="2-主播颜值评分"><a href="#2-主播颜值评分" class="headerlink" title="2. 主播颜值评分"></a>2. 主播颜值评分</h3><p>我们调用的是百度开放的人脸识别接口 – <a href="https://ai.baidu.com/">百度AI开放平台链接</a>。</p>
<p><img src="https://img.jbzj.com/file_images/article/202108/20210826165211146.jpg" alt="在这里插入图片描述"></p>
<p>这里面我们可以创建一个人脸识别应用，其中的API Key及Secret Key后面我们调用人脸识别检测接口时会用到。</p>
<p><img src="https://img.jbzj.com/file_images/article/202108/20210826165211147.jpg" alt="在这里插入图片描述"></p>
<p>接下来我们可以看看官方提供的API帮助文档，里面介绍的很详细。包括如何调用请求URL数据格式，向API服务地址使用POST发送请求，必须在URL中带上参数access_token，可通过后台的API Key和Secret Key生成。这里面的API Key和Secret Key就是我们上面提到的。</p>
<p><img src="https://img.jbzj.com/file_images/article/202108/20210826165211148.jpg" alt="在这里插入图片描述"></p>
<p>那我们要的打分颜值分数是哪个呢？提供返回结果参数，可以看到里面有个beauty就是我们要的颜值分数。</p>
<p><img src="https://img.jbzj.com/file_images/article/202108/20210826165211149.jpg" alt="在这里插入图片描述"></p>
<p>这样颜值检测的接口流程基本就已经清楚了，可以进行代码实现了。</p>
<p>其中获取token的时候，需要用到client_id 和 client_secret ，这两个就是上面创建人脸识别应用时提供的。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># 获取token</span><br><span class="line">def get_token():</span><br><span class="line">    # client_id 为官网获取的AK， client_secret 为官网获取的SK</span><br><span class="line">    #host = &#x27;https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&amp;client_id=【官网获取的AK】&amp;client_secret=【官网获取的SK】&#x27;</span><br><span class="line">    host = &#x27;https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&amp;client_id=AbaIWY4rKccoMtvgGDF2GLQF&amp;client_secret=BD5UCMxMS50bWbW7XabDIcMxPTxogdE5&#x27;</span><br><span class="line">    response = requests.get(host)</span><br><span class="line">    if response:</span><br><span class="line">        # print(response.json())</span><br><span class="line">        return response.json()[&#x27;access_token&#x27;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 颜值检测接口</span><br><span class="line">def face_input(file_path):</span><br><span class="line">    with open(file_path, &#x27;rb&#x27;) as file:</span><br><span class="line">        data = base64.b64encode(file.read())</span><br><span class="line">    img = data.decode()</span><br><span class="line">    request_url = &quot;https://aip.baidubce.com/rest/2.0/face/v3/detect&quot;</span><br><span class="line"></span><br><span class="line">    params = &quot;&#123;\&quot;image\&quot;:\&quot;%s\&quot;,\&quot;image_type\&quot;:\&quot;BASE64\&quot;,\&quot;face_field\&quot;:\&quot;beauty\&quot;&#125;&quot; % img</span><br><span class="line">    access_token = get_token()</span><br><span class="line">    request_url = request_url + &quot;?access_token=&quot; + access_token</span><br><span class="line">    headers = &#123;&#x27;content-type&#x27;: &#x27;application/json&#x27;&#125;</span><br><span class="line">    response = requests.post(request_url, data=params, headers=headers)</span><br><span class="line">    if response:</span><br><span class="line">        beauty = response.json()[&#x27;result&#x27;][&#x27;face_list&#x27;][0][&#x27;beauty&#x27;]</span><br><span class="line">        # pprint.pprint(response.json())</span><br><span class="line">        return beauty</span><br><span class="line"></span><br><span class="line">path = &#x27;DATA\颜值检测\img&#x27;</span><br><span class="line">img_list = os.listdir(path)</span><br><span class="line"># print(img_list)</span><br><span class="line">score_dict =&#123;&#125;</span><br><span class="line"></span><br><span class="line">for img in img_list:</span><br><span class="line">    try:</span><br><span class="line">        # 提取主播名字</span><br><span class="line">        name = img.split(&#x27;.&#x27;)[0]</span><br><span class="line">        # 构建图片路径</span><br><span class="line">        img_path = path + &#x27;//&#x27; + img</span><br><span class="line">        # 调用颜值检测接口</span><br><span class="line">        face_score = face_input(img_path)</span><br><span class="line">        # print(face_score)</span><br><span class="line">        score_dict[name] = face_score</span><br><span class="line">    except:</span><br><span class="line">        print(f&#x27;正在检测&#123;name&#125;| 检测失败&#x27;)</span><br><span class="line">    else:</span><br><span class="line">        print(f&#x27;正在检测&#123;name&#125;| \t\t 颜值打分为：&#123;face_score&#125;&#x27;)</span><br><span class="line"></span><br><span class="line">sorted_score = sorted(score_dict.items(), key=lambda x: x[1], reverse=True)</span><br><span class="line"># print(sorted_score)</span><br><span class="line"></span><br><span class="line">for i, j in enumerate(sorted_score):</span><br><span class="line">    print(f&#x27;小姐姐名字是：&#123;sorted_score[i][0]&#125; | 颜值名次是：第&#123;i+1&#125;名 | 颜值分数是：&#123;sorted_score[i][1]&#125;&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以看到result字段里面的beauty就是代表对小姐姐的颜值评分。效果如下：</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210826165211150.jpg" alt="在这里插入图片描述"></p>
<p>调用颜值检测接口已经写好了，下面我们要遍历之前保存的所有小姐姐直播照片，对每个进行颜值打分。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">path = &#x27;DATA\颜值检测\img&#x27;</span><br><span class="line">img_list = os.listdir(path)</span><br><span class="line"># print(img_list)</span><br><span class="line">score_dict =&#123;&#125;</span><br><span class="line"></span><br><span class="line">for img in img_list:</span><br><span class="line">    try:</span><br><span class="line">        # 提取主播名字</span><br><span class="line">        name = img.split(&#x27;.&#x27;)[0]</span><br><span class="line">        # 构建图片路径</span><br><span class="line">        img_path = path + &#x27;//&#x27; + img</span><br><span class="line">        # 调用颜值检测接口</span><br><span class="line">        face_score = face_input(img_path)</span><br><span class="line">        # print(face_score)</span><br><span class="line">        score_dict[name] = face_score</span><br><span class="line">    except:</span><br><span class="line">        print(f&#x27;正在检测&#123;name&#125;| 检测失败&#x27;)</span><br><span class="line">    else:</span><br><span class="line">        print(f&#x27;正在检测&#123;name&#125;| \t\t 颜值打分为：&#123;face_score&#125;&#x27;)</span><br><span class="line"></span><br><span class="line">sorted_score = sorted(score_dict.items(), key=lambda x: x[1], reverse=True)</span><br><span class="line"># print(sorted_score)</span><br><span class="line"></span><br><span class="line">for i, j in enumerate(sorted_score):</span><br><span class="line">    print(f&#x27;小姐姐名字是：&#123;sorted_score[i][0]&#125; | 颜值名次是：第&#123;i+1&#125;名 | 颜值分数是：&#123;sorted_score[i][1]&#125;&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最后我们就只需要按照颜值分数进行降序排列，就可以选出颜值最高的小姐姐啦~</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sorted_score ``=` `sorted``(score_dict.items(), key``=``lambda` `x: x[``1``], reverse``=``True``)``# print(sorted_score)` `for` `i, j ``in` `enumerate``(sorted_score):``  ``print``(f``&#x27;小姐姐名字是：&#123;sorted_score[i][0]&#125; | 颜值名次是：第&#123;i+1&#125;名 | 颜值分数是：&#123;sorted_score[i][1]&#125;&#x27;``)</span><br></pre></td></tr></table></figure>

<p>通过颜值检测，这样就可以找到颜值最高的小姐姐了，颜值打分有90分以上。今天我们就到这里，明天继续努力！不说了，赶紧看直播去~</p>
<p><img src="https://img.jbzj.com/file_images/article/202108/20210826165211151.jpg" alt="在这里插入图片描述"><br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210826165211152.jpg" alt="在这里插入图片描述"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/20210826165211153.jpg" alt="在这里插入图片描述"></p>
<p>如果本篇博客有任何错误，请批评指教，不胜感激 ！</p>
<p>到此这篇关于用python写个颜值评分器筛选最美主播的文章就介绍到这了,更多相关python颜值评分器内容请搜索脚本之家以前的文章或继续浏览下面的相关文章希望大家以后多多支持脚本之家！</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>正则表达式编辑工具 JGsoft RegexBuddy v4.10免注册汉化版</title>
    <url>/2021/09/08/cl449bvxd003rb4bhgpscdeot/</url>
    <content><![CDATA[<ul>
<li></li>
</ul>
<p>RegexBuddy破解版是一款正则表达式编辑工具，帮助你的编写需要的正则表达式，还可以使用它理解别人编写的表达式。RegexBuddy提供可视化的支持、提示、调试方面的便利；在使用正则表达式时，RegexBuddy将正则式转换为多种语言的字串，还提供了代码输出功能。<br>RegexBuddy 是学习正则表达式时的比较好的帮手,它可以容易地建立你想要的正确的正则表达式。清晰地推断他人所写的复杂的正则表达式。它还可以用给出的实例字符串或文件快速地进行测试匹配，从而防止了在实际应用中出现错误。RegexBuddy会在你的源代码中根据你所应用的特殊编程语言，自动生成带有正则表达式的代码段。同时你也可以收集正则表达式到库中，以在未来重新使用。RegexBuddy是使用Regex表达式的强大工具。Rijks是基于计算机科学理论和形式语言主题的字符集合。创建的字符串用于匹配文本并在文本中搜索特定的模式。例如，使用Rijks，您可以找到以前缀开头并以特定号码结尾的文本电话号码。这可以轻松处理正则表达式。制作Rijks模式有时可能很复杂，或者至少是乏味且耗时的。</p>
<p>Rijksbad软件是帮助您构建这些字符串的有效工具。使用此工具，您可以轻松地在Rex中的各种模板中定义，调试，测试和测试模板，甚至可以获取编程语言的代码。如果您在Linux / Unix环境中使用了功能强大的工具和grep命令行，则会在正则表达式中注意到它的强大功能。Wind Rijks通过图形界面在Windows环境中提供了完全相同的性能。</p>
<p>该程序还可用于分析其他人编写的Rexex表达式。可以对文本和文件进行编程，以执行所需的Rijks模式来查找和测试文本。使用该程序，无需在线工具，反复试验和无缝集成环境中可以执行的所有必要操作。这个程序不是用于常规模式的简单工具。</p>
<p><img src="https://www.sdbeta.com/uploads/allimg/180508/2971-1P50QH145239.png" alt="img"></p>
<h3 id="关于破解"><a href="#关于破解" class="headerlink" title="关于破解"></a>关于破解</h3><p>安装完成后，替换补丁即可激活</p>
<h3 id="汉化教程"><a href="#汉化教程" class="headerlink" title="汉化教程"></a>汉化教程</h3><p>1、拿到软件后查壳<br><img src="https://www.sdbeta.com/uploads/allimg/180508/1-1P50QI550D4.png" alt="img"></p>
<p>2、载入OD，运用暂停法将修改报错窗口Nop掉<br>3、同样的方法，将打开弹出的窗口pass掉（多次尝试，随便试的，可能有误）<br>4、软件是英文版本的，使用文件中的汉化文件，可以打开（把汉化文件和RegexBuddy4放在同一目录即可完成汉化）<br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109081313316.png" alt="img"><br><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109081313386.png" alt="RegexBuddy去弹窗汉化版"></p>
<h3 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h3><p>\1. 界面介绍</p>
<p>（1）初始界面选项介绍</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109081315792.gif" alt="img"></p>
<p>（2）如何使用匹配</p>
<p><a href="http://qiniu-img.zjmainstay.cn/regexbuddy/regexbuddy_view_match.gif"></a></p>
<h2 id="（3）如何使用正则替换"><a href="#（3）如何使用正则替换" class="headerlink" title="（3）如何使用正则替换"></a>（3）如何使用正则替换</h2><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109081315181.gif" alt="img"></p>
<h2 id="（4）如何使用Debug"><a href="#（4）如何使用Debug" class="headerlink" title="（4）如何使用Debug"></a>（4）如何使用Debug</h2><p><a href="http://qiniu-img.zjmainstay.cn/regexbuddy/regexbuddy_view_debug.gif"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202109081316424.gif" alt="img"></a></p>
<p>打开RegexBuddy后默认载入的是上一次你所测试的正则信息，选项配置信息都会自动载入上次你所设置的内容。历史记录中显示的是你所测试过得正则信息。</p>
<p>1、测试正则表达式。</p>
<p>a、在正则表达式输入需要测试的正则，如：。可以通过上面的面板选择语言，默认是JGosft，可以指定JAVA，Python等。</p>
<p>b、测试文本面板（Test标签）输入需要测试的文本内容，如：。可以选择Line By Line、Whole File、Page By Page，来指定是每行抽取，还是对整个文档抓取等（如果你的正则匹配信息有包含多行内容，务必要选中Whole File或者Page By Page）。测试文本面板会根据正则表达式和测试内容，实时显示匹配到的高亮预览信息。如：上图中的，全部高亮，如果你选中了HighLight下得HighLight Group1选项，还会实时显示抽取出来的内容：<a href="http://www.lifeba.org.上面2个部分用不同的颜色模块显示区分.当然你也可以不选择预览./">www.lifeba.org。上面2个部分用不同的颜色模块显示区分。当然你也可以不选择预览。</a></p>
<p>c、输出结果面板，显示的显示了正则表达式的匹配结果。你可以通过List All切换显示的效果。</p>
<p>比如，可以选中List ALL Group Matches in columns显示的效果，就是上面图中的输出结果面板效果。如果，你选中了Update Automatically，则修改正则或文本内容时候，输出结果面板会实时跟着变化。</p>
<p>d、点击 Debug按钮，会自动跳到Debug面板，显示出正则表达式匹配的规则。通过该结果，你可以很直观的分析出正则匹配的过程。</p>
<p>2、使用Libray库文件。</p>
<p>测试好了正则表达式后，你可以把他添加到自定义库里，并保存本地硬盘。这样下次你可以直接调用出来修改。通过Libray按钮，你可以切换到该面板。你首先要把选中Read Only去掉，才编辑该库文件。</p>
<p>a、点击 Add 按钮，可以选择Add Regex Only 或者 Add Regex With Test Subject，指定只保存正则，还是同时保存正则和测试文本。这里选择Add Regex With Test Subject后，可以看到已经成功将规则加入到库中，然后你可以点击保存按钮，来保存该库到硬盘上面。</p>
<p>b、点击 Use 按钮，可以选择使用该正则，同样有3个选项，让你指定是否使用测试文本等信息。</p>
<p>c、点击 Update 按钮，可以把修改后的正则更新到该库中。</p>
<p>上面的操作，可以直接选择该正则，然后点击右键操作。</p>
<p>3、Use面板，可以很方便导出正则为不同的编程语言格式。首先现在Language，指定输出语言为Python；然后use后面选择使用的编程方法；最后指定下变量名，就可以看到生成了Python的代码了。</p>
<p>4、GREP面板。在文件中使用上面的正则来搜索内容。点击GREP按钮可以切换到该面板。指定Folders，File masks类型信息后，再右上角点击GREP按钮，可以看到搜索的结果。</p>
<p>5、Create面板。对这个正则表达式的解释的一个树状展示，其中的每一个节点对照着表达式中的一个元素块，在RegexBuddy中被称为一个“token”,我们点击其中的一个节点，就会在我们所输入的表达式的相应部分进行着重显示。在分析他人所写的复杂的表达式的时候在这里查看会十分方便。</p>
<p>a、点击 Explain Token按钮，指向的正是你所选择的节点的正则表达式的语法规则的解释。</p>
<p>b、点击 Insert Token按钮会弹出一个下拉菜单，其中包含了正则表达式里涉及的所有语法符号，可以进行选择，当然对于语法十分熟悉后，就可以不用这个菜单，直接在上面的文本输入区键入表达式了。</p>
<p>c、Export按钮，可以将当前的表达式导出到文本文件、HTML文件或放入到剪贴板中。打印按钮，可以将当前的表达示打印出来。</p>
<p>上面的这些按钮，也可以直接点击右键来操作。</p>
<p>6、历史记录面板。显示你所编辑过得正则信息，你可以随时点击来切换。</p>
<p><strong>四、其他功能介绍</strong></p>
<p>1、上面的界面是再Match模式下的介绍；如果点击上面的Replace按钮，显示的面板会由稍微的不同。下面的界面显示了，对匹配到的正则内容，替换为HELLO的效果。</p>
<p>2、Split模式下，指定用匹配的正则做分割，可以指定要去的split次数。</p>
<p>3、特殊功能</p>
<p>a、Dot matches newline：是否允许 . 匹配任何字符包括分隔符。Case insensitive：是否不区分大小写。</p>
<p>选中后，测试效果如下：输入的是大写的TITLE，以及多行显示都可以匹配出来。</p>
<p>b、^$ match at line breaks：对^$只会对开始的字符串或者结束的字符串做匹配，如果选中该选项，则可以对前后换行也支持。选中后，效果如下：<a href="http://www.lifeba.org/">www.lifeba.org</a>前后都有行，可以匹配出来。</p>
<p>上面的特殊功能只是工具自带的功能，如果你需要这个功能必须在持续中实现，因为这不是正则表达式本身的一部分。<a href="https://www.sdbeta.com/">https://www.sdbeta.com/</a>)</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title> 禁止软件联网，禁止文件夹访问网络    </title>
    <url>/2021/10/20/cl449bvxe003ub4bhfeufcqvj/</url>
    <content><![CDATA[<h2 id="windows上禁止某个软件联网"><a href="#windows上禁止某个软件联网" class="headerlink" title="windows上禁止某个软件联网"></a><a href="https://www.cnblogs.com/komean/p/12774069.html">windows上禁止某个软件联网</a></h2><h5 id="打开控制面板-命令行输入”control”-，按照下图操作"><a href="#打开控制面板-命令行输入”control”-，按照下图操作" class="headerlink" title="打开控制面板(命令行输入”control”)，按照下图操作"></a>打开控制面板(命令行输入”control”)，按照下图操作</h5><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110201955636.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110201955883.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110201955744.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110201954897.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110201954324.png" alt="img"></p>
<h1 id="命令实现禁止软件联网，禁止文件夹访问网络"><a href="#命令实现禁止软件联网，禁止文件夹访问网络" class="headerlink" title="命令实现禁止软件联网，禁止文件夹访问网络"></a>命令实现禁止软件联网，禁止文件夹访问网络</h1><p>规则：同时禁止入站与出站</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">rem 关闭自动输出</span><br><span class="line">setlocal ENABLEDELAYEDEXPANSION</span><br><span class="line">mode con: cols=65 lines=25</span><br><span class="line">color 0a</span><br><span class="line">rem 批处理获取管理员权限</span><br><span class="line">:-------------------------------------  </span><br><span class="line">%1 mshta vbscript:createobject(&quot;shell.application&quot;).shellexecute(&quot;&quot;&quot;%~0&quot;&quot;&quot;,&quot;::&quot;,,&quot;runas&quot;,1)(window.close)&amp;&amp;exit /b</span><br><span class="line">CD /D &quot;%~dp0&quot;</span><br><span class="line">:-------------------------------------  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:begin</span><br><span class="line"></span><br><span class="line">rem 接收输入</span><br><span class="line"></span><br><span class="line">:直接输入文件夹名字</span><br><span class="line">set name=IObitUnlocker_30627</span><br><span class="line">:直接输入文件夹路径</span><br><span class="line">set Fpath=D:\MyBackup\综合备份\便携版·软件\神器\进程管理\进程终结IObit Unlocker\IObitUnlocker_30627</span><br><span class="line"></span><br><span class="line">:set /p name=请输入防火墙策略名称(使用软件名即可):</span><br><span class="line">:set /p Fpath=请输入软件安装路径(C:\Program Files\WinRAR):</span><br><span class="line"></span><br><span class="line">rem 输出得到的输入信息</span><br><span class="line">echo 您输入的防火墙策略名称是：%name%</span><br><span class="line">echo 您输入的软件安装路径是：%Fpath%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo &quot;确认请按任意键否则请按Ctrl+C取消&quot;</span><br><span class="line">pause</span><br><span class="line"></span><br><span class="line">setlocal enabledelayedexpansion</span><br><span class="line">set /a n=0</span><br><span class="line">for /r &quot;%Fpath%&quot; %%i in (*.exe) do (</span><br><span class="line">    set /a n+=1</span><br><span class="line">    echo &quot;!n!_%name%&quot;,&quot;%%i&quot; </span><br><span class="line">    netsh advfirewall firewall del rule name=&quot;!n!_%name%&quot;&gt;nul 2&gt;nul</span><br><span class="line">    netsh advfirewall firewall add rule name=&quot;!n!_%name%&quot; program=&quot;%%i&quot; action=block dir=out&gt;null</span><br><span class="line">    echo 阻止!n!_%name%程序出站规则已添加成功</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">rem pause&gt;null</span><br><span class="line"></span><br><span class="line">echo.</span><br><span class="line"></span><br><span class="line">rem 从begin标签出，再次运行</span><br><span class="line">goto begin</span><br></pre></td></tr></table></figure>







]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title>英文文本分词之工具NLTK</title>
    <url>/2021/11/18/cl449bvxg003xb4bh52gn86n6/</url>
    <content><![CDATA[<h3 id="文文本分词之工具NLTK"><a href="#文文本分词之工具NLTK" class="headerlink" title="文文本分词之工具NLTK"></a>文文本分词之工具NLTK</h3><ul>
<li><a href="https://blog.csdn.net/weixin_43543177/article/details/117756242#NLTK_1">安装NLTK</a></li>
<li><a href="https://blog.csdn.net/weixin_43543177/article/details/117756242#_18">停用词和标点符号包放置</a></li>
<li><a href="https://blog.csdn.net/weixin_43543177/article/details/117756242#_21">验证</a></li>
</ul>
<h1 id="安装NLTK"><a href="#安装NLTK" class="headerlink" title="安装NLTK"></a>安装NLTK</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install nltk</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>分词需要用到两个包：<code>stopwords</code>和<code>punkt</code>,需要下载：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import nltk</span><br><span class="line"></span><br><span class="line">nltk.download(&#x27;stopwords&#x27;)</span><br><span class="line">nltk.download(&#x27;punkt&#x27;)</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<p>如果你能运行成功，那么恭喜，但多半要和我一样，被墙，然后下载失败。于是乎，需要手动下载，这里我已经打包好了，百度提取即可。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">链接：https://pan.baidu.com/s/1ddVRG86W-dyk2O6TsIMXAw </span><br><span class="line">提取码：nltk </span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>此处也是要感激广大网友的无私分享和帮助！！！</p>
<h1 id="停用词和标点符号包放置"><a href="#停用词和标点符号包放置" class="headerlink" title="停用词和标点符号包放置"></a>停用词和标点符号包放置</h1><p>言归正传，下载解压后要注意，stopwords里面还有个stopwords文件，punkt文件里面还有个punkt文件，我们需要的是里面的这两个文件，而不是最外围的同名文件，虽然包含的内容一样，但是<a href="https://so.csdn.net/so/search?from=pc_blog_highlight&q=python">python</a>读取的时候路径会出错。将<code>里面</code>的<code>stopwords</code>和<code>punkt</code>文件夹分别移动到python安装目录下的两个子路径中，比如我的路径是<code>F:\python38\Lib\nltk_data\corpora</code>和<code>F:\python38\Lib\nltk_data\tokenizers</code>。需要说明的是，我的<code>F:\python38\Lib</code>路径下并没有<code>nltk_data</code>这个文件，没有？没有就让他有！新建文件夹，重命名即可。<br>然后在<code>nltk_data</code>中再新建两个文件夹：<code>corpora</code>和<code>tokenizers</code>。然后把停用词和标点分别移动到这两个文件里即可，亦即：<code>corpora\stopwords</code>和<code>tokenizers\punkt</code>。</p>
<h1 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h1><p>此处提供一段验证代码，明日开始nltk分词之旅！</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">from nltk.tokenize import word_tokenize</span><br><span class="line">from nltk.corpus import stopwords</span><br><span class="line"></span><br><span class="line">punctuations = [&#x27;,&#x27;, &#x27;.&#x27;, &#x27;:&#x27;, &#x27;;&#x27;, &#x27;?&#x27;, &#x27;(&#x27;, &#x27;)&#x27;, &#x27;[&#x27;, &#x27;]&#x27;, &#x27;&amp;&#x27;, &#x27;!&#x27;, &#x27;*&#x27;, &#x27;@&#x27;, &#x27;#&#x27;, &#x27;$&#x27;, &#x27;%&#x27;]</span><br><span class="line">data = &quot;All work and no play makes jack dull boy. All work and no play makes jack a dull boy.&quot;</span><br><span class="line">words = word_tokenize(data)</span><br><span class="line">words = [word for word in words if word not in punctuations]   # 去除标点符号</span><br><span class="line">stopWords = set(stopwords.words(&#x27;english&#x27;))</span><br><span class="line">wordsFiltered = []</span><br><span class="line"></span><br><span class="line">for w in words:</span><br><span class="line">    if w not in stopWords:</span><br><span class="line">        wordsFiltered.append(w)</span><br><span class="line"></span><br><span class="line">print(wordsFiltered)</span><br><span class="line">123456789101112131415</span><br></pre></td></tr></table></figure>

<p>完结，可以愉快地听歌了。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211118153808248.png" alt="image-20211118153808248"></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211118153759640.png" alt="image-20211118153759640"></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title> 运行bat时隐藏cmd窗口    </title>
    <url>/2021/10/21/cl449bvxi003zb4bh7fqtg9fy/</url>
    <content><![CDATA[<h2 id="运行bat时隐藏cmd窗口"><a href="#运行bat时隐藏cmd窗口" class="headerlink" title="运行bat时隐藏cmd窗口"></a><a href="https://www.cnblogs.com/mq0036/p/14633154.html">运行bat时隐藏cmd窗口</a></h2><p>运行bat时隐藏cmd窗口，开机启动bat以及隐藏运行窗口</p>
<p>bat隐藏窗口运行</p>
<p>cmd隐藏窗口运行</p>
<p>另一个方法：</p>
<p>隐藏运行软件，cmd隐藏运行，bat隐藏运行，命令窗口隐藏运行</p>
<p>让bat隐藏运行需要用vbs文件才能实现，<br>方法一：新建一个文本文档，写入<br>set ws=WScript.CreateObject(“WScript.Shell”)<br>ws.Run “d:\yy.bat”,0<br>另存为vbs文件即可，其中d:\yy.bat是你需要运行的bat文件的路径。</p>
<p>方法二：用文本文档打开bat文件，在开头处写入<br>@echo off<br>if “%1” == “h” goto begin<br>mshta vbscript:createobject(“wscript.shell”).run(“””%~nx0”” h”,0)(window.close)&amp;&amp;exit<br>:begin<br>REM<br>这个方法运行bat，还是闪了一下。</p>
<p>1.在windows命令行后台运行某个命令：</p>
<p>在执行的命令前加上start /b，比如start /b run.bat。就相当于Linux下的run.sh &amp;</p>
<p>2.开机启动bat<br> 新建test.bat, 文件内容如下:</p>
<p> set ws=WScript.CreateObject(“WScript.Shell”)<br> ws.Run “D:\test.bat /start”,0</p>
<p> 保存,然后放到Windows启动目录下,就可以了。</p>
<p>3.隐藏运行窗口<br> bat运行后一般会有一个黑色的命令窗口,那么如何隐藏呢?有两种方式:</p>
<p>  方法一：新建一个vbs文件,如hello.vbs,文件内容如下:</p>
<p>  Set ws = CreateObject(“Wscript.Shell”)<br>  ws.run “cmd /c D:\CI_Slave\slave.bat”,vbhide </p>
<p> 保存,然后放到Windows启动目录下,就可以了。</p>
<p> 方法二：用文本文档打开bat文件，在开头处写入</p>
<p> @echo off<br>if “%1” == “h” goto begin<br>mshta vbscript:createobject(“wscript.shell”).run(“””%~nx0”” h”,0)(window.close)&amp;&amp;exit<br>:begin<br>REM</p>
<p>保存,然后放到Windows启动目录下,就可以了。</p>
<p>这个方法运行bat，还是会闪一下。</p>
<p>PS：Windows启动目录：</p>
<p> WinXP: C:/Documents and Settings/Administrator/「开始」菜单/程序/启动</p>
<p> Win7:  C:\Users\Administrator\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup</p>
<p> Win10:C:\Users\Administrator\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup</p>
<p> 所有用户通用启动目录:C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp</p>
<p>出处：<a href="https://www.zhuguodong.com/?id=432">https://www.zhuguodong.com/?id=432</a></p>
<p>=======================================================================================</p>
<h1 id="Bat批处理文件怎么隐藏运行？隐藏运行Bat文件的几个方法"><a href="#Bat批处理文件怎么隐藏运行？隐藏运行Bat文件的几个方法" class="headerlink" title="Bat批处理文件怎么隐藏运行？隐藏运行Bat文件的几个方法"></a>Bat批处理文件怎么隐藏运行？隐藏运行Bat文件的几个方法</h1><p>BAT文件是批处理文件，在**<a href="http://www.xitonghe.com/">Windows</a>**系统下以命令行的方式执行一条或多条命令。在命令提示下键入批处理文件的名称，或者双击该批处理文件，系统就会调用cmd.exe按照该文件中各个命令出现的顺序来逐个运行它们。使用批处理文件（也被称为批处理程序或脚本），可以简化日常或重复性任务。是很多系统爱好者喜欢使用的命令！能实现的功能有很多。</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110210415375.jpeg" alt="img"></p>
<p>然而Bat文件在运行时都会出现黑色的命令提示符窗口，让某些时候感觉不爽，如何才能隐藏运行Bat文件？下面小编介绍几种方法。</p>
<p>一、通过批处理命令实现。缺点：会看到一个窗口一闪而逝。优点：简单，直接添加即可。</p>
<p>@echo off<br>if “%1”==”h” goto begin<br>start mshta vbscript:createobject(“wscript.shell”).run(“””%~nx0”” h”,0)(window.close)&amp;&amp;exit<br>:begin<br>::以下为正常批处理命令，不可含有pause set/p等交互命令<br>pause</p>
<p>二、利用vbs脚本实现隐藏。缺点：调用麻烦点。优点：基本看不到痕迹（非绝对的，指一般用户）</p>
<p>HideRun.vbs</p>
<p>CreateObject(“WScript.Shell”).Run “cmd /c D:/test.bat”,0<br>其中D:/test.bat是你的批处理路径</p>
<p>三、另一思路为把bat转换成vbs，然后vbs生成一个临时bat文件，然后WScript.Shell.Run隐藏启动这个临时bat。</p>
<p>HideRun.bat</p>
<p>echo CreateObject(“WScript.Shell”).Run “cmd /c D:/test.bat”,0&gt;tmp.vbscscript.exe/e:vbscripttmp.vbscscript.exe/e:vbscripttmp.vbs<br>del $tmp.vbs<br>这个批处理其实不能使其批处理本身隐藏，但是下面大部分隐藏调用批处理的原理和基础。</p>
<p>HideRun.js</p>
<p>new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c D:/Test.bat’,0);<br>用Javascript有什么好处呢？js的字符串变量可以用单引号，从而方便命令行作为参数调用，而且js很好的支持多行语句用 ; 分隔写成一行。要注意的是：js要区分大小写，方法</p>
<p>必须用括号，结尾必须有分号。所以就成了下面的命令：</p>
<p>mshta “javascript：new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c D:/test.bat’,0);window.close()”</p>
<p> 通常系统管理员会向用户端推送一些脚本并运行，或者拷贝批处理文件到客户端由用户自己运行。但是大部分脚本在运行时会弹出黑色背景的DOS窗口，这会让不少用户不知所</p>
<p>措，甚至误操作关闭正在运行的窗口。好在批处理文件的DOS窗口是可以隐藏的，以下是几种隐藏批处理运行窗口的方法。</p>
<p>1.基础</p>
<p>HideRun.vbs</p>
<p>CreateObject(“WScript.Shell”).Run “cmd /c D:/test.bat”,0 <a href="http://www.xitonghe.com/">www.xitonghe.com</a><br>其中D:/test.bat是你的批处理路径</p>
<p>另一思路为把bat转换成vbs，然后vbs生成一个临时bat文件，然后WScript.Shell.Run隐藏启动这个临时bat。</p>
<p>HideRun.bat</p>
<p>echo CreateObject(“WScript.Shell”).Run “cmd /c D:/test.bat”,0&gt;tmp.vbscscript.exe/e:vbscripttmp.vbscscript.exe/e:vbscripttmp.vbs<br>del $tmp.vbs<br>这个批处理其实不能使其批处理本身隐藏，但是下面大部分隐藏调用批处理的原理和基础。</p>
<p>HideRun.js</p>
<p>new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c D:/Test.bat’,0);<br>用Javascript有什么好处呢？js的字符串变量可以用单引号，从而方便命令行作为参数调用，而且js很好的支持多行语句用 ; 分隔写成一行。要注意的是：js要区分大小写，方法</p>
<p>必须用括号，结尾必须有分号。所以就成了下面的命令：</p>
<p>mshta “javascript：new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c D:/test.bat’,0);window.close()”</p>
<p>2.用快捷方式</p>
<p>如果要使一个批处理本身隐藏，可以参考附件里的一个快捷方式，修改附件中的相关路径即可隐藏启动你的批处理。可以用vbs来建立一个 .lnk，其实用批处理也行（先echo一个</p>
<p>vbs出来）</p>
<p>3.利用系统服务</p>
<p>可以建立一个系统服务然后启动这个服务来启动批处理。缺点是启动服务较慢，需要管理员权限</p>
<p>runassrv add /cmdline:”C:/Windows/System32/cmd.exe /c D:/test.bat” /name:”mysrv”<br>net start mysrv</p>
<p>4.利用at计划任务</p>
<p>用at可以建立一个计划任务，在不输入 /interactive 参数可以后台运行。但是建使用at必须有管理员权限</p>
<p>at 09:10 “cmd /c D:/Test.bat”</p>
<p>然后在 9:10 系统就会自动后台以SYSTEM权限运行这个bat</p>
<p>5.利用ftype文件关联</p>
<p>ftype batfile=C:/Windows/System32/mshta “javascript：new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c%1’,0);window.close();”</p>
<p>6.其他用户</p>
<p>Windows 2k/XP支持多用户，如果能在后台登陆另一个账户的桌面然后运行一个批处理，就能完全达到隐藏的目的</p>
<p>7.编译成可执行文件</p>
<p>不少方法可以实现，可以直接利用的工具有 Quick Batch file compiler。</p>
<p>以上方法由系统盒<a href="http://www.xitonghe.com/">www.xitonghe.com</a> 小编网络整理，希望对大家有帮助。</p>
<p>出处：<a href="http://www.xitonghe.com/jiaocheng/diannao-9298.html">http://www.xitonghe.com/jiaocheng/diannao-9298.html</a></p>
<p>=======================================================================================</p>
<h1 id="批处理隐藏自身窗口，很无聊"><a href="#批处理隐藏自身窗口，很无聊" class="headerlink" title="批处理隐藏自身窗口，很无聊"></a>批处理隐藏自身窗口，很无聊</h1><p>批处理隐藏运行效果代码,防止出现黑窗口不建议非法用途，可以用来执行命令，提供用户体验。</p>
<p>复制代码 代码如下:</p>
<p>@echo oFF<br>::code by LZ-MyST QQ:8450919 BLOG:<a href="http://hi.baidu.com/lzmyst">http://hi.baidu.com/lzmyst</a> <a href="http://www.clxp.net.cn/">http://www.clxp.net.cn</a><br>if “%1” neq “1” (<br>&gt;“%temp%\tmp.vbs” echo set WshShell = WScript.CreateObject^(^”WScript.Shell^”^)<br>&gt;&gt;”%temp%\tmp.vbs” echo WshShell.Run chr^(34^) ^&amp; %0 ^&amp; chr^(34^) ^&amp; ^” 1^”,0<br>start /d “%temp%” tmp.vbs<br>exit</p>
<p>)<br>::从这里开始，就是你的批处理代码了，DOS黑框一闪而过，转到后台运行了<br>pause<br>::你会在任务管理器看到有一个隐藏窗口的CMD进程</p>
<p><strong>运行bat时隐藏cmd窗口的方法</strong></p>
<p>运行bat时隐藏cmd窗口的方法 可以编辑一个vbs脚本，在其中以隐藏窗口运行批处理程序。</p>
<p>复制代码 代码如下:</p>
<p>Set ws = CreateObject(“Wscript.Shell”)<br>ws.run “cmd /c 批处理程序名”,vbhide</p>
<p>将上面代码拷贝到记事本中，保存为”runbat.vbs”或者其它的名字（扩展名必须是.vbs），然后点击运行生成的脚本runbat.vbs，即可隐藏运行指定的批处理程序。<br>这个vbs脚本也可以在bat环境中直接调用，达到隐藏bat自身的目的。<br>自己总结一下,做几个例子，有兴趣的去试验一下啊!</p>
<p>复制代码 代码如下:</p>
<p>Set ws = CreateObject(“Wscript.Shell”)<br>wscript.sleep 1200 ws.run “cmd /c start winrar.exe”,vbhide<br>wscript.sleep 2200 ws.run “cmd /c start msimn.exe”,vbhide<br>wscript.sleep 1200 ws.run “cmd /c start iexplore.exe”,vbhide</p>
<p><strong>下面来几个高手整理的</strong></p>
<p>几种隐藏批处理运行窗口的方法 .<br>（1）通过批处理命令实现。缺点：会看到一个窗口一闪而逝。优点：简单，直接添加即可。</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="keyword">if</span> &quot;%<span class="number">1</span>&quot;==&quot;h&quot; <span class="keyword">goto</span> begin</span><br><span class="line"><span class="built_in">start</span> mshta vbscript:createobject(&quot;wscript.shell&quot;).run(&quot;&quot;&quot;%~nx0&quot;&quot; h&quot;,<span class="number">0</span>)(window.close)&amp;&amp;<span class="keyword">exit</span></span><br><span class="line">:begin</span><br><span class="line">::以下为正常批处理命令，不可含有<span class="built_in">pause</span> <span class="built_in">set</span>/p等交互命令</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure>



<p>（2）利用vbs脚本实现隐藏。缺点：调用麻烦点。优点：基本看不到痕迹（非绝对的，指一般用户）</p>
<p>HideRun.vbs</p>
<p>复制代码 代码如下:</p>
<p>CreateObject(“WScript.Shell”).Run “cmd /c D:/test.bat”,0</p>
<p>其中D:/test.bat是你的批处理路径<br>…………………………………………………………………………………………………………………….<br>另一思路为把bat转换成vbs，然后vbs生成一个临时bat文件，然后WScript.Shell.Run隐藏启动这个临时bat。<br>HideRun.bat</p>
<p>复制代码 代码如下:</p>
<p>echo CreateObject(“WScript.Shell”).Run “cmd /c D:/test.bat”,0&gt;tmp.vbscscript.exe/e:vbscripttmp.vbscscript.exe/e:vbscripttmp.vbs<br>del $tmp.vbs</p>
<p>这个批处理其实不能使其批处理本身隐藏，但是下面大部分隐藏调用批处理的原理和基础。<br>HideRun.js</p>
<p>复制代码 代码如下:</p>
<p>new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c D:/Test.bat’,0);</p>
<p>用Javascript有什么好处呢？js的字符串变量可以用单引号，从而方便命令行作为参数调用，而且js很好的支持多行语句用 ; 分隔写成一行。要注意的是：js要区分大小写，方法<br>必须用括号，结尾必须有分号。所以就成了下面的命令：</p>
<p>复制代码 代码如下:</p>
<p>mshta “javascript:new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c D:/test.bat’,0);window.close()”</p>
<p>​    通常系统管理员会向用户端推送一些脚本并运行，或者拷贝批处理文件到客户端由用户自己运行。但是大部分脚本在运行时会弹出黑色背景的DOS窗口，这会让不少用户不知所<br>措，甚至误操作关闭正在运行的窗口。好在批处理文件的DOS窗口是可以隐藏的，以下是几种隐藏批处理运行窗口的方法。<br>1.基础<br>HideRun.vbs<br>CreateObject(“WScript.Shell”).Run “cmd /c D:/test.bat”,0<br>其中D:/test.bat是你的批处理路径<br>另一思路为把bat转换成vbs，然后vbs生成一个临时bat文件，然后WScript.Shell.Run隐藏启动这个临时bat。<br>HideRun.bat</p>
<p>复制代码 代码如下:</p>
<p>echo CreateObject(“WScript.Shell”).Run “cmd /c D:/test.bat”,0&gt;tmp.vbscscript.exe/e:vbscripttmp.vbscscript.exe/e:vbscripttmp.vbs<br>del $tmp.vbs</p>
<p>这个批处理其实不能使其批处理本身隐藏，但是下面大部分隐藏调用批处理的原理和基础。<br>HideRun.js<br>new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c D:/Test.bat’,0);<br>用Javascript有什么好处呢？js的字符串变量可以用单引号，从而方便命令行作为参数调用，而且js很好的支持多行语句用 ; 分隔写成一行。要注意的是：js要区分大小写，方法<br>必须用括号，结尾必须有分号。所以就成了下面的命令：<br>mshta “javascript:new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c D:/test.bat’,0);window.close()”<br>2.用快捷方式<br>如果要使一个批处理本身隐藏，可以参考附件里的一个快捷方式，修改附件中的相关路径即可隐藏启动你的批处理。可以用vbs来建立一个 .lnk，其实用批处理也行（先echo一个<br>vbs出来）<br>3.利用系统服务<br>可以建立一个系统服务然后启动这个服务来启动批处理。缺点是启动服务较慢，需要管理员权限<br>runassrv add /cmdline:”C:/Windows/System32/cmd.exe /c D:/test.bat” /name:”mysrv”<br>net start mysrv<br>4.利用at计划任务<br>用at可以建立一个计划任务，在不输入 /interactive 参数可以后台运行。但是建使用at必须有管理员权限<br>at 09:10 “cmd /c D:/Test.bat”<br>然后在 9:10 系统就会自动后台以SYSTEM权限运行这个bat</p>
<p>5.利用ftype文件关联<br>ftype batfile=C:/Windows/System32/mshta “javascript:new ActiveXObject(‘WScript.Shell’).Run(‘cmd /c%1’,0);window.close();”<br>6.其他用户<br>Windows 2k/XP支持多用户，如果能在后台登陆另一个账户的桌面然后运行一个批处理，就能完全达到隐藏的目的<br>7.编译成可执行文件<br>不少方法可以实现，可以直接利用的工具有 Quick Batch file compiler。</p>
<p>出处：<a href="https://www.jb51.net/article/14352.htm">https://www.jb51.net/article/14352.htm</a></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>重复视频图片整理     </title>
    <url>/2021/10/20/cl449bvxi0042b4bhfriu88iu/</url>
    <content><![CDATA[<h1 id="用-Python-实现哈希算法检测重复图片"><a href="#用-Python-实现哈希算法检测重复图片" class="headerlink" title="用 Python 实现哈希算法检测重复图片"></a>用 Python 实现哈希算法检测重复图片</h1><p><a href="https://www.jianshu.com/u/4302480a3e8e"><img src="https://upload.jianshu.io/users/upload_avatars/1114626/8a3dbc61-3f19-4a75-86b2-c3abd6f422aa.jpg?imageMogr2/auto-orient/strip%7CimageView2/1/w/96/h/96/format/webp" alt="img"></a></p>
<p><a href="https://www.jianshu.com/u/4302480a3e8e">水之心</a><a href="https://www.jianshu.com/p/3bc50b869c89"><img src="https://upload.jianshu.io/user_badge/d60756bb-83ca-4515-9eda-a8cd7c72e188" alt="  "></a>关注</p>
<p>0.5142018.11.25 14:25:45字数 1,261阅读 3,363</p>
<p>在 Python 中导入 <code>hashlib</code> 模块，调用函数就可以生成某一个字符串或者文件的哈希值。这个算法对于未被篡改的上传文件非常有效，如果输入数据有细微变化，加密哈希算法都会导致雪崩效应，从而造成新文件的哈希值完全不同于原始文件哈希值。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br></pre></td></tr></table></figure>

<p>某些情况下，我们需要检测图片之间的相似性，进行我们需要的处理：删除同一张图片、标记盗版等。</p>
<p>如何判断是同一张图片呢？最简单的方法是使用加密哈希（例如 MD5, SHA-1）判断。但是局限性非常大。例如一个 txt 文档，其 MD5 值是根据这个 txt 的二进制数据计算的，如果是这个 txt 文档的完全复制版，那他们的 MD5 值是完全相同的。但是，一旦改变副本的内容，哪怕只是副本的缩进格式，其 MD5 也会天差地别。比如，下面的两个字符串只是一个 <code>.</code> 符号的差别，MD5 却变化很大：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">txt = <span class="string">b&#x27;The quick brown fox jumps over the lazy dog&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(txt, hashlib.md5(txt).hexdigest())</span><br><span class="line"><span class="built_in">print</span>(txt+<span class="string">b&#x27;.&#x27;</span>, hashlib.md5(txt+<span class="string">b&#x27;.&#x27;</span>).hexdigest())</span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">b<span class="string">&#x27;The quick brown fox jumps over the lazy dog&#x27;</span> 9e107d9d372bb6826bd81d3542a419d6</span><br><span class="line">b<span class="string">&#x27;The quick brown fox jumps over the lazy dog.&#x27;</span> e4d909c290d0fb1ca068ffaddf22cbd0</span><br></pre></td></tr></table></figure>

<p>因此加密哈希只能用于判断两个完全一致、未经修改的文件，如果是一张经过调色或者缩放的图片，根本无法判断其与另一张图片是否为同一张图片。<br>那么如何判断一张被PS过的图片是否与另一张图片本质上相同呢？比较简单、易用的解决方案是采用感知哈希算法（Perceptual Hash Algorithm)。</p>
<p>感知哈希算法是一类算法的总称，包括 aHash、pHash、dHash。顾名思义，感知哈希不是以严格的方式计算 Hash 值，而是以更加相对的方式计算哈希值，因为“相似”与否，就是一种相对的判定。[<a href="https://www.jianshu.com/p/f12b545c63a4#fn1">1]</a></p>
<ul>
<li>aHash：平均值哈希。速度比较快，但是常常不太精确。</li>
<li>pHash：余弦感知哈希。精确度比较高，但是速度方面较差一些。</li>
<li>dHash：差异值哈希。Amazing！精确度较高，且速度也非常快。</li>
</ul>
<p>我们先看看一张图片：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">img_name = <span class="string">&#x27;E:/Data/URLimg/猫/喜马拉雅猫/27.jpg&#x27;</span></span><br><span class="line">Image(img_name)</span><br></pre></td></tr></table></figure>
<p><a href="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802975.png">https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110200802975.png</a></p>
<p><a href="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108171149008.png">https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211108171149008.png</a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110202043455.webp" alt="img"></p>
<p>output_6_0.jpeg</p>
<p>下面我们主要研究<strong>以图搜图</strong>，它最核心的东西就是怎么让电脑识别图片。为了了解<strong>以图搜图</strong>，我们先看看哈希感知算法基本原理：</p>
<ol>
<li>把图片转成一个可识别的字符串，这个字符串也叫<strong>哈希值</strong></li>
<li>和其他图片匹配字符串，通过哈希值计算两张图片的汉明距离（Hamming Distance），通过汉明距离的大小，判断两张图片的相似程度。</li>
</ol>
<h2 id="ahash"><a href="#ahash" class="headerlink" title="ahash"></a>ahash</h2><p>均值哈希算法，</p>
<ul>
<li>模糊化处理：使用 Opencv3 直接以 Gray 格式读取图片，然后将其缩小至 ![8 \times 8](<a href="https://math.jianshu.com/math?formula=8">https://math.jianshu.com/math?formula=8</a> \times 8) 大小以减少计算量。</li>
<li>计算均值得到这个平均值之后，再和每个像素对比。像素值大于平均值的标记成 <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110202043292.svg+xml;%20charset=utf-8" alt="1">，小于或等于平均值的标记成 <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110202043439.svg+xml;%20charset=utf-8" alt="0">。组成 <img src="https://math.jianshu.com/math?formula=64" alt="64"> 个数字的字符串(看起来也是一串二进制的)。</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">aHash</span>(<span class="params">image_path, hash_size=<span class="number">8</span></span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    get image ahash string</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    img = plt.imread(image_path) <span class="comment"># 转换为灰度图</span></span><br><span class="line">    gray_img = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)</span><br><span class="line">    resize_img = cv2.resize(gray_img, (hash_size, hash_size))</span><br><span class="line">    <span class="comment"># avg 和每个像素比较</span></span><br><span class="line">    img_ = resize_img &gt; resize_img.mean()</span><br><span class="line">    <span class="comment"># 二值化</span></span><br><span class="line">    img_bi = <span class="string">&#x27;&#x27;</span>.join(img_.astype(<span class="string">&#x27;B&#x27;</span>).flatten().astype(<span class="string">&#x27;U&#x27;</span>).tolist())</span><br><span class="line">    <span class="comment">#切割，每4个字符一组，转成16进制字符</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">map</span>(<span class="keyword">lambda</span> x:<span class="string">&#x27;%x&#x27;</span> % <span class="built_in">int</span>(img_bi[x:x+<span class="number">4</span>],<span class="number">2</span>), <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">64</span>,<span class="number">4</span>)))</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;图片的 aHash:&#x27;</span>, aHash(img_name))</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">图片的 aHash: bdc1c041767e7ca8</span><br></pre></td></tr></table></figure>

<h2 id="dHash"><a href="#dHash" class="headerlink" title="dHash"></a>dHash</h2><h3 id="缩放图片"><a href="#缩放图片" class="headerlink" title="缩放图片"></a>缩放图片</h3><p>如果我们要计算上图的 dHash 值，第一步是把它缩放到足够小。为什么需要缩放呢？因为原图的分辨率一般都非常高。一张 ![200 \times 200](<a href="https://math.jianshu.com/math?formula=200">https://math.jianshu.com/math?formula=200</a> \times 200) 的图片，就有整整 <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110202043268.svg+xml;%20charset=utf-8" alt="4"> 万个像素点，每一个像素点都保存着一个 RGB 值，<img src="https://math.jianshu.com/math?formula=4" alt="4"> 万个 RGB，是相当庞大的信息量，非常多的细节需要处理。因此，我们需要把图片缩放到非常小，隐藏它的细节部分，只见森林，不见树木。建议缩放为 <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110202043475.svg+xml;%20charset=utf-8" alt="8\times 9">，虽然可以缩放为任意大小，但是这个值是相对合理的。而且宽度为 <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110202043434.svg+xml;%20charset=utf-8" alt="9">，有利于我们转换为 hash 值，往下面看，你就明白了。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">img = plt.imread(img_name) <span class="comment"># 转换为灰度图</span></span><br><span class="line">hash_size = <span class="number">8</span></span><br><span class="line">gray_img = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)</span><br><span class="line">resize_img = cv2.resize(gray_img, (hash_size+<span class="number">1</span>, hash_size))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 缩放为 8 * 9 分辨率后</span></span><br><span class="line">plt.imshow(resize_img)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110202043010.webp" alt="img"></p>
<p>output_11_0.png</p>
<p>具体的流程和 aHash 差不多，只需要将均值改为水平梯度计算即可。该算法计算相邻像素之间的亮度差异并确定相对梯度。感知哈希算法从文件内容的各种特征中获得一个能够灵活分辨不同文件微小区别的多媒体文件指纹。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dhash</span>(<span class="params">image_path, hash_size=<span class="number">8</span></span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    get image dhash string</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    img = plt.imread(image_path)  <span class="comment"># 转换为灰度图</span></span><br><span class="line">    gray_img = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)</span><br><span class="line">    resize_img = cv2.resize(gray_img, (hash_size+<span class="number">1</span>, hash_size))</span><br><span class="line">    <span class="comment"># 计算水平梯度</span></span><br><span class="line">    differences = []</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(resize_img.shape[<span class="number">1</span>]-<span class="number">1</span>):</span><br><span class="line">        differences.append(resize_img[:, t] &gt; resize_img[:, t+<span class="number">1</span>])</span><br><span class="line">    img_ = np.stack(differences).T</span><br><span class="line">    <span class="comment"># 二值化</span></span><br><span class="line">    img_bi = <span class="string">&#x27;&#x27;</span>.join(img_.astype(<span class="string">&#x27;B&#x27;</span>).flatten().astype(<span class="string">&#x27;U&#x27;</span>).tolist())</span><br><span class="line">    <span class="comment"># 切割，每4个字符一组，转成16进制字符</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: <span class="string">&#x27;%x&#x27;</span> % <span class="built_in">int</span>(img_bi[x:x+<span class="number">4</span>], <span class="number">2</span>), <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">64</span>, <span class="number">4</span>)))</span><br></pre></td></tr></table></figure>

<p>为了方便，我将其封装为一个类：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XHash</span>:</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    感知 Hash 算法</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, image_path, hash_type</span>):</span></span><br><span class="line">        self.image_path = image_path</span><br><span class="line">        self.hash_size = <span class="number">8</span></span><br><span class="line">        self.<span class="built_in">type</span> = hash_type</span><br><span class="line">        <span class="keyword">if</span> self.<span class="built_in">type</span> == <span class="string">&#x27;aHash&#x27;</span>:</span><br><span class="line">            self.<span class="built_in">hash</span> = self.__aHash()</span><br><span class="line">        <span class="keyword">elif</span> self.<span class="built_in">type</span> == <span class="string">&#x27;dHash&#x27;</span>:</span><br><span class="line">            self.<span class="built_in">hash</span> = self.__dHash()</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__get_gray</span>(<span class="params">self, img</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        读取 RGB 图片 并转换为灰度图</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="comment"># 由于 cv2.imread 无法识别中文路径，所以使用 plt.imread</span></span><br><span class="line">        <span class="keyword">return</span> cv2.cvtColor(img, cv2.COLOR_RGB2GRAY) <span class="comment"># 转换为灰度图</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__difference</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        比较左右像素的差异</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        img = plt.imread(self.image_path)</span><br><span class="line">        resize_img = cv2.resize(img, (self.hash_size+<span class="number">1</span>, self.hash_size))</span><br><span class="line">        gray = self.__get_gray(resize_img)</span><br><span class="line">        differences = []</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(resize_img.shape[<span class="number">1</span>]-<span class="number">1</span>):</span><br><span class="line">            differences.append(gray[:, t] &gt; gray[:, t+<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> np.stack(differences).T</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__average</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        与像素均值进行比较</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        img = plt.imread(self.image_path)</span><br><span class="line">        resize_img = cv2.resize(img, (self.hash_size, self.hash_size))</span><br><span class="line">        gray = self.__get_gray(resize_img)</span><br><span class="line">        <span class="keyword">return</span> gray &gt; gray.mean()</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__binarization</span>(<span class="params">self, hash_image</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        二值化</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(hash_image.astype(<span class="string">&#x27;B&#x27;</span>).flatten().astype(<span class="string">&#x27;U&#x27;</span>).tolist())</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__seg</span>(<span class="params">self, hash_image</span>):</span></span><br><span class="line">        img_bi = self.__binarization(hash_image)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: <span class="string">&#x27;%x&#x27;</span> % <span class="built_in">int</span>(img_bi[x:x+<span class="number">4</span>], <span class="number">2</span>), <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">64</span>, <span class="number">4</span>)))</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__aHash</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__seg(self.__average())</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__dHash</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__seg(self.__difference())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XHash_Haming</span>:</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    计算两张图片的相似度</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, image_path1, image_path2, hash_type</span>):</span></span><br><span class="line">        self.hash_img1 = XHash(image_path1, hash_type).<span class="built_in">hash</span></span><br><span class="line">        self.hash_img2 = XHash(image_path2, hash_type).<span class="built_in">hash</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hash_haming</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        计算两张通过哈希感知算法编码的图片的汉明距离</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> np.array([self.hash_img1[x] != self.hash_img2[x] <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">16</span>)], dtype=<span class="string">&#x27;B&#x27;</span>).<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">dir_name = <span class="string">&#x27;E:/Data/URLimg/猫/test/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(os.listdir(dir_name))</span><br></pre></td></tr></table></figure>



<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">[&#x27;<span class="number">16</span> - 副本.jpg&#x27;, &#x27;<span class="number">6</span> - 副本.jpg&#x27;, &#x27;<span class="number">6.</span>jpg&#x27;, &#x27;<span class="number">8</span> - 副本 - 副本.jpg&#x27;, &#x27;<span class="number">8</span> - 副本.jpg&#x27;]</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path.append(<span class="string">&#x27;E:/zlab&#x27;</span>)</span><br><span class="line"><span class="keyword">from</span> dhash <span class="keyword">import</span> XHash, XHash_Haming</span><br></pre></td></tr></table></figure>

<p>我们这里有两个副本，我们看看它们的 dHash：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pairs</span>:</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    使用 dHash 实现哈希感知算法</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            root = os.getcwd()</span><br><span class="line">        self.names = &#123;</span><br><span class="line">            j: os.path.join(root, name)</span><br><span class="line">            <span class="keyword">for</span> j, name <span class="keyword">in</span> <span class="built_in">enumerate</span>(os.listdir(root))</span><br><span class="line">        &#125;</span><br><span class="line">        self.__hashs = np.array([</span><br><span class="line">            XHash(self.names[name], <span class="string">&#x27;dHash&#x27;</span>).<span class="built_in">hash</span></span><br><span class="line">            <span class="keyword">for</span> name <span class="keyword">in</span> self.names.keys()</span><br><span class="line">        ])</span><br><span class="line">        self.__cal_haming_distance(self.__hashs)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__cal_haming_distance</span>(<span class="params">self, hashs</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        计算两两之间的距离</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        pairs = &#123;&#125;</span><br><span class="line">        <span class="keyword">while</span> j &lt; hashs.shape[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(j + <span class="number">1</span>, hashs.shape[<span class="number">0</span>]):  <span class="comment"># 图片对，过滤到已经计算过的 pairs</span></span><br><span class="line">                pairs[j] = pairs.get(j, []) + \</span><br><span class="line">                    [np.array(hashs[i] != hashs[j]).<span class="built_in">sum</span>()]</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        self.pairs = pairs</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_names</span>(<span class="params">self</span>):</span></span><br><span class="line">        n = <span class="built_in">len</span>(self.pairs)</span><br><span class="line">        temp = &#123;&#125;</span><br><span class="line">        <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            n -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> i, d <span class="keyword">in</span> <span class="built_in">enumerate</span>(self.pairs[n]):</span><br><span class="line">                <span class="keyword">if</span> d == <span class="number">0</span>:</span><br><span class="line">                    temp[n] = temp.get(n, []) + [i + n + <span class="number">1</span>]</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">return</span> temp</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">del_repeat</span>(<span class="params">self</span>):</span></span><br><span class="line">        P = self.get_names()</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> P:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> P[j]:</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    os.remove(self.names[i])</span><br><span class="line">                <span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&#x27;已经移除，无需再次移除！&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;删除完成！&#x27;</span>)```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">pairs = Pairs(dir_name)</span><br><span class="line"></span><br><span class="line">pairs.pairs</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;0: [15, 15, 13, 13], 1: [0, 16, 16], 2: [16, 16], 3: [0]&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以通过汉明距离判定：<code>0</code> 与 <code>1</code>、<code>3</code> 与 <code>4</code> 号图片分别是同一张图片，仅仅保留一张，删除重复图片：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">os.listdir(dir_name)</span><br></pre></td></tr></table></figure>



<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">[&#x27;<span class="number">16</span> - 副本.jpg&#x27;, &#x27;<span class="number">6</span> - 副本.jpg&#x27;, &#x27;<span class="number">6.</span>jpg&#x27;, &#x27;<span class="number">8</span> - 副本 - 副本.jpg&#x27;, &#x27;<span class="number">8</span> - 副本.jpg&#x27;]</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pairs.del_repeat()</span><br><span class="line">os.listdir(dir_name)</span><br></pre></td></tr></table></figure>



<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">[&#x27;<span class="number">16</span> - 副本.jpg&#x27;, &#x27;<span class="number">6</span> - 副本.jpg&#x27;, &#x27;<span class="number">8</span> - 副本 - 副本.jpg&#x27;]</span><br></pre></td></tr></table></figure>

<p>自动把重复的图片删除了！</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pairs.names</span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;0: <span class="string">&#x27;E:/Data/URLimg/猫/test/16 - 副本.jpg&#x27;</span>,</span><br><span class="line"> 1: <span class="string">&#x27;E:/Data/URLimg/猫/test/6 - 副本.jpg&#x27;</span>,</span><br><span class="line"> 3: <span class="string">&#x27;E:/Data/URLimg/猫/test/8 - 副本 - 副本.jpg&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>该代码被我放在 <a href="https://github.com/XinetAI/CVX/blob/master/App/xlab/dhash.py">GitHub</a>，在不断的改进中。</p>
<hr>
<ol>
<li>Erum: <a href="https://www.jianshu.com/p/193f0089b7a2">https://www.jianshu.com/p/193f0089b7a2</a> <a href="https://www.jianshu.com/p/f12b545c63a4#fnref1">↩</a></li>
</ol>
<h1 id="python-查找重复文件，以及查找重复视频的一些思路"><a href="#python-查找重复文件，以及查找重复视频的一些思路" class="headerlink" title="python 查找重复文件，以及查找重复视频的一些思路"></a>python 查找重复文件，以及查找重复视频的一些思路</h1><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110202046092.png" alt="img"></p>
<p><a href="https://blog.csdn.net/watfe">watfe</a> 2020-02-24 19:15:15 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png" alt="img"> 996 <img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110202046055.png" alt="img"> 收藏 2</p>
<p>分类专栏： <a href="https://blog.csdn.net/watfe/category_6341242.html">Python</a></p>
<p>版权</p>
<p><a href="https://blog.csdn.net/watfe/category_6341242.html"><img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="img">Python</a>专栏收录该内容</p>
<p>30 篇文章0 订阅</p>
<p>订阅专栏</p>
<h2 id="查找重复文件（文件大小一致、md5相同）"><a href="#查找重复文件（文件大小一致、md5相同）" class="headerlink" title="查找重复文件（文件大小一致、md5相同）"></a>查找重复文件（文件大小一致、md5相同）</h2><p>思路很简单：</p>
<ol>
<li>找出指定目录及子目录下所有文件</li>
<li>找出大小重复的</li>
<li>进一步确认md5也重复的，则认为是重复文件</li>
</ol>
<p>这里md5，为了加速计算，没有算文件的完整md5。（之前看到过这种算法，忘了在哪里看来的，大概是用于上传文件时，快速判断是否与已有文件对比验证用的）将文件分成256块，每块取前8个字节计算md5，这样能快速计算出一个大概可以用于判断文件唯一性的md5。</p>
<p>完整代码如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    path = <span class="string">&#x27;d:/&#x27;</span></span><br><span class="line">    fp_arr =  file_search(path,repat=<span class="string">r&#x27;.*\.mp4&#x27;</span>)  <span class="comment"># 查找文件(文件类型自行填写，不写查所有文件类型)</span></span><br><span class="line">    du_arr = find_duplicate_file(fp_arr)          <span class="comment"># 检查重复</span></span><br><span class="line"><span class="comment"># [fp_arr.remove(l) for j in [i[1:] for i in du_arr] for l in j] # 去重，重复文件只保留第1个即可</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">file_search</span>(<span class="params">path=<span class="string">&#x27;.&#x27;</span>,repat = <span class="string">r&#x27;.*&#x27;</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    文件查找：</span></span><br><span class="line"><span class="string">        文件夹及子文件夹下，所有匹配文件，返回list文件列表，绝对路径形式</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        path: 文件路径（默认当前路径）</span></span><br><span class="line"><span class="string">        repat: 文件名正则匹配，不区分大小写（默认匹配所有文件）</span></span><br><span class="line"><span class="string">        return: 文件列表（绝对路径）</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        files_match: 文件列表</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 获取文件夹，及子文件夹下所有文件，并转为绝对路径</span></span><br><span class="line">    folders,files = [],[]</span><br><span class="line">    st = time.time()</span><br><span class="line">    repat = <span class="string">&#x27;^&#x27;</span>+repat+<span class="string">&#x27;$&#x27;</span></span><br><span class="line">    <span class="comment"># walk结果形式 [(path:文件夹,[dirlist:该文件夹下的文件夹],[filelist:该文件夹下的文件]),(子文件夹1,[子子文件夹],[]),(子文件夹2,[],[])...]</span></span><br><span class="line">    <span class="comment"># 该遍历会走遍所有子文件夹，返回上述形式的结果信息。</span></span><br><span class="line">    <span class="keyword">for</span> record <span class="keyword">in</span> os.walk(path):  </span><br><span class="line">        fop = record[<span class="number">0</span>]</span><br><span class="line">        folders.append(fop)</span><br><span class="line">        <span class="keyword">for</span> fip <span class="keyword">in</span> record[<span class="number">2</span>]:</span><br><span class="line">            fip = os.path.abspath(os.path.join(fop,fip)).replace(<span class="string">&#x27;\\&#x27;</span>,<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">            files.append(fip)</span><br><span class="line">    <span class="comment"># 逐个检查是否符合要求</span></span><br><span class="line">    files_match = []</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        a = re.findall(repat,file.lower())</span><br><span class="line">        <span class="keyword">if</span> a:</span><br><span class="line">            files_match+=a</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;找到&#123;0&#125;个文件&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(files_match)))</span><br><span class="line">    <span class="comment"># 返回满足要求的</span></span><br><span class="line">    <span class="keyword">return</span> files_match</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fastmd5</span>(<span class="params">file_path,split_piece=<span class="number">256</span>,get_front_bytes=<span class="number">8</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    快速计算一个用于区分文件的md5（非全文件计算，是将文件分成s段后，取每段前d字节，合并后计算md5，以加快计算速度）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        file_path: 文件路径</span></span><br><span class="line"><span class="string">        split_piece: 分割块数</span></span><br><span class="line"><span class="string">        get_front_bytes: 每块取前多少字节</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    size = os.path.getsize(file_path) <span class="comment"># 取文件大小</span></span><br><span class="line">    block = size//split_piece <span class="comment"># 每块大小 </span></span><br><span class="line">    h = hashlib.md5()</span><br><span class="line">    <span class="comment"># 计算md5</span></span><br><span class="line">    <span class="keyword">if</span> size &lt; split_piece*get_front_bytes: </span><br><span class="line">        <span class="comment"># 小于能分割提取大小的直接计算整个文件md5</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            h.update(f.read())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 否则分割计算</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            index = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(split_piece):</span><br><span class="line">                f.seek(index)</span><br><span class="line">                h.update(f.read(get_front_bytes))</span><br><span class="line">                index+=block</span><br><span class="line">    <span class="keyword">return</span> h.hexdigest()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_duplicate_file</span>(<span class="params">fp_arr</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    查找重复文件</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        fp_arr:文件列表</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 将文件大小和路径整理到字典中</span></span><br><span class="line">    d = &#123;&#125;  <span class="comment"># 临时词典 &#123;文件大小1:[文件路径1,文件路径2,……], 文件大小2:[文件路径1,文件路径2,……], ……&#125;</span></span><br><span class="line">    <span class="keyword">for</span> fp <span class="keyword">in</span> fp_arr:</span><br><span class="line">        size = os.path.getsize(fp)</span><br><span class="line">        d[size]=d.get(size,[])+[fp]</span><br><span class="line">    <span class="comment"># 列出相同大小的文件列表</span></span><br><span class="line">    l = [] <span class="comment"># 临时列表 [[文件路径1,文件路径2,……], [文件路径1,文件路径2,……], ……]</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> d:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(d[k])&gt;<span class="number">1</span>:</span><br><span class="line">            l.append(d[k])</span><br><span class="line">    <span class="comment"># 核对大小一致的文件，md5是否相同</span></span><br><span class="line">    ll = [] <span class="comment"># 临时列表 [[文件路径1,文件路径2,……], [文件路径1,文件路径2,……], ……]</span></span><br><span class="line">    <span class="keyword">for</span> f_arr <span class="keyword">in</span> l:</span><br><span class="line">        d = &#123;&#125; <span class="comment"># 临时词典 &#123;文件大小1:[文件路径1,文件路径2,……], 文件大小2:[文件路径1,文件路径2,……], ……&#125;</span></span><br><span class="line">        <span class="keyword">for</span> f <span class="keyword">in</span> f_arr:</span><br><span class="line">            fmd5 = fastmd5(f)</span><br><span class="line">            d[fmd5]=d.get(fmd5,[])+[f]</span><br><span class="line">        <span class="comment"># 找到相同md5的文件</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> d: <span class="comment"># 相同大小的文件，核对一下md5是否一致</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(d[k])&gt;<span class="number">1</span>:</span><br><span class="line">                ll.append(d[k])</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;查重完毕，发现&#123;0&#125;处重复&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(ll)))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> ll:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">    <span class="keyword">return</span> ll</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113</span></span><br></pre></td></tr></table></figure>

<h2 id="视频查重（部分完成）"><a href="#视频查重（部分完成）" class="headerlink" title="视频查重（部分完成）"></a>视频查重（部分完成）</h2><p>思路：对视频进行抽帧，然后比对是否有关键帧的图片指纹是否一致</p>
<p>这里写一下研究过程，实现代码：</p>
<ol>
<li>视频抽帧</li>
<li>图像指纹生成</li>
<li>找出包含同样图像指纹的视频</li>
</ol>
<p>这个过程试过一些方案也都记录一下：<br>曾经考虑subprocess.Popen()执行ffmpeg抽帧，但是太慢了</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">external_cmd</span>(<span class="params">cmd, msg_in=<span class="string">&#x27;&#x27;</span></span>):</span></span><br><span class="line">    <span class="comment"># 将subprocess.call(cmd)包装了一下，这样就能获取到执行cmd命令时，产生的输出内容了。</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        proc = subprocess.Popen(cmd,</span><br><span class="line">                                shell=<span class="literal">True</span>,</span><br><span class="line">                                stdin=subprocess.PIPE,</span><br><span class="line">                                stdout=subprocess.PIPE,</span><br><span class="line">                                stderr=subprocess.PIPE,</span><br><span class="line">                                )</span><br><span class="line">        stdout_value, stderr_value = proc.communicate(msg_in)</span><br><span class="line">        <span class="keyword">return</span> stdout_value, stderr_value</span><br><span class="line">    <span class="keyword">except</span> ValueError <span class="keyword">as</span> err:</span><br><span class="line">        <span class="comment"># log(&quot;ValueError: %s&quot; % err)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line">    <span class="keyword">except</span> IOError <span class="keyword">as</span> err:</span><br><span class="line">        <span class="comment"># log(&quot;IOError: %s&quot; % err)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;方法一&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 1秒抽0.05帧，也就是20s抽1帧，1420s长度视频抽73镇，耗时94s</span></span><br><span class="line">external_cmd(<span class="string">&#x27;ffmpeg -i &quot;&#123;0&#125;&quot; -r 0.05 -q:v 2 -f image2 ./%08d.000000.jpg&#x27;</span>.<span class="built_in">format</span>(video_path))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;方法二&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 20s抽1帧，1420s长度视频抽70帧，耗时18s</span></span><br><span class="line">timeF = <span class="number">20</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,video_duration//timeF):</span><br><span class="line">    h,m,s = (i*timeF)//<span class="number">3600</span>, ((i*timeF)%<span class="number">3600</span>)//<span class="number">60</span>, (i*timeF)%<span class="number">60</span></span><br><span class="line">    external_cmd(<span class="string">&#x27;ffmpeg -i &quot;&#123;0&#125;&quot; -ss &#123;1:0=2&#125;:&#123;2:0=2&#125;:&#123;3:0=2&#125; -vframes 1 &#123;4&#125;.jpg&#x27;</span>.<span class="built_in">format</span>(video_path,h,m,s,i)) <span class="comment"># 抽取指定时间点起的第一帧</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;方法三&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 20s抽1帧，1420s长度视频抽70帧，并压缩到100*100耗时17s（对图像的压缩处理基本不影响速度，时间开销的大头也不是出在文件存储上，而是ffmpeg定位时间为位置然后抽帧本身就慢）</span></span><br><span class="line">timeF = <span class="number">20</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,video_duration//timeF):</span><br><span class="line">    h,m,s = (i*timeF)//<span class="number">3600</span>, ((i*timeF)%<span class="number">3600</span>)//<span class="number">60</span>, (i*timeF)%<span class="number">60</span></span><br><span class="line">    hw = <span class="string">&#x27;&#123;0&#125;x&#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">100</span>)</span><br><span class="line">    external_cmd(<span class="string">&#x27;ffmpeg -i &quot;&#123;0&#125;&quot; -ss &#123;1:0=2&#125;:&#123;2:0=2&#125;:&#123;3:0=2&#125; -vframes 1 -s &#123;5&#125; -f image2 &#123;4&#125;.jpeg&#x27;</span>.<span class="built_in">format</span>(video_path,h,m,s,i,hw))</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940</span></span><br></pre></td></tr></table></figure>

<p>最后选定的还是cv2抽帧</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">这个是一开始想的，将抽到的帧保存为单张图像，发现还是慢。</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"># 视频抽帧测试，这种抽帧方式太慢了，1000帧大概45秒长度视频，花费5秒左右</span></span><br><span class="line"><span class="string">videopath = &#x27;01.mp4&#x27;</span></span><br><span class="line"><span class="string">vc = cv2.cv2.VideoCapture(videopath)</span></span><br><span class="line"><span class="string">if vc.isOpened(): # 是否正常打开</span></span><br><span class="line"><span class="string">    rval,frame = vc.read()</span></span><br><span class="line"><span class="string">else:</span></span><br><span class="line"><span class="string">    rval = False</span></span><br><span class="line"><span class="string">timeF =1000 # 抽帧频率</span></span><br><span class="line"><span class="string">c = 1</span></span><br><span class="line"><span class="string">while rval:</span></span><br><span class="line"><span class="string">    rval,frame = vc.read()</span></span><br><span class="line"><span class="string">    if(c%timeF==0):</span></span><br><span class="line"><span class="string">        cv2.imwrite(&#x27;&#123;0:0=3&#125;.jpg&#x27;.format(c),frame)</span></span><br><span class="line"><span class="string">    cv2.waitKey(1)</span></span><br><span class="line"><span class="string">    c+=1</span></span><br><span class="line"><span class="string">vc.release()</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920</span></span><br><span class="line">然后换成了这种，不存图像了，直接将抽到图像计算成dhash保存，总算速度上来了。</span><br><span class="line"><span class="comment"># 视频，取指定时间点图片，转指定宽高后，计算图像指纹</span></span><br><span class="line">v = <span class="string">&#x27;c:/users/kindle/desktop/test/01.mp4&#x27;</span></span><br><span class="line">cap = cv2.VideoCapture(v)  <span class="comment">#打开视频文件</span></span><br><span class="line">n_frames = <span class="built_in">int</span>(cap.get(cv2.CAP_PROP_FRAME_COUNT))  <span class="comment">#视频的帧数</span></span><br><span class="line">fps = cap.get(cv2.CAP_PROP_FPS)  <span class="comment">#视频的帧率</span></span><br><span class="line">dur = n_frames / fps  <span class="comment">#视频的时间</span></span><br><span class="line">cap.<span class="built_in">set</span>(cv2.CAP_PROP_POS_MSEC, (<span class="number">5</span>*<span class="number">1000</span>)) <span class="comment"># 跳到指定时间点，单位毫秒</span></span><br><span class="line">success, image_np = cap.read()  <span class="comment"># 返回该时间点的，图像(numpy数组)，及读取是否成功</span></span><br><span class="line">img = Image.fromarray(cv2.cvtColor(image_np,cv2.COLOR_BGR2RGB)) <span class="comment"># 转成图像格式</span></span><br><span class="line">imgrsz = img.resize((<span class="number">100</span>,<span class="number">100</span>)) <span class="comment"># 缩放到指定宽高（后来发现是否缩放基本不影响）</span></span><br><span class="line"><span class="comment"># imgrsz.save(&#x27;5.jpg&#x27;) # 保存图像</span></span><br><span class="line"><span class="comment"># imgrsz.show()  # 显示图像</span></span><br><span class="line"><span class="number">12345678910111213</span></span><br></pre></td></tr></table></figure>

<p>计算图像指纹，直接用了现成的模块，imagehash里的dhash</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">h5 = <span class="built_in">str</span>(imagehash.dhash(imgrsz)) <span class="comment"># 生成图像指纹</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>在上述基础上，视频转换为图像指纹组的函数基本如下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">video2imageprint</span>(<span class="params">filepath</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    返回整个视频的图片指纹列表</span></span><br><span class="line"><span class="string">    从3秒开始，每60秒抽帧，计算一张图像指纹</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    cap = cv2.VideoCapture(filepath)  <span class="comment">##打开视频文件</span></span><br><span class="line">    n_frames = <span class="built_in">int</span>(cap.get(cv2.CAP_PROP_FRAME_COUNT))  <span class="comment">#视频的帧数</span></span><br><span class="line">    fps = cap.get(cv2.CAP_PROP_FPS)  <span class="comment">#视频的帧率</span></span><br><span class="line">    dur = n_frames / fps *<span class="number">1000</span>  <span class="comment">#视频大致总长度</span></span><br><span class="line">    cap_set = <span class="number">3000</span></span><br><span class="line">    hash_int_arr = []</span><br><span class="line">    <span class="keyword">while</span> cap_set&lt;dur-<span class="number">3000</span>: <span class="comment"># 从3秒开始，每60秒抽帧，计算图像指纹。总长度-3s，是因为有的时候计算出来的长度不准。</span></span><br><span class="line">        cap.<span class="built_in">set</span>(cv2.CAP_PROP_POS_MSEC, cap_set)</span><br><span class="line">        <span class="comment"># 返回该时间点的，图像(numpy数组)，及读取是否成功</span></span><br><span class="line">        success, image_np = cap.read()</span><br><span class="line">        <span class="keyword">if</span> success:</span><br><span class="line">            img = Image.fromarray(cv2.cvtColor(image_np,cv2.COLOR_BGR2RGB))  <span class="comment"># 转成cv图像格式</span></span><br><span class="line">            h = <span class="built_in">str</span>(imagehash.dhash(img))</span><br><span class="line">            hash_arr.append(h) <span class="comment"># 图像指纹</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;fail&#x27;</span>,cap_set/<span class="number">1000</span>,filepath)</span><br><span class="line">        cap_set+=<span class="number">1000</span>*<span class="number">60</span></span><br><span class="line">    cap.release() <span class="comment"># 释放视频</span></span><br><span class="line">    <span class="keyword">return</span> hash_arr</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425</span></span><br></pre></td></tr></table></figure>

<p>然后将建立字典，key为图像指纹，value为地址列表。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># shelve用来做python的字典型数据库，并将其存储在磁盘上。</span></span><br><span class="line"><span class="comment"># shelve的key要求必须是字符串，value则可以是任意合法的python数据类型</span></span><br><span class="line">db = shelve.<span class="built_in">open</span>(<span class="string">&#x27;videocheck.db&#x27;</span>)</span><br><span class="line"><span class="comment"># 写入数据库</span></span><br><span class="line"><span class="keyword">for</span> h <span class="keyword">in</span> hash_arr:</span><br><span class="line">    fp_arr = db.get(h, []) <span class="comment"># 具有相同指纹的对应的视频路径列表</span></span><br><span class="line">    <span class="keyword">if</span> fp_arr==[]:</span><br><span class="line">        db[h]=[filepath]</span><br><span class="line">    <span class="keyword">elif</span> filepath <span class="keyword">not</span> <span class="keyword">in</span> fp_arr:</span><br><span class="line">    	db[h]=db[h]+[filepath] </span><br><span class="line">db.close()</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>

<p>后面就是检查哪个指纹，对应的地址列表中，大于1个文件。<br>则说明有多个视频包含该指纹。<br>为了验证指纹相同的图像是否一致，还写了一个合并图像输出的函数。这个函数写成了这样，是考虑以后可以用作给视频生成多图合并的缩略图玩。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">imgjoin</span>(<span class="params">imgs,tags=[],width_height=(<span class="params"><span class="number">0</span>,<span class="number">0</span></span>),column_row=(<span class="params"><span class="number">0</span>,<span class="number">0</span></span>),blank=(<span class="params"><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span>)</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    多张图片，合并成一张视频抽帧缩略图合并大图那种。</span></span><br><span class="line"><span class="string">    可以每张图片上方加注释，也可以文件顶部只加一行注释。</span></span><br><span class="line"><span class="string">    每张图片宽高，行列间距，四外边距都可以自定义</span></span><br><span class="line"><span class="string">    args:</span></span><br><span class="line"><span class="string">        imgs: pil图片数组</span></span><br><span class="line"><span class="string">        tags: 如果标签数和图片数相同，每张图片上方加文字。如果只有一个标签，则只在图片最顶部加1条文字。</span></span><br><span class="line"><span class="string">        width_height: 合并后图片中，每张缩略图宽高，如未指定以第一张图标为基准</span></span><br><span class="line"><span class="string">        column_row:横排和竖排数量</span></span><br><span class="line"><span class="string">        blank_cr:空白分布(列间,行间,左右,上下,标题,标签)</span></span><br><span class="line"><span class="string">    return: 返回合并好的图片</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">from</span> PIL <span class="keyword">import</span> Image,ImageDraw,ImageFont</span><br><span class="line">    <span class="comment"># 检查是否符合规则</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(imgs)&gt;<span class="number">100</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;imgs当前上限100张图合并&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">elif</span> imgs==[]:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;imgs中没有包含图片，请检查&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="number">1</span>&lt;<span class="built_in">len</span>(tags)&lt;<span class="built_in">len</span>(imgs):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;tags文字数组和图片对不上，请只输入1条或和图片一样多&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="comment"># 每行每列个数</span></span><br><span class="line">    <span class="keyword">if</span> column_row==(<span class="number">0</span>,<span class="number">0</span>):</span><br><span class="line">        cr = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(imgs)&gt;cr**<span class="number">2</span>:</span><br><span class="line">            cr+=<span class="number">1</span></span><br><span class="line">        column_row=(cr,cr)</span><br><span class="line">    c,r = column_row</span><br><span class="line">    <span class="comment"># 调整每张图片到指定宽高，如未指定，以第一张图片宽高为基准:</span></span><br><span class="line">    <span class="keyword">if</span> width_height==(<span class="number">0</span>,<span class="number">0</span>):</span><br><span class="line">        width_height = imgs[<span class="number">0</span>].size</span><br><span class="line">    <span class="keyword">for</span> i,m <span class="keyword">in</span> <span class="built_in">enumerate</span>(imgs):</span><br><span class="line">        <span class="keyword">if</span> m.size!=width_height:</span><br><span class="line">            imgs[i] = m.resize(width_height) <span class="comment"># 缩放到指定宽高</span></span><br><span class="line">    w,h = width_height</span><br><span class="line">    <span class="comment"># 空白分布</span></span><br><span class="line">    bw,bh,blr,btb,btitle,btag = blank <span class="comment"># (列间,行间,左右,上下,标题,标签)</span></span><br><span class="line">    <span class="keyword">if</span> blank==(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tags)==<span class="number">1</span>:</span><br><span class="line">            btitle = h</span><br><span class="line">    <span class="comment"># 生成输出图像尺寸</span></span><br><span class="line">    J_width = w*c + bw*(c-<span class="number">1</span>) + blr*<span class="number">2</span> <span class="comment"># 总计图像宽度+列间距+左右边距</span></span><br><span class="line">    J_height= h*r + bh*(r-<span class="number">1</span>) + btb*<span class="number">2</span> + btitle + btag*r <span class="comment"># 总计图像高度+行间距+顶底边距+标题高度+标签高度</span></span><br><span class="line">    J_img = Image.new(<span class="string">&#x27;RGB&#x27;</span>, (J_width,J_height),(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>))</span><br><span class="line">    draw=ImageDraw.Draw(J_img)</span><br><span class="line">    newfont=ImageFont.truetype(<span class="string">&#x27;simkai.ttf&#x27;</span>,<span class="number">12</span>)</span><br><span class="line">    <span class="comment"># 合并图像</span></span><br><span class="line">    <span class="keyword">for</span> i,m <span class="keyword">in</span> <span class="built_in">enumerate</span>(imgs):</span><br><span class="line">        <span class="keyword">if</span> i==<span class="number">0</span>: <span class="comment"># 第一张图</span></span><br><span class="line">            x,y=blr,btb+btitle+btag <span class="comment"># 第一张图左上角位置</span></span><br><span class="line">        <span class="keyword">elif</span> i%c==<span class="number">0</span>: <span class="comment"># 新的一行</span></span><br><span class="line">            x,y=blr,y+bh+btag+h</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            x,y=x+bw+w,y</span><br><span class="line">        J_img.paste(m, (x, y, x+w, y+h))</span><br><span class="line">        <span class="comment"># 添加文字</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tags)&gt;<span class="number">1</span>:</span><br><span class="line">            draw.text((x,y-btag),tags[i],(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),font=newfont)</span><br><span class="line">    <span class="keyword">return</span> J_img</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364</span></span><br></pre></td></tr></table></figure>

<p>到这里最开始的研究就完成了，<br>最开始的实现思路，就是上面这样。</p>
<p>================</p>
<p>后来发现图像指纹是有可能不是完全一致的，<br>而是相似的，还要考虑到相似的图像指纹。</p>
<p>imagehash.dhash算出来的图像指纹，本身的type类型不是字符串。<br>为了保存，转为字符串后，后续计算两个字符串的相似度，哪怕是很简单的字符串每一位是否与另一字符串每一位相等，数以10w个图像指纹，互相计算都要花费很长时间。<br>计算两个指纹的相似度，试了几种方法效率，最后发现bin最快，这个方法还是从dhash的官网看来的。<br>2020-5-13 看到还有一种写法是<br><code>num = 1 - (aHash - bHash)/len(aHash.hash)**2</code><br>直接imagehash计算，速度和bin的差不多，推荐使用这个。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;关于dhash相似度比较方法研究，得到bin的方法计算最快，我的家用电脑10w次大概0.057秒。&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">a = <span class="string">&#x27;a1a8739f324eb01c&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;a1a8749f323eb01c&#x27;</span></span><br><span class="line">ai = <span class="built_in">int</span>(<span class="built_in">str</span>(a),<span class="number">16</span>)</span><br><span class="line">bi = <span class="built_in">int</span>(<span class="built_in">str</span>(b),<span class="number">16</span>)</span><br><span class="line">st = time.time()</span><br><span class="line"><span class="comment"># 10w次执行速度，bin方式最快</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100000</span>):</span><br><span class="line">    <span class="comment"># num = [a[j] is b[j] for j in range(16)].count(True)/16 # 0.2097s</span></span><br><span class="line">    <span class="comment"># num = [a[j] == b[j] for j in range(16)].count(True)/16 # 0.2082s</span></span><br><span class="line">    <span class="comment"># num = difflib.SequenceMatcher(None, a,b).ratio()       # 4.2250s</span></span><br><span class="line">    num = <span class="number">1</span>-<span class="built_in">bin</span>(ai^bi).count(<span class="string">&quot;1&quot;</span>)/<span class="number">64</span>                         <span class="comment"># 0.0568s</span></span><br><span class="line">et = time.time()</span><br><span class="line"><span class="built_in">print</span>(num,et-st)</span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>

<p>接下来的考虑思路就是</p>
<ol>
<li>计算得到相似图像指纹</li>
<li>找到相似指纹对应的视频</li>
<li>检查视频是否有连续相同地方</li>
<li>列出相似视频对比缩略图</li>
</ol>
<p>1秒比对200w个感觉是挺快<br>但是1000个，长度为1小时的视频，就需要30分钟比对完。<br>这个计算量感觉太大，即使写出来，为提高效率可能需要其他算法之类的优化。</p>
<p>关于效率处理这里，并没有完全想好，也没有时间测试，暂时就搁置了。<br>因为是个人闲暇研究，扔了可能后续就忘了，捡不起来了。<br>所以这里把之前的研究过程记录一下，希望其他有用到的人能得到一些参考。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
  </entry>
  <entry>
    <title> 常用Git命令清单与配置    </title>
    <url>/2021/10/21/cl449bvxj0045b4bhfgs9bgik/</url>
    <content><![CDATA[<p>1.创建项目（本地项目）<br>2.在github新建仓库<br>3.打开项目所在文件夹, 在文件夹上右键运行: git bash here<br>4.使用命令</p>
<ul>
<li><ul>
<li>git init</li>
<li>git add src</li>
<li>git commit -m “first commit”</li>
<li>git remote add origin <a href="mailto:&#103;&#x69;&#x74;&#x40;&#x67;&#x69;&#x74;&#x68;&#x75;&#98;&#46;&#x63;&#x6f;&#x6d;">&#103;&#x69;&#x74;&#x40;&#x67;&#x69;&#x74;&#x68;&#x75;&#98;&#46;&#x63;&#x6f;&#x6d;</a>:MuyanGit/MuyanGit.github.io.git</li>
<li>git push -u origin master</li>
<li>最后一步失败之后 git pull –rebase origin master 执行</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">有如下几种解决方法：</span><br><span class="line"></span><br><span class="line">1.使用强制push的方法：</span><br><span class="line"></span><br><span class="line">git push -u origin master -f </span><br><span class="line"></span><br><span class="line">这样会使远程修改丢失，一般是不可取的，尤其是多人协作开发的时候。</span><br><span class="line"></span><br><span class="line">2.push前先将远程repository修改pull下来</span><br><span class="line"></span><br><span class="line">git pull origin master</span><br><span class="line"></span><br><span class="line">git push -u origin master</span><br><span class="line"></span><br><span class="line">3.若不想merge远程和本地修改，可以先创建新的分支：</span><br><span class="line"></span><br><span class="line">git branch [name]</span><br><span class="line"></span><br><span class="line">然后push</span><br><span class="line"></span><br><span class="line">git push -u origin [name]</span><br></pre></td></tr></table></figure>







<h3 id="常用Git命令清单"><a href="#常用Git命令清单" class="headerlink" title="常用Git命令清单"></a><strong>常用Git命令清单</strong></h3><p>一般来说，日常使用只要记住下图6个命令，就可以了。但是熟练使用，恐怕要记住60～100个命令。</p>
<h3 id="名次解释"><a href="#名次解释" class="headerlink" title="名次解释"></a><strong>名次解释</strong></h3><p>下面是我整理的常用 Git 命令清单。</p>
<p>几个专用名词的译名如下: Workspace：</p>
<p>工作区 Index / Stage：</p>
<p>暂存区 Repository：</p>
<p>仓库区（或本地仓库） Remote：远程仓库</p>
<h3 id="一、新建代码库"><a href="#一、新建代码库" class="headerlink" title="一、新建代码库"></a><strong>一、新建代码库</strong></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录新建一个Git代码库</span></span><br><span class="line">git init</span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建一个目录，将其初始化为Git代码库</span></span><br><span class="line">git init [project-name]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 下载一个项目和它的整个代码历史</span></span><br><span class="line">git clone [url]</span><br></pre></td></tr></table></figure>

<h3 id="二、配置"><a href="#二、配置" class="headerlink" title="二、配置"></a><strong>二、配置</strong></h3><p>Git的设置文件为.gitconfig，它可以在用户主目录下(全局配置)，也可以在项目目录下(项目配置)</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"># 显示当前的Git配置</span><br><span class="line">git config --list</span><br><span class="line"># 编辑Git配置文件</span><br><span class="line">git config -e <span class="selector-attr">[--global]</span></span><br><span class="line"># 设置提交代码时的用户信息</span><br><span class="line">git config <span class="selector-attr">[--global]</span> user<span class="selector-class">.name</span> &quot;<span class="selector-attr">[name]</span>&quot;</span><br><span class="line">git config <span class="selector-attr">[--global]</span> user<span class="selector-class">.email</span> &quot;<span class="selector-attr">[email address]</span>&quot;</span><br><span class="line"># 颜色设置</span><br><span class="line">git config --global <span class="attribute">color</span><span class="selector-class">.ui</span> true                         # git status等命令自动着色</span><br><span class="line">git config --global <span class="attribute">color</span><span class="selector-class">.status</span> <span class="attribute">auto</span></span><br><span class="line">git config --global <span class="attribute">color</span><span class="selector-class">.diff</span> <span class="attribute">auto</span></span><br><span class="line">git config --global <span class="attribute">color</span><span class="selector-class">.branch</span> <span class="attribute">auto</span></span><br><span class="line">git config --global <span class="attribute">color</span><span class="selector-class">.interactive</span> <span class="attribute">auto</span></span><br><span class="line">git config --global --unset http<span class="selector-class">.proxy</span>                    # remove  proxy configuration on git</span><br></pre></td></tr></table></figure>

<h3 id="三、增加-删除文件"><a href="#三、增加-删除文件" class="headerlink" title="三、增加/删除文件"></a>三、增加/删除文件</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 添加指定文件到暂存区</span></span><br><span class="line">git add [<span class="type">file1</span>] [<span class="type">file2</span>] ...</span><br><span class="line"><span class="comment"># 添加指定目录到暂存区，包括子目录</span></span><br><span class="line">git add [<span class="type">dir</span>]</span><br><span class="line"><span class="comment"># 添加当前目录的所有文件到暂存区</span></span><br><span class="line">git add .</span><br><span class="line"><span class="comment"># 添加每个变化前，都会要求确认</span></span><br><span class="line"><span class="comment"># 对于同一个文件的多处变化，可以实现分次提交</span></span><br><span class="line">git add <span class="literal">-p</span></span><br><span class="line"><span class="comment"># 删除工作区文件，并且将这次删除放入暂存区</span></span><br><span class="line">git <span class="built_in">rm</span> [<span class="type">file1</span>] [<span class="type">file2</span>] ...</span><br><span class="line"><span class="comment"># 停止追踪指定文件，但该文件会保留在工作区</span></span><br><span class="line">git <span class="built_in">rm</span> -<span class="literal">-cached</span> [<span class="type">file</span>]</span><br><span class="line"><span class="comment"># 改名文件，并且将这个改名放入暂存区</span></span><br><span class="line">git <span class="built_in">mv</span> [<span class="type">file</span>-<span class="type">original</span>] [<span class="type">file</span>-<span class="type">renamed</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#删除远程分支</span></span><br><span class="line">git init </span><br><span class="line">git remote add origin git@github.com:MuyanGit/muyangit.github.io.git</span><br><span class="line">删除远程分支</span><br><span class="line">git push origin -<span class="literal">-delete</span> &lt;branchName&gt;</span><br><span class="line">覆盖本地</span><br><span class="line">git fetch -<span class="literal">-all</span> <span class="comment">#覆盖本地</span></span><br><span class="line">git reset -<span class="literal">-hard</span> origin/master  <span class="comment">#覆盖本地</span></span><br><span class="line">git pull <span class="comment">#覆盖本地</span></span><br></pre></td></tr></table></figure>

<h3 id="四、代码提交"><a href="#四、代码提交" class="headerlink" title="四、代码提交"></a><strong>四、代码提交</strong></h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"># 提交暂存区到仓库区</span><br><span class="line">git commit -m [message]</span><br><span class="line"># 提交暂存区的指定文件到仓库区</span><br><span class="line">git commit [file1] [file2] ... -m [message]</span><br><span class="line"># 提交工作区自上次commit之后的变化，直接到仓库区</span><br><span class="line">git commit -a</span><br><span class="line"># 提交时显示所有diff信息</span><br><span class="line">git commit -v</span><br><span class="line"># 将add和commit合为一步</span><br><span class="line">git commit -am &#x27;message&#x27;</span><br><span class="line"># 使用一次新的commit，替代上一次提交</span><br><span class="line"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息</span><br><span class="line">git commit --amend -m [message]</span><br><span class="line"># 重做上一次commit，并包括指定文件的新变化</span><br><span class="line">git commit --amend [file1] [file2] ...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="五、分支"><a href="#五、分支" class="headerlink" title="五、分支"></a><strong>五、分支</strong></h3><figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 列出所有本地分支</span></span><br><span class="line">git branch</span><br><span class="line"><span class="comment"># 列出所有远程分支</span></span><br><span class="line">git branch -r</span><br><span class="line"><span class="comment"># 列出所有本地分支和远程分支</span></span><br><span class="line">git branch -a</span><br><span class="line"><span class="comment"># 新建一个分支，但依然停留在当前分支</span></span><br><span class="line">git branch [branch-name]</span><br><span class="line"><span class="comment"># 新建一个分支，并切换到该分支</span></span><br><span class="line">git checkout -b [branch]</span><br><span class="line"><span class="comment"># 新建一个分支，指向指定commit</span></span><br><span class="line">git branch [branch] [commit]</span><br><span class="line"><span class="comment"># 新建一个分支，与指定的远程分支建立追踪关系</span></span><br><span class="line">git branch --track [branch] [remote-branch]</span><br><span class="line"><span class="comment"># 切换到指定分支，并更新工作区</span></span><br><span class="line">git checkout [branch-name]</span><br><span class="line"><span class="comment"># 切换到上一个分支</span></span><br><span class="line">git checkout -</span><br><span class="line"><span class="comment"># 建立追踪关系，在现有分支与指定的远程分支之间</span></span><br><span class="line">git branch --set-upstream [branch] [remote-branch]</span><br><span class="line"><span class="comment"># 合并指定分支到当前分支</span></span><br><span class="line">git merge [branch]</span><br><span class="line"><span class="comment"># 选择一个commit，合并进当前分支</span></span><br><span class="line">git cherry-pick [commit]</span><br><span class="line"><span class="comment"># 删除分支</span></span><br><span class="line">git branch -d [branch-name]</span><br><span class="line"><span class="comment"># 删除远程分支</span></span><br><span class="line">git push origin --delete [branch-name]</span><br><span class="line">git branch -dr [remote/branch]</span><br><span class="line"><span class="comment"># 检出版本v2.0</span></span><br><span class="line">git checkout v2.<span class="number">0</span></span><br><span class="line"><span class="comment"># 从远程分支develop创建新本地分支devel并检出</span></span><br><span class="line">git checkout -b devel origin/develop</span><br><span class="line"><span class="comment"># 检出head版本的README文件（可用于修改错误回退）</span></span><br><span class="line">git checkout -- README </span><br></pre></td></tr></table></figure>

<h3 id="六、标签"><a href="#六、标签" class="headerlink" title="六、标签"></a>六、标签</h3><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 列出所有tag</span></span><br><span class="line">git <span class="keyword">tag</span></span><br><span class="line"><span class="title"># 新建一个tag</span>在当前commit</span><br><span class="line">git <span class="keyword">tag</span> <span class="title">[tag</span>]</span><br><span class="line"><span class="comment"># 新建一个tag在指定commit</span></span><br><span class="line">git <span class="keyword">tag</span> <span class="title">[tag</span>] [commit]</span><br><span class="line"><span class="comment"># 删除本地tag</span></span><br><span class="line">git <span class="keyword">tag</span> <span class="title">-d</span> [<span class="keyword">tag</span>]</span><br><span class="line"><span class="comment"># 删除远程tag</span></span><br><span class="line">git push origin :refs/tags/[tagName]</span><br><span class="line"><span class="comment"># 查看tag信息</span></span><br><span class="line">git show [<span class="keyword">tag</span>]</span><br><span class="line"><span class="comment"># 提交指定tag</span></span><br><span class="line">git push [remote] [<span class="keyword">tag</span>]</span><br><span class="line"><span class="comment"># 提交所有tag</span></span><br><span class="line">git push [remote] --tags</span><br><span class="line"><span class="comment"># 新建一个分支，指向某个tag</span></span><br><span class="line">git checkout -b [branch] [<span class="keyword">tag</span>]</span><br></pre></td></tr></table></figure>

<h3 id="七、查看信息"><a href="#七、查看信息" class="headerlink" title="七、查看信息"></a>七、查看信息</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 显示有变更的文件</span></span><br><span class="line">git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示当前分支的版本历史</span></span><br><span class="line">git log</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示commit历史，以及每次commit发生变更的文件</span></span><br><span class="line">git log --stat</span><br><span class="line"><span class="meta">#</span><span class="bash"> 搜索提交历史，根据关键词</span></span><br><span class="line">git log -S [keyword]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某个commit之后的所有变动，每个commit占据一行</span></span><br><span class="line">git log [tag] HEAD --pretty=format:%s</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某个commit之后的所有变动，其<span class="string">&quot;提交说明&quot;</span>必须符合搜索条件</span></span><br><span class="line">git log [tag] HEAD --grep feature</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某个文件的版本历史，包括文件改名</span></span><br><span class="line">git log --follow [file]</span><br><span class="line">git whatchanged [file]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示指定文件相关的每一次diff</span></span><br><span class="line">git log -p [file]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示过去5次提交</span></span><br><span class="line">git log -5 --pretty --oneline</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示所有提交过的用户，按提交次数排序</span></span><br><span class="line">git shortlog -sn</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示指定文件是什么人在什么时间修改过</span></span><br><span class="line">git blame [file]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示暂存区和工作区的差异</span></span><br><span class="line">git diff</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示暂存区和上一个commit的差异</span></span><br><span class="line">git diff --cached [file]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示工作区与当前分支最新commit之间的差异</span></span><br><span class="line">git diff HEAD</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示两次提交之间的差异</span></span><br><span class="line">git diff [first-branch]...[second-branch]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示今天你写了多少行代码</span></span><br><span class="line">git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某次提交的元数据和内容变化</span></span><br><span class="line">git show [commit]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某次提交发生变化的文件</span></span><br><span class="line">git show --name-only [commit]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某次提交时，某个文件的内容</span></span><br><span class="line">git show [commit]:[filename]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示当前分支的最近几次提交</span></span><br><span class="line">git reflog</span><br></pre></td></tr></table></figure>

<h3 id="八、远程同步"><a href="#八、远程同步" class="headerlink" title="八、远程同步"></a><strong>八、远程同步</strong></h3><figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 下载远程仓库的所有变动</span></span><br><span class="line">git fetch [remote]</span><br><span class="line"><span class="comment"># 显示所有远程仓库</span></span><br><span class="line">git remote -v</span><br><span class="line"><span class="comment"># 显示某个远程仓库的信息</span></span><br><span class="line">git remote show [remote]</span><br><span class="line"><span class="comment"># 增加一个新的远程仓库，并命名</span></span><br><span class="line">git remote add [shortname] [url]</span><br><span class="line">git remote add origin git@github.<span class="symbol">com:</span>MuyanGit/MuyanGit.github.io.git</span><br><span class="line"><span class="comment">#本地分支合并远程分支</span></span><br><span class="line">git branch –set-upstream backup origin/backup</span><br><span class="line">git branch --set-upstream-to=origin/backup </span><br><span class="line">git remote add origin git@github.<span class="symbol">com:</span>MuyanGit/muyangit.github.io.backup.git</span><br><span class="line"><span class="comment"># 要删除遥控器：</span></span><br><span class="line">git remote remove origin</span><br><span class="line"><span class="comment"># 取回远程仓库的变化，并与本地分支合并	</span></span><br><span class="line">git pull [remote] [branch]</span><br><span class="line">git pull git@github.<span class="symbol">com:</span>MuyanGit/MuyanGit.github.io.git master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 上传本地指定分支到远程仓库</span></span><br><span class="line">git push [remote] [branch]</span><br><span class="line"><span class="comment"># 强行推送当前分支到远程仓库，即使有冲突</span></span><br><span class="line">git push [remote] --force</span><br><span class="line"></span><br><span class="line"><span class="comment">#git强制提交本地分支覆盖远程分支</span></span><br><span class="line">git push origin 分支名 --force</span><br><span class="line">强行推送当前master分支到origin远程仓库，即使有冲突-覆盖</span><br><span class="line">git push origin master --force</span><br><span class="line"></span><br><span class="line"><span class="comment"># 推送所有分支到远程仓库</span></span><br><span class="line">git push [remote] --all</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="九、撤销"><a href="#九、撤销" class="headerlink" title="九、撤销"></a><strong>九、撤销</strong></h3><figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 恢复暂存区的指定文件到工作区</span></span><br><span class="line">git checkout [file]</span><br><span class="line"><span class="comment"># 恢复某个commit的指定文件到暂存区和工作区</span></span><br><span class="line">git checkout [commit] [file]</span><br><span class="line"><span class="comment"># 恢复暂存区的所有文件到工作区</span></span><br><span class="line">git checkout .</span><br><span class="line"><span class="comment"># 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变</span></span><br><span class="line">git reset [file]</span><br><span class="line"><span class="comment"># 重置暂存区与工作区，与上一次commit保持一致</span></span><br><span class="line">git reset --hard</span><br><span class="line"><span class="comment"># 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变</span></span><br><span class="line">git reset [commit]</span><br><span class="line"><span class="comment"># 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致</span></span><br><span class="line">git reset --hard [commit]</span><br><span class="line"><span class="comment"># 重置当前HEAD为指定commit，但保持暂存区和工作区不变</span></span><br><span class="line">git reset --keep [commit]</span><br><span class="line"><span class="comment"># 新建一个commit，用来撤销指定commit</span></span><br><span class="line"><span class="comment"># 后者的所有变化都将被前者抵消，并且应用到当前分支</span></span><br><span class="line">git revert [commit]</span><br><span class="line"><span class="comment"># 暂时将未提交的变化移除，稍后再移入</span></span><br><span class="line">git stash</span><br><span class="line">git stash pop</span><br></pre></td></tr></table></figure>

<h3 id="十、其他"><a href="#十、其他" class="headerlink" title="十、其他"></a>十、其他</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init                                                  # 初始化本地git仓库（创建新仓库）</span><br><span class="line">git config --global user.name &quot;xxx&quot;                       # 配置用户名</span><br><span class="line">git config --global user.email &quot;xxx@xxx.com&quot;              # 配置邮件</span><br><span class="line">git config --global color.ui true                         # git status等命令自动着色</span><br><span class="line">git config --global color.status auto</span><br><span class="line">git config --global color.diff auto</span><br><span class="line">git config --global color.branch auto</span><br><span class="line">git config --global color.interactive auto</span><br><span class="line">git config --global --unset http.proxy                    # remove  proxy configuration on git</span><br><span class="line">git clone git+ssh://git@192.168.53.168/VT.git             # clone远程仓库</span><br><span class="line">git status                                                # 查看当前版本状态（是否修改）</span><br><span class="line">git add xyz                                               # 添加xyz文件至index</span><br><span class="line">git add .                                                 # 增加当前子目录下所有更改过的文件至index</span><br><span class="line">git commit -m &#x27;xxx&#x27;                                       # 提交</span><br><span class="line">git commit --amend -m &#x27;xxx&#x27;                               # 合并上一次提交（用于反复修改）</span><br><span class="line">git commit -am &#x27;xxx&#x27;                                      # 将add和commit合为一步</span><br><span class="line">git rm xxx                                                # 删除index中的文件</span><br><span class="line">git rm -r *                                               # 递归删除</span><br><span class="line">git log                                                   # 显示提交日志</span><br><span class="line">git log -1                                                # 显示1行日志 -n为n行</span><br><span class="line">git log -5</span><br><span class="line">git log --stat                                            # 显示提交日志及相关变动文件</span><br><span class="line">git log -p -m</span><br><span class="line">git show dfb02e6e4f2f7b573337763e5c0013802e392818         # 显示某个提交的详细内容</span><br><span class="line">git show dfb02                                            # 可只用commitid的前几位</span><br><span class="line">git show HEAD                                             # 显示HEAD提交日志</span><br><span class="line">git show HEAD^                                            # 显示HEAD的父（上一个版本）的提交日志 ^^为上两个版本 ^5为上5个版本</span><br><span class="line">git tag                                                   # 显示已存在的tag</span><br><span class="line">git tag -a v2.0 -m &#x27;xxx&#x27;                                  # 增加v2.0的tag</span><br><span class="line">git show v2.0                                             # 显示v2.0的日志及详细内容</span><br><span class="line">git log v2.0                                              # 显示v2.0的日志</span><br><span class="line">git diff                                                  # 显示所有未添加至index的变更</span><br><span class="line">git diff --cached                                         # 显示所有已添加index但还未commit的变更</span><br><span class="line">git diff HEAD^                                            # 比较与上一个版本的差异</span><br><span class="line">git diff HEAD -- ./lib                                    # 比较与HEAD版本lib目录的差异</span><br><span class="line">git diff origin/master..master                            # 比较远程分支master上有本地分支master上没有的</span><br><span class="line">git diff origin/master..master --stat                     # 只显示差异的文件，不显示具体内容</span><br><span class="line">git remote add origin git+ssh://git@192.168.53.168/VT.git # 增加远程定义（用于push/pull/fetch）</span><br><span class="line">git branch                                                # 显示本地分支</span><br><span class="line">git branch --contains 50089                               # 显示包含提交50089的分支</span><br><span class="line">git branch -a                                             # 显示所有分支</span><br><span class="line">git branch -r                                             # 显示所有原创分支</span><br><span class="line">git branch --merged                                       # 显示所有已合并到当前分支的分支</span><br><span class="line">git branch --no-merged                                    # 显示所有未合并到当前分支的分支</span><br><span class="line">git branch -m master master_copy                          # 本地分支改名</span><br><span class="line">git checkout -b master_copy                               # 从当前分支创建新分支master_copy并检出</span><br><span class="line">git checkout -b master master_copy                        # 上面的完整版</span><br><span class="line">git checkout features/performance                         # 检出已存在的features/performance分支</span><br><span class="line">git checkout --track hotfixes/BJVEP933                    # 检出远程分支hotfixes/BJVEP933并创建本地跟踪分支</span><br><span class="line">git checkout v2.0                                         # 检出版本v2.0</span><br><span class="line">git checkout -b devel origin/develop                      # 从远程分支develop创建新本地分支devel并检出</span><br><span class="line">git checkout -- README                                    # 检出head版本的README文件（可用于修改错误回退）</span><br><span class="line">git merge origin/master                                   # 合并远程master分支至当前分支</span><br><span class="line">git cherry-pick ff44785404a8e                             # 合并提交ff44785404a8e的修改</span><br><span class="line">git push origin master                                    # 将当前分支push到远程master分支</span><br><span class="line">git push origin :hotfixes/BJVEP933                        # 删除远程仓库的hotfixes/BJVEP933分支</span><br><span class="line">git push --tags                                           # 把所有tag推送到远程仓库</span><br><span class="line">git fetch                                                 # 获取所有远程分支（不更新本地分支，另需merge）</span><br><span class="line">git fetch --prune                                         # 获取所有原创分支并清除服务器上已删掉的分支</span><br><span class="line">git pull origin master                                    # 获取远程分支master并merge到当前分支</span><br><span class="line">git mv README README2                                     # 重命名文件README为README2</span><br><span class="line">git reset --hard HEAD                                     # 将当前版本重置为HEAD（通常用于merge失败回退）</span><br><span class="line">git rebase</span><br><span class="line">git branch -d hotfixes/BJVEP933                           # 删除分支hotfixes/BJVEP933（本分支修改已合并到其他分支）</span><br><span class="line">git branch -D hotfixes/BJVEP933                           # 强制删除分支hotfixes/BJVEP933</span><br><span class="line">git ls-files                                              # 列出git index包含的文件</span><br><span class="line">git show-branch                                           # 图示当前分支历史</span><br><span class="line">git show-branch --all                                     # 图示所有分支历史</span><br><span class="line">git whatchanged                                           # 显示提交历史对应的文件修改</span><br><span class="line">git revert dfb02e6e4f2f7b573337763e5c0013802e392818       # 撤销提交dfb02e6e4f2f7b573337763e5c0013802e392818</span><br><span class="line">git ls-tree HEAD                                          # 内部命令：显示某个git对象</span><br><span class="line">git rev-parse v2.0                                        # 内部命令：显示某个ref对于的SHA1 HASH</span><br><span class="line">git reflog                                                # 显示所有提交，包括孤立节点</span><br><span class="line">git show HEAD@&#123;5&#125;</span><br><span class="line">git show master@&#123;yesterday&#125;                               # 显示master分支昨天的状态</span><br><span class="line">git log --pretty=format:&#x27;%h %s&#x27; --graph                   # 图示提交日志</span><br><span class="line">git show HEAD~3</span><br><span class="line">git show -s --pretty=raw 2be7fcb476</span><br><span class="line">git stash                                                 # 暂存当前修改，将所有至为HEAD状态</span><br><span class="line">git stash list                                            # 查看所有暂存</span><br><span class="line">git stash show -p stash@&#123;0&#125;                               # 参考第一次暂存</span><br><span class="line">git stash apply stash@&#123;0&#125;                                 # 应用第一次暂存</span><br><span class="line">git grep &quot;delete from&quot;                                    # 文件中搜索文本“delete from”</span><br><span class="line">git grep -e &#x27;#define&#x27; --and -e SORT_DIRENT</span><br><span class="line">git gc</span><br><span class="line">git fsck</span><br><span class="line"># 生成一个可供发布的压缩包</span><br><span class="line">git archive</span><br></pre></td></tr></table></figure>



<h3 id="十一、回滚"><a href="#十一、回滚" class="headerlink" title="十一、回滚"></a>十一、回滚</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>. 代码回退</span><br><span class="line">git log #查看回到的版本，然后用以下命令，将本地代码回退到某个版本：</span><br><span class="line"></span><br><span class="line">git reset --hard HEAD^        #回退到上个版本</span><br><span class="line">git reset --hard commit_id    #退到/进到 指定 commit_id</span><br><span class="line"></span><br><span class="line">git push origin HEAD --force #如果需要将回退的某个版本提交远程，可执行以下命令：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">回滚之后，想恢复到新的版本怎么办？</span><br><span class="line">git reflog #打印你记录你的每一次操作记录</span><br><span class="line">git reflog 可以查看所有分支的所有操作记录（包括 commit 和 reset 的操作），包括已经被删除的 commit 记录， git log 则不能察看已经删除了的 commit 记录，而且跟进结果可以回退道某一个修改。</span><br><span class="line"><span class="number">2</span>. 返回主分支</span><br><span class="line">git checkout master</span><br></pre></td></tr></table></figure>





<h1 id="常用"><a href="#常用" class="headerlink" title="常用"></a>常用</h1><p>初始化操作：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global user.name &lt;name&gt;</span><br><span class="line">// 设置提交者的名字</span><br><span class="line"></span><br><span class="line">git config --global user.email &lt;email&gt;</span><br><span class="line">// 设置提交者的邮箱</span><br><span class="line"></span><br><span class="line">git config --global core.editor &lt;editor&gt;</span><br><span class="line">// 设置默认文本编辑器</span><br><span class="line"></span><br><span class="line">git config --global merge.tool &lt;tool&gt;</span><br><span class="line">// 设置解决合并冲突时差异分析工具</span><br><span class="line"></span><br><span class="line">git config --list</span><br><span class="line">// 检查已有的配置信息1234567891011121314</span><br></pre></td></tr></table></figure>

<hr>
<p>创建新版本库：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone &lt;url&gt; #克隆远程版本库</span><br><span class="line">git init #初始化本地版本库12</span><br></pre></td></tr></table></figure>

<p>修改和提交：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git add . #添加所有改动过的文件到暂存区</span><br><span class="line">git add &lt;file&gt; #添加指定的文件到暂存区</span><br><span class="line"></span><br><span class="line">git mv &lt;old&gt; &lt;new&gt; #文件重命名</span><br><span class="line">git rm &lt;file&gt; #删除文件</span><br><span class="line">git rm --cached &lt;file&gt; #停止跟踪文件但不从工作区删除。123456</span><br></pre></td></tr></table></figure>

<p>提交文件：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git commit -m &lt;file&gt; &#x27;msg&#x27; # 提交指定的文件</span><br><span class="line">git commit -m &#x27;msg&#x27; # 提交所有暂存区中的文件</span><br><span class="line">git commit -amend # 修改最后一次提交</span><br><span class="line">git commit -C HEAD -a -amend #增补提交（不会产生新的提交记录)1234</span><br></pre></td></tr></table></figure>

<p>查看提交历史：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git log #查看提交历史</span><br><span class="line">git log -p &lt;file&gt; #查看指定文件的提交历史</span><br><span class="line">git blame &lt;file&gt; #以列表方式查看指定文件的提交历史</span><br><span class="line"></span><br><span class="line">gitk #查看当前分支历史记录，gitk貌似是个工具</span><br><span class="line">gitk --all #查看所有分支历史记录</span><br><span class="line"></span><br><span class="line">git branch -v #查看所有分支及其最后一次提交记录</span><br><span class="line"></span><br><span class="line">git status #查看当前状态</span><br><span class="line"></span><br><span class="line">git diff #查看变更内容（工作区与暂存区）</span><br><span class="line">git diff --cached #查看改动（暂存区与版本库，即下次提交的内容）</span><br><span class="line">git diff --staged #同上</span><br><span class="line">git diff master #工作区与版本库对比123456789101112131415</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>git checkout 用法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git checkout </span><br><span class="line">git checkout --</span><br><span class="line"># 以缩写字母方式查看文件状态，M、A等等。</span><br><span class="line"></span><br><span class="line">git checkout &lt;file&gt;</span><br><span class="line">git checkout -- &lt;file&gt;</span><br><span class="line"># 这两个命令都可以撤销工作区的修改，回到暂存区或者版本区的状态。(不会影响暂存区中的内容）</span><br><span class="line"></span><br><span class="line">git checkout HEAD &lt;file1&gt; &lt;file2&gt;</span><br><span class="line">git checkout HEAD .</span><br><span class="line"># 撤销工作区和暂存区的修改（工作区和暂存区都会回到最后一次提交的状态）</span><br><span class="line"></span><br><span class="line">git checkout HEAD^^ </span><br><span class="line"># 创建新分支，指向倒数第二次提交的状态1234567891011121314</span><br></pre></td></tr></table></figure>

<hr>
<p>撤销操作：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git reset --hard HEAD #撤销工作目录中所有未提交的修改，（工作区和版本库都会回退到最后一次提交的状态）</span><br><span class="line">git reset --hard HEAD^^ #回退到倒数第二次提交的状态。</span><br><span class="line">git reset --hard &lt;hash&gt; #回退到对应的版本</span><br><span class="line">git revert &lt;hash&gt; 撤销指定的提交12345</span><br></pre></td></tr></table></figure>

<p>分支与标签：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git branch #显示所有本地分支</span><br><span class="line">git checkout &lt;branch/tagname&gt; #切换到指定分支或标签</span><br><span class="line">git checkout -b loaclName origin/remoteName #创建本地分支并追踪到远端分支</span><br><span class="line">git branch &lt;name&gt; #创建新分支</span><br><span class="line">git branch -d &lt;name&gt; #删除本地分支</span><br><span class="line"></span><br><span class="line">git tag #列出所有本地标签</span><br><span class="line">git tag &lt;tagname&gt; #基于最新提交创建标签</span><br><span class="line">git tag -d &lt;tagname&gt; #删除标签</span><br><span class="line"></span><br><span class="line">git push origin --delete &lt;branchname&gt; # 删除一个远程分支1234567891011</span><br></pre></td></tr></table></figure>

<p>合并与衍合</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git merge &lt;branch&gt; #合并指定分支到当前分支</span><br><span class="line">git rebase &lt;branch&gt; #衍合指定分支到当前分支12</span><br></pre></td></tr></table></figure>

<p>远程操作：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git remote -v #查看远程版本库信息</span><br><span class="line">git remote show &lt;remote&gt; &lt;url&gt; #查看指定远程版本库信息</span><br><span class="line">git remote add &lt;remote&gt; &lt;url&gt; #添加远程版本库</span><br><span class="line">要添加遥控器：</span><br><span class="line">git remote add origin yourRemoteUrl</span><br><span class="line">最后</span><br><span class="line">git push -u origin master</span><br><span class="line"></span><br><span class="line">git fetch &lt;remote&gt; #从远程库获取代码</span><br><span class="line">git pull &lt;remote&gt; &lt;branch&gt; #下载代码及快速合并</span><br><span class="line"></span><br><span class="line">git push &lt;remote&gt;:&lt;branch&gt;/&lt;tagname&gt; #删除远程分支或标签</span><br><span class="line">git push -tags #上传所有标签123456789</span><br></pre></td></tr></table></figure>

<h3 id="备忘："><a href="#备忘：" class="headerlink" title="备忘："></a>备忘：</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git push origin local-branch:remote-branch</span><br><span class="line">git push origin master:master</span><br><span class="line"></span><br><span class="line">// 同步本地分支到远端</span><br><span class="line"></span><br><span class="line">git fetch origin master</span><br><span class="line">// 拉取远端master数据</span><br><span class="line"></span><br><span class="line">git log -p master origin/master</span><br><span class="line">// 比较本地master和远端master的差别</span><br><span class="line"></span><br><span class="line">git merge origin/master</span><br><span class="line">// 合并远端master</span><br><span class="line"></span><br><span class="line">git push origin localName:remoteName</span><br><span class="line">git push origin master:master</span><br><span class="line">// 推送本地分支到远端分支</span><br><span class="line"></span><br><span class="line">git checkout -b localName origin/remoteName</span><br><span class="line">// 创建本地分支并与远端分支相关联1234567891011121314151617</span><br><span class="line">git branch -m old-name new-name</span><br><span class="line">// 重命名分支名</span><br><span class="line"></span><br><span class="line">git branch --set-upstream-to=origin/branch</span><br><span class="line">// 将本地分支与远端分支相关联</span><br></pre></td></tr></table></figure>



<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h5 id="1-Git-警告-LF-will-be-replaced-by-CRLF"><a href="#1-Git-警告-LF-will-be-replaced-by-CRLF" class="headerlink" title="1.Git 警告 LF will be replaced by CRLF"></a>1.Git 警告 LF will be replaced by CRLF</h5><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240028564.png" alt="image-20200329225258074"></p>
<p>原创<a href="https://me.csdn.net/vitaminc4">DreamLee0625</a> 最后发布于2017-09-18 11:22:43 阅读数 5558 收藏</p>
<p>展开</p>
<p>在使用git add . 命令时，出现如下提示：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">warning: LF will be replaced by CRLF in .idea/vcs.xml. 1</span><br></pre></td></tr></table></figure>

<p>ps：这里只是以这个文件名（vcs.xml）举个例子。<br>意思是在.idea/vcs.xml文件中，LF（换行，Line Feed）将会被CRLF（回车换行，CarriageReturn）替代。这是因为在windows中换行符为CRLF，而在linux下的换行符为LF。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">The file will have its original line endings in your working directory.1</span><br></pre></td></tr></table></figure>

<p>当报这个警告时是由于文件夹远程不存在，我是直接选择无视他继续提交。目前没有发现什么不妥。</p>
<p>在网上查询后发现，是因为git有自动转换功能，如果想要禁止自动转换功能，则执行如下步骤：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf .git  // 删除.git  </span><br><span class="line">git config --global core.autocrlf false  //禁用自动转换    </span><br><span class="line">git init    </span><br><span class="line">git add .  </span><br></pre></td></tr></table></figure>





<h5 id="2-使用git-push时出现error-src-refspec-master-does-not-match-any-是什么原因"><a href="#2-使用git-push时出现error-src-refspec-master-does-not-match-any-是什么原因" class="headerlink" title="2.使用git push时出现error: src refspec master does not match any. 是什么原因"></a>2.<a href="https://segmentfault.com/q/1010000004615080">使用git push时出现error: src refspec master does not match any. 是什么原因</a></h5><p><a href="https://segmentfault.com/t/github">github</a><a href="https://segmentfault.com/t/git">git</a></p>
<h6 id="方案1：git-commit-m-“first-commit”"><a href="#方案1：git-commit-m-“first-commit”" class="headerlink" title="方案1：git commit -m “first commit”"></a>方案1：git commit -m “first commit”</h6><p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240028099.png" alt="image-20200329225427690"></p>
<p>使用git push是，采用以下步骤：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git remote add origin https://github.com/focusor/focusor.github.io.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<p>产生如下错误：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">error: src refspec master does not match any. error: failed to push some refs to &quot;xxxxxxx&quot;</span><br></pre></td></tr></table></figure>

<p>然后用如下方法解决了：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git add .git commit -m &quot;write your meaaage&quot;</span><br></pre></td></tr></table></figure>

<p>之后push就成功了，具体原因是什么呢？</p>
<p><a href="https://segmentfault.com/q/1010000004615080?sort=created#comment-area">https://segmentfault.com/q/1010000004615080?sort=created#comment-area</a>)</p>
<p><a href="https://segmentfault.com/u/reeco"><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240028132.png" alt="img"><strong>FullStackDeveloper</strong></a></p>
<ul>
<li> <strong>8.8k</strong></li>
</ul>
<p>这种错误一般是因为push的时候暂存区没有文件，确认下add的README.md存不存在</p>
<p> 赞 6</p>
<p><a href="javascript:;">评论</a> <a href="javascript:;">赞赏</a> 2016-03-16</p>
<ul>
<li><p><a href="https://segmentfault.com/u/bolelee"><strong>bolelee</strong></a>： </p>
<p>已经执行过git add 和git commit，暂存区是有内容的，为什么还是push失败？并没有修改到README.md，为什么要加这个？试了加这个还是没有解决问题怎么解决？</p>
</li>
</ul>
<p>也可能是你分支不正确</p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/202110240028155.png" alt="clipboard.png"></p>
<ul>
<li></li>
</ul>
<p>git add . 会监控工作区的状态树，使用它会把工作时的所有变化提交到暂存区，包括文件内容修改(modified)以及新文件(new)，但不包括被删除的文件.</p>
<h6 id="方案2：touch-README"><a href="#方案2：touch-README" class="headerlink" title="方案2：touch README"></a>方案2：touch README</h6><p>Git常见错误与操作：error: src refspec master does not match any解决办法</p>
<p>转载<a href="https://me.csdn.net/su1573">su1573</a> 最后发布于2017-10-19 11:31:09 阅读数 4089 收藏</p>
<p>展开</p>
<p>Git常见错误与操作：error: src refspec master does not match any解决办法</p>
<p>一、 出现错误 error:src refspec master does not match any</p>
<p>原因分析：</p>
<p>引起该错误的原因是目录中没有文件，空目录是不能提交上去的</p>
<p>解决办法：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">touch README  git add README  git commit –m’first commit’  git push origin master  1234</span><br></pre></td></tr></table></figure>

<p>(来自：<a href="http://www.open-open.com/lib/view/open1366080269265.html">http://www.open-open.com/lib/view/open1366080269265.html</a>)<br>实际上</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init  1</span><br></pre></td></tr></table></figure>

<p>这一步之后创建了一个名为.git的文件夹，不过它在默认状态下是隐藏的，系统将隐藏文件夹显示出来，可以看到有这样一个文件夹。<br>github上传项目方法：<br><a href="http://www.oschina.net/question/159132_86728">http://www.oschina.net/question/159132_86728</a><br>在你的电脑上装好git</p>
<p>大致流程是：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1、 在github上创建项目  2、 使用git clone https://github/xx账号/xx项目.git克隆到本地  3、 编辑项目  4、 git add .(将改动添加到暂存区)  5、 git commit –m”提交说明”  6、 git push origin 将本地更改推送到远程master分支  123456</span><br></pre></td></tr></table></figure>

<p>这样你就完成了向远程仓库的推送</p>
<p>如果在github的remote上已经有了文件，会出现错误。此时应当先pull一下，即：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git pull origin master  1</span><br></pre></td></tr></table></figure>

<p>然后再进行：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git push origin master  1</span><br></pre></td></tr></table></figure>

<p>二、如果输入git remoteadd origin <a href="mailto:&#x67;&#x69;&#x74;&#x40;&#103;&#105;&#116;&#104;&#x75;&#98;&#46;&#x63;&#111;&#109;">&#x67;&#x69;&#x74;&#x40;&#103;&#105;&#116;&#104;&#x75;&#98;&#46;&#x63;&#111;&#109;</a>:djqiang（github帐号名）/gitdemo（项目名）.git</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">提示出错信息：fatal: remoteorigin already exists.解决办法如下：123</span><br></pre></td></tr></table></figure>

<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1、先输入git remote rmorigin      2、再输入git remote addorigin git@github.com:djqiang/gitdemo.git 就不会报错了！      3、如果输入git remote rmorigin 还是报错的话，error: Could not remove config section&#x27;remote.origin&#x27;. 我们需要修改gitconfig文件的内容  4、找到你的github的安装路径5、找到一个名为gitconfig的文件，打开它把里面的[remote &quot;origin&quot;]那一行删掉就好了！12345678</span><br></pre></td></tr></table></figure>

<p>三、如果输入ssh -T <a href="mailto:&#103;&#105;&#x74;&#x40;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#x6f;&#109;">&#103;&#105;&#x74;&#x40;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#x6f;&#109;</a><br>出现错误提示：Permissiondenied (publickey).因为新生成的key不能加入ssh就会导致连接不上github。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">解决办法如下：1、先输入ssh-agent，再输入ssh-add ~/.ssh/id_key，这样就可以了。2、如果还是不行的话，输入ssh-add~/.ssh/id_key 命令后出现报错Could not open a connection toyour authentication agent.解决方法是key用Git Gui的ssh工具生成，这样生成的时候key就直接保存在ssh中了，不需要再ssh-add命令加入了，其它的user，token等配置都用命令行来做。3、最好检查一下在你复制id_rsa.pub文件的内容时有没有产生多余的空格或空行，有些编辑器会帮你添加这些的。1234567</span><br></pre></td></tr></table></figure>

<p>四、如果输入git push origin master</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">提示出错信息：error:failedto push som refs to .......解决办法如下：123</span><br></pre></td></tr></table></figure>

<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1、先输入git pullorigin master //先把远程服务器github上面的文件拉下来  2、再输入git pushorigin master  3、如果出现报错 fatal:Couldn&#x27;t find remote ref master或者fatal: &#x27;origin&#x27; doesnot appear to be a git repository以及fatal: Could notread from remote repository.  4、则需要重新输入git remoteadd origingit@github.com:djqiang/gitdemo.git  1234</span><br></pre></td></tr></table></figure>

<p>五、Git常见操作</p>
<p>使用git在本地创建一个项目的过程</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">makdir ~/hello-world    //创建一个项目hello-world  cd~/hello-world       //打开这个项目  git init             //初始化   touch README  git add README        //更新README文件  git commit-m &#x27;first commit&#x27;     //提交更新，并注释信息“first commit”   git remote add origin git@github.com:defnngj/hello-world.git     //连接远程github项目    git push -u origin master     //将本地项目更新到github项目上去  12345678</span><br></pre></td></tr></table></figure>

<p>六、gitconfig配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Git有一个工具被称为git config，它允许你获得和设置配置变量；这些变量可以控制Git的外观和操作的各个方面。这些变量可以被存储在三个不同的位置：      1./etc/gitconfig 文件：包含了适用于系统所有用户和所有库的值。如果你传递参数选项’--system’ 给 git config，它将明确的读和写这个文件。      2.~/.gitconfig 文件 ：具体到你的用户。你可以通过传递--global 选项使Git 读或写这个特定的文件。     3.位于git目录的config文件 (也就是.git/config) ：无论你当前在用的库是什么，特定指向该单一的库。每个级别重写前一个级别的值。因此，在.git/config中的值覆盖了在/etc/gitconfig中的同一个值。    在Windows系统中，Git在$HOME目录中查找.gitconfig文件（对大多数人来说，位于C:\Documents and Settings\$USER下）。它也会查找/etc/gitconfig，尽管它是相对于Msys 根目录的。这可能是你在Windows中运行安装程序时决定安装Git的任何地方。12345</span><br></pre></td></tr></table></figure>

<p>七、配置相关信息：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1　当你安装Git后首先要做的事情是设置你的用户名称和e-mail地址。这是非常重要的，因为每次Git提交都会使用该信息。它被永远的嵌入到了你的提交中：1</span><br></pre></td></tr></table></figure>

<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;John Doe&quot;  git config --global user.email johndoe@example.com    2   你的编辑器(Your Editor)123456</span><br></pre></td></tr></table></figure>

<p>　　现在，你的标识已经设置，你可以配置你的缺省文本编辑器，Git在需要你输入一些消息时会使用该文本编辑器。缺省情况下，Git使用你的系统的缺省编辑器，这通常可能是vi 或者 vim。如果你想使用一个不同的文本编辑器，例如Emacs，你可以做如下操作：</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global core.editor emacs  1</span><br></pre></td></tr></table></figure>

<p>3 检查你的设置(Checking YourSettings)</p>
<p>　　如果你想检查你的设置，你可以使用 git config –list 命令来列出Git可以在该处找到的所有的设置:</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --list    你也可以查看Git认为的一个特定的关键字目前的值，使用如下命令 git config &#123;key&#125;:12345</span><br></pre></td></tr></table></figure>

<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config user.name   4 获取帮助(Getting help)12345</span><br></pre></td></tr></table></figure>

<p>　　如果当你在使用Git时需要帮助，有三种方法可以获得任何git命令的手册页(manpage)帮助信息:</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git help &lt;verb&gt;  git &lt;verb&gt; --help  man git-&lt;verb&gt;  123</span><br></pre></td></tr></table></figure>

<p>　　例如，你可以运行如下命令获取对config命令的手册页帮助:</p>
<p>[html] view plain copy</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git help config  1</span><br></pre></td></tr></table></figure>

<p>转载来源：<a href="http://blog.csdn.net/s164828378/article/details/52425208">http://blog.csdn.net/s164828378/article/details/52425208</a></p>
<p><img src="https://raw.githubusercontent.com/MuyanGit/pic_url/master/img/image-20211116162738240.png" alt="image-20211116162738240"></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
</search>
