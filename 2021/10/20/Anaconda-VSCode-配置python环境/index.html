<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/images/剑来大小抠图/bitbug_favicon大.ico"><link rel="icon" href="https://cdn.jsdelivr.net/gh/MuyanGit/ImageHosting/images/剑来大小抠图/bitbug_favicon大.ico"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="MuyanGit"><meta name="keywords" content=""><meta name="description" content="Anaconda+vscode配置Python环境,AnacondaVSCode,python"><meta property="og:type" content="article"><meta property="og:title" content="  Anaconda + VSCode 配置python环境   "><meta property="og:url" content="http://example.com/2021/10/20/Anaconda-VSCode-%E9%85%8D%E7%BD%AEpython%E7%8E%AF%E5%A2%83/index.html"><meta property="og:site_name" content="MuyanGit的博客"><meta property="og:description" content="Anaconda+vscode配置Python环境,AnacondaVSCode,python"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://img-blog.csdnimg.cn/20200604172832565.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802643.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802187.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802232.png"><meta property="og:image" content="https://img-blog.csdnimg.cn/20200604173416368.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802326.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211110201434027.png"><meta property="og:image" content="https://img-blog.csdnimg.cn/20200604173942895.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802496.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802975.png"><meta property="og:image" content="https://img-blog.csdnimg.cn/20200604174331167.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70"><meta property="og:image" content="https://img-blog.csdnimg.cn/20200604180536404.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802914.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802480.png"><meta property="og:image" content="https://img-blog.csdnimg.cn/2020060418100621.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110232213017.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200928376.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200930058.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110201715540.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110201727979.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200932752.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200937892.png"><meta property="og:image" content="https://pic3.zhimg.com/v2-e12f5d64d5fe50a52950bb9e7fc58f2a_xs.jpg?source=172ae18b"><meta property="og:image" content="https://pic4.zhimg.com/80/v2-75ac44cc5d04b4c8dee0b5a7509e5523_720w.jpg"><meta property="og:image" content="https://pic1.zhimg.com/80/v2-af840a14126f8f918b100c8251fca5a4_720w.jpg"><meta property="og:image" content="https://pic2.zhimg.com/80/v2-49449f2a50551c100a35f76b1b62957d_720w.jpg"><meta property="og:image" content="http://example.com/"><meta property="og:image" content="https://pianshen.com/images/358/3064b99c7a8e0cf1c3804da99e200616.png"><meta property="og:image" content="https://pianshen.com/images/12/230a3c00800d10930bae5575315b289c.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211112185205415.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211113051536343.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211112183210140.png"><meta property="og:image" content="https://pianshen.com/images/721/b9e6a58aa17d8801db9a1956f2f9e349.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211111222403911.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211111221853167.png"><meta property="og:image" content="c:/Users/HelloWorld/AppData/Roaming/Typora/typora-user-images/image-20211020161426340.png"><meta property="og:image" content="https://img-blog.csdnimg.cn/3df240aad870487f9a8ac127a3df6b2f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQ4Nzc4Mg==,size_16,color_FFFFFF,t_70"><meta property="og:image" content="https://img-blog.csdnimg.cn/2086cad42d144b8aa0ac13b34f3b23ef.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110251532711.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110251532102.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2132139767-5c000091a1baa_huge128"><meta property="og:image" content="https://avatar-static.segmentfault.com/252/177/2521771040-54cb53b372821_small"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/a699acab572a4dc192a7dea3e1a021ad.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/5024f897dc9c43439976d389dcfc9aa8.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/e504fbcd6fed4d19bbb750dd7962e58b.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/e57d77f92858456293125c856b0b4985.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-d9b31c9ce987226e33777c85e97150ff_l.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-dc76a33681e156bda58c686653936911_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-f870b1ec0707e76b216d707708dd348c_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-cd35ac47d2cc72b88e597e9f1595b638_720w.webp"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-220f4781e7debf18338a1baa3ffe462a_720w.webp"><meta property="article:published_time" content="2021-10-20T00:01:39.000Z"><meta property="article:modified_time" content="2022-10-20T13:50:22.977Z"><meta property="article:author" content="MuyanGit"><meta property="article:tag" content="Anaconda"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://img-blog.csdnimg.cn/20200604172832565.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70"><title>Anaconda + VSCode 配置python环境 - MuyanGit的博客</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var dntVal,Fluid=window.Fluid||{},CONFIG=(Fluid.ctx=Object.assign({},Fluid.ctx),{hostname:"example.com",root:"/",version:"1.9.2",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"wrsI8VLOqU4aU1Bf7ax2ybPp-MdYXbMMI",app_key:"AEijWlUoG3pMbyJKxexAmJtN",server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"});CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.2.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>言念君子，温其如玉。</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="  Anaconda + VSCode 配置python环境   "></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-10-20 08:01" pubdate>2021年10月20日 早上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 32k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 271 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">Anaconda + VSCode 配置python环境</h1><div class="markdown-body"><h1 id="Anaconda-VSCode-配置python环境"><a href="#Anaconda-VSCode-配置python环境" class="headerlink" title="Anaconda + VSCode 配置python环境"></a>Anaconda + VSCode 配置python环境</h1><p>Anacond下载</p><p><strong>下载地址： <a target="_blank" rel="noopener" href="https://www.anaconda.com/download/">https://www.anaconda.com/download/</a><br>选择适合的系统环境和版本。本人是Windows10系统64位机器，故下载python3.7 64-Bit。</strong><br><img src="https://img-blog.csdnimg.cn/20200604172832565.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><strong>下载完成</strong><br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802643.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><strong>打开安装包，进行安装（其实接下来除了选择安装路径，其他的直接默认点击下一步就可以了）</strong><br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802187.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"> <img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802232.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"> <img src="https://img-blog.csdnimg.cn/20200604173416368.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><strong>Install for: Just me || All Users，如若电脑有多个 Users ，需要考虑这个问题。我们电脑一般只会有一个 User，只自己使用。如果电脑有多个用户，选择All Users，笔者此处直接 All User，继续点击 Next 。</strong><br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802326.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">选择路径，继续安装，<br>不勾选第一项<span class="hljs-comment">--&gt; 方便安装官网的python</span><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211110201434027.png" srcset="/img/loading.gif" lazyload alt="image-20211110201434027"></p><p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/">https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/</a>	image-20211110201434027.png</p><p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/">https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/</a>	20220523225729.png</p><p><img src="https://img-blog.csdnimg.cn/20200604173942895.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p>此处勾选设置环境变量，否则需要自己设置（也很简单）<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802496.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"> <img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802975.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802975.png">https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802975.png</a></p><p><strong>验证是否安装成功：<br>win+r输入cmd，打开命令管理器，输入conda –version</strong><br><img src="https://img-blog.csdnimg.cn/20200604174331167.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><strong>输出Anaconda版本，则表示安装成功！</strong></p><p>Anaconda更换国内源</p><p><strong>Anaconda使用的源在国外，下载各种包的速度比较慢，所以我们更改Anaconda的源<br>Anaconda更换国内源方法的文章地址在此处，请点击查看：<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42133216/article/details/106476875">https://blog.csdn.net/weixin_42133216/article/details/106476875</a></strong></p><p>Anaconda新建环境</p><p><strong>Anaconda可以看作是一个虚拟机，我们的python环境使用的不是本机，而是Anaconda中的环境。<br>比如笔者的Windows的电脑上并没有安装python解释器，但是在写python程序的时候选择Anaconda环境，一样可以随心所欲的使用python。</strong></p><p><strong>打开安装好的Anaconda Navigator</strong><br><img src="https://img-blog.csdnimg.cn/20200604180536404.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>点击Environments<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802914.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><strong>最初只会有base(root)这一个环境，我们可以自己创建新环境，此处的machine就是笔者自己创建的</strong><br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802480.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p><strong>创建方法也很简单：<br>1.点击Create<br>2.输入环境名称和Python版本点击创建即可</strong><br><img src="https://img-blog.csdnimg.cn/2020060418100621.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><strong>这样在后面使用VSCode的时候，只要将环境设置为Anaconda中自己创建的环境就可以了。</strong></p><h3 id="Win10-vscode配置环境系列：Anaconda"><a href="#Win10-vscode配置环境系列：Anaconda" class="headerlink" title="Win10 vscode配置环境系列：Anaconda"></a><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000037545828">Win10 vscode配置环境系列：Anaconda</a></h3><h3><a href="#" class="headerlink"></a></h3><p>如果使用此方法，则电脑可以不用安装python，直接使用anaconda自带的python，在cmd即可直接进入anaconda的python环境，而不用每次都启动anaconda。</p><h3 id="2-配置环境变量"><a href="#2-配置环境变量" class="headerlink" title="2.配置环境变量"></a>2.配置环境变量</h3><p>这5个路径都要全部添加到环境变量里面，否则conda和python命令可能会无法使用。具体的路径根据自己电脑的安装路径修改。</p><ul><li><p>&#96;&#96;&#96;<br>D:\MySoftware\DEV\Dev_env\Anaconda3;<br>D:\MySoftware\DEV\Dev_env\Anaconda3\Scripts<br>D:\MySoftware\DEV\Dev_env\Anaconda3\Library\bin;<br>D:\MySoftware\DEV\Dev_env\Anaconda3\Library\mingw-w64\bin;</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><br><span class="hljs-bullet">-</span> <br><br><span class="hljs-strong">**添加完环境变量后要重启vscode**</span><br><br>3.在vscode选择python环境-这里需要双击，然后点击工作区，然后选择Anaconda<br><br>![<span class="hljs-string">image</span>](<span class="hljs-link">https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200804886.png</span>)<br><br><span class="hljs-bullet">-</span> 选择路径为annaconda的那个，大功告成<br><span class="hljs-bullet">-</span> 在每次打开包含python配置的文件夹后，终端会自动打开anaconda<br><br>安装VSCode<br><br><span class="hljs-strong">**Anaconda在安装时，会自带VSCode，若已安装，则无需再次安装VSCode**</span><br><span class="hljs-strong">**下载地址： https://code.visualstudio.com/Download**</span><br>![<span class="hljs-string">在这里插入图片描述</span>](<span class="hljs-link">https://img-blog.csdnimg.cn/20200604174902276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70</span>)<br><span class="hljs-strong">**下载完成，点击安装包进行安装**</span><br>![<span class="hljs-string">在这里插入图片描述</span>](<span class="hljs-link">https://img-blog.csdnimg.cn/20200604174750956.png</span>)<br><span class="hljs-strong">**安装步骤图示不再给出，直接勾选下一步，下一步即可**</span><br><br><span class="hljs-section"># 配置VSCode</span><br><br><span class="hljs-section">### <span class="hljs-strong">**安装完VSCode后，开始是纯英文的，如果有喜欢中文的朋友，可以下载插件，设置成中文**</span></span><br><br><span class="hljs-strong">**点击左边图标，在搜索框里面搜索Chinese**</span><br>![<span class="hljs-string">在这里插入图片描述</span>](<span class="hljs-link">https://img-blog.csdnimg.cn/20200604183429692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70</span>)<br><span class="hljs-strong">**选择中文简体，点击安装即可，安装后重启一遍VSCode**</span><br>![<span class="hljs-string">在这里插入图片描述</span>](<span class="hljs-link">https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802358.png</span>)<br><span class="hljs-strong">**然后输入Python，搜索Python插件，点击安装**</span><br>![<span class="hljs-string">在这里插入图片描述</span>](<span class="hljs-link">https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802115.png</span>)<br>然后就是选择Python环境，可以看到笔者的Python环境是Anaconda中的machine，也就是自己创建的环境<span class="hljs-strong">** </span><br><span class="hljs-strong"></span><br><span class="hljs-strong">这里需要双击，然后点击工作区，然后选择Anaconda</span><br><span class="hljs-strong"></span><br><span class="hljs-strong">![<span class="hljs-string">加粗样式</span>](<span class="hljs-link">https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802172.png</span>)</span><br><span class="hljs-strong">**</span>点击左下角便可以更改Python环境<span class="hljs-strong">**</span><br><span class="hljs-strong">![<span class="hljs-string">在这里插入图片描述</span>](<span class="hljs-link">https://img-blog.csdnimg.cn/2020060418391331.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEzMzIxNg==,size_16,color_FFFFFF,t_70</span>)</span><br><span class="hljs-strong">**</span>然后就可以使用了VSCode写Python代码了<span class="hljs-strong">**</span><br><span class="hljs-strong">![<span class="hljs-string">在这里插入图片描述</span>](<span class="hljs-link">https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200802319.png</span>)</span><br><span class="hljs-strong"></span><br><span class="hljs-strong"></span><br><span class="hljs-strong"></span><br><span class="hljs-strong"></span><br><span class="hljs-strong"></span><br><span class="hljs-strong"># Anaconda国内源配置</span><br><span class="hljs-strong"></span><br><span class="hljs-strong">[<span class="hljs-string">![海上添翼</span>](<span class="hljs-link">https://www.cpci.dev/content/images/2021/06/suse-2.png</span>)](<span class="hljs-link">https://www.cpci.dev/author/hai/</span>)</span><br><span class="hljs-strong"></span><br><span class="hljs-strong"></span><br><span class="hljs-strong"></span><br><span class="hljs-strong">[<span class="hljs-string">清华源页面</span>](<span class="hljs-link">https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/</span>)；也包含了`MiniConda`的源</span><br><span class="hljs-strong"></span><br><span class="hljs-strong">安装完Anaconda之后，打开`Anaconda Prompt（anaconda3）`；输入</span><br><span class="hljs-strong"></span><br><span class="hljs-strong">```cmd</span><br><span class="hljs-strong">conda config --set show<span class="hljs-emphasis">_channel_</span>urls yes</span><br></code></pre></td></tr></table></figure></li></ul><p>在安装完成后，<code>.condarc</code>文件还没生成，所以使用一条命令生成一下，其位置在<code>c:\Users\&lt;用户名&gt;\.condarc</code>，对于新版的win10可能显示的是<code>c:\用户\&lt;用户名&gt;\.condarc</code></p><p>使用文本编辑器打开这个文件，覆盖原有的全部内容</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110232213017.png" srcset="/img/loading.gif" lazyload alt="image-20211023221106980"></p><h5 id="问题-可以解决2·Anaconda建立新的环境，出现CondaHTTPError-HTTP-000-CONNECTION-FAILED-for-url-……-解决过程"><a href="#问题-可以解决2·Anaconda建立新的环境，出现CondaHTTPError-HTTP-000-CONNECTION-FAILED-for-url-……-解决过程" class="headerlink" title="问题-可以解决2·Anaconda建立新的环境，出现CondaHTTPError: HTTP 000 CONNECTION FAILED for url …… 解决过程"></a>问题-可以解决2·<a target="_blank" rel="noopener" href="https://www.cnblogs.com/tianlang25/p/12433025.html">Anaconda建立新的环境，出现CondaHTTPError: HTTP 000 CONNECTION FAILED for url …… 解决过程</a></h5><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs ini">show_channel_urls: true<br><br>ssl_verify: false<br>channels:<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/fastai/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/<br><br></code></pre></td></tr></table></figure><p>也可以试一下：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs awk">channels:<br>  - defaults<br>show_channel_urls: true<br>ssl_verify: false<br>channel_alias: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn/anaconda<br>default_channels:<br>  - https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>pkgs/main<br>  - https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>pkgs/free<br>  - https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>pkgs/r<br>  - https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>pkgs/pro<br>  - https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>pkgs/msys2<br>custom_channels:<br>  conda-forge: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  msys2: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  bioconda: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  menpo: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  pytorch: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  simpleitk: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs awk"><br><br>channels:<br>  - https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>pkgs<span class="hljs-regexp">/main/</span><br>  - defaults<br>show_channel_urls: true<br></code></pre></td></tr></table></figure><ul><li>$\textcolor{Red}{	ssl_verify: true	–&gt; 应该关闭	}$</li><li>$\textcolor{Red}{	https:–&gt; http	–&gt; 应该关闭	}$</li><li>$\textcolor{Red}{	default_channels–&gt; 删除–&gt; 应该关闭	}$</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs awk">channels:<br>  - defaults<br>ssl_verify: true	--&gt; 应该关闭<br>show_channel_urls: true<br>default_channels:<br>  - https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>pkgs/main<br>  - https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>pkgs/r<br>  - https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>pkgs/msys2<br>custom_channels:<br>  conda-forge: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  msys2: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  bioconda: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  menpo: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  pytorch: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br>  simpleitk: https:<span class="hljs-regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="hljs-regexp">/anaconda/</span>cloud<br><span class="hljs-number">123456789101112131415</span><br></code></pre></td></tr></table></figure><p>保存后执行一条命令，清除一下缓存</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">conda clean -i<br></code></pre></td></tr></table></figure><p><strong>如果已经打开了Anaconda Navigator，别忘了重启生效</strong></p><p>测试生效</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmd">:: 查看全部配置信息<br>conda config --show<br>:: 查看源的配置信息<br>conda config --show-sources<br><span class="hljs-number">1234</span><br></code></pre></td></tr></table></figure><p>-</p><h1 id="软件配置"><a href="#软件配置" class="headerlink" title="软件配置"></a>软件配置</h1><h3 id="如果选择Miniconda，则："><a href="#如果选择Miniconda，则：" class="headerlink" title="如果选择Miniconda，则："></a>如果选择Miniconda，则：</h3><ul><li>熟手可以完全自定义安装每个所用的包；</li><li>磁盘空间紧张；</li><li>追求效率，不想浪费在初始化上；或喜欢纯净的开发环境</li></ul><h3 id="配置PyCharm"><a href="#配置PyCharm" class="headerlink" title="配置PyCharm"></a>配置PyCharm</h3><p>如果环境变量配置正确了，那么在PyCharm里面选择Conda环境的时候，会自动识别；如果没有自动识别，可以手动添加一下；</p><p>现有环境</p><ul><li>解释器：D:\anaconda\python3.exe</li><li>Conda可执行文件：D:\anaconda3\Scripts\conda.exe</li><li>可用于所有项目：勾选</li></ul><p>对于项目的根目录下的<code>.idea/venv</code>可以删除了</p><p>这个时候，对于当前的项目就出问题了，因为原先的解释器失效了；右下角配置环境的按钮挪到了右上角，点击下拉菜单中的“编辑”，（“运行”按钮旁边）；选择“Python解释器”的下拉菜单，选择带有Anaconda图标的那个，应用；一切恢复如常。</p><p>文件 -&gt; 清除缓存&#x2F;重启 -&gt; 作废并重启</p><h3 id="PIP-源-–-gt-Python"><a href="#PIP-源-–-gt-Python" class="headerlink" title="PIP  源 –&gt; Python"></a>PIP 源 –&gt; Python</h3><p>验证版本：Python 3.8.5</p><p>在当前用户目录下（不是文档目录下）<code>c:\用户\&lt;用户名&gt;\</code>下新建<code>pip</code>目录，然后创建一个<code>pip.ini</code>文件，输入一下内容即可使用阿里源</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[global]</span><br><span class="hljs-attr">index-url</span> = https://mirrors.aliyun.com/pypi/simple/<br><br><span class="hljs-section">[install]</span><br><span class="hljs-attr">trusted-host</span>=mirrors.aliyun.com<br></code></pre></td></tr></table></figure><p>pip.ini路径如下C:\Users\HelloWorld\pip\pip.ini<img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200928376.png" srcset="/img/loading.gif" lazyload alt="image-20211020092806270"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200930058.png" srcset="/img/loading.gif" lazyload alt="image-20211020092850288"></p><h3 id="MoviePy的安装-新建conda环境，然后安装"><a href="#MoviePy的安装-新建conda环境，然后安装" class="headerlink" title="MoviePy的安装-新建conda环境，然后安装-"></a>MoviePy的安装-新建conda环境，然后安装-</h3><p>下载与安装</p><p>Conda包管理</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cmd">:: 为指定环境安装某个包<br><br>conda install -n TestPythonHello moviepy<br><br>:: 激活某个环境<br>activate TestPythonHello<br>conda install -c conda-forge moviepy<br></code></pre></td></tr></table></figure><p>MoviePy的安装-</p><p>新建conda环境，然后安装-</p><p><strong>首先，</strong>安装moviepy基本包。与其他的库一样，直接采用 pip 的方式安装即可，pip方便快捷</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs text">conda install moviepy<br>pip install moviepy<br><br><br><br>conda remove -n python38Video --all<br>删除python38Video文件夹<br>conda env list<br><br>#删除所有的下载的安装包及cache<br>conda clean -y --all <br><br>conda create --name python38Video python=3.8<br>activate python38Video<br>conda install moviepy<br><br><br></code></pre></td></tr></table></figure><p>安装完后，python38Video中有moviepy可以看见<code>moviepy/config_defaults.py</code>文件</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110201715540.png" srcset="/img/loading.gif" lazyload alt="image-20211020171527437"></p><p>防止错误定期重建everything索引</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110201727979.png" srcset="/img/loading.gif" lazyload alt="image-20211020172744825"></p><p><strong>第二步</strong>，安装依赖包ImageMagic</p><p>ImageMagic是用于在视频中填入文本信息的工具，我认为还是很有用处的，需要单独下载exe程序安装。</p><p>下载地址为：<a target="_blank" rel="noopener" href="https://imagemagick.org/script/download.php%EF%BC%8Cwindows%E7%B3%BB%E7%BB%9F%E9%A1%B5%E9%9D%A2%E6%8B%96%E5%88%B0%E6%9C%80%E4%B8%8B%E9%9D%A2%E5%8F%AF%E4%BB%A5%E6%89%BE%E5%88%B0%E3%80%82%E4%B8%8B%E8%BD%BD%E5%AE%8C%E6%AF%95%E5%90%8E%E5%8F%8C%E5%87%BB%E5%AE%89%E8%A3%85%E5%8D%B3%E5%8F%AF">https://imagemagick.org/script/download.php，windows系统页面拖到最下面可以找到。下载完毕后双击安装即可</a></p><p><a target="_blank" rel="noopener" href="https://www.imagemagick.org/script/index.php">ImageMagick</a> 只有在你想要添加文字时需要用到。它可作为一个后端用在GIF上，但如果不安装ImageMagick，你也可以用MoviePy处理GIF。</p><p>必须勾选才会有ImageMagick_VERSION\convert.exe”文件</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200932752.png" srcset="/img/loading.gif" lazyload alt="image-20211020092307789"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110200937892.png" srcset="/img/loading.gif" lazyload alt="image-20211020093705837"></p><p>一旦你安装了ImageMagick，它会被MoviePy自动检测到，<strong>除了Windows环境！</strong> Windows用户在手动安装MoviePy之前，应在<code>moviepy/config_defaults.py</code>文件中指定ImageMagick binary的路径，并叫做<em>convert</em>。看起来应该像是这样：</p><p>ImageMagic路径:</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs lsl">IMAGEMAGICK_BINARY = <span class="hljs-string">&quot;C:<span class="hljs-subst">\\</span>Program Files<span class="hljs-subst">\\</span>ImageMagick_VERSION<span class="hljs-subst">\\</span>convert.exe&quot;</span><br>IMAGEMAGICK_BINARY = <span class="hljs-string">&quot;D:<span class="hljs-subst">\\</span>MySoftware<span class="hljs-subst">\\</span>VideoCut<span class="hljs-subst">\\</span>ImageMagick-7.1.0-Q16-HDRI<span class="hljs-subst">\\</span>convert.exe&quot;</span><br></code></pre></td></tr></table></figure><p><strong>第三步</strong>，给选定环境中的moviepy 设置 ImageMagic路径</p><p>在上一步中安装了ImageMagic，但此时仍无法使用，因为Python不知道ImageMagic安装在哪里，需要在Python的库文件中找到<code>moviepy/config_defaults.py</code>，</p><p>并在最后一行加入<code>IMAGEMAGICK_BINARY = &quot;C:\\Program Files\\ImageMagick_VERSION\\convert.exe&quot;</code> （此处修改为你的安装路径）</p><p>至此，moviepy安装完毕！</p><p>eg:</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br>Configuration of MoviePy<br><br><br>This <span class="hljs-keyword">file</span> enables you <span class="hljs-keyword">to</span> specify <span class="hljs-keyword">a</span> configuration <span class="hljs-keyword">for</span> MoviePy. In<br>particular you can enter the path <span class="hljs-keyword">to</span> the FFMPEG <span class="hljs-built_in">and</span> ImageMagick<br>binaries.<br><br>Defaults must <span class="hljs-keyword">be</span> done BEFORE installing MoviePy: <span class="hljs-keyword">first</span> <span class="hljs-keyword">make</span> the <span class="hljs-keyword">changes</span>,<br>then install MoviePy with<br><br>    [sudo] <span class="hljs-keyword">python</span> setup.<span class="hljs-keyword">py</span> install<br><br>Note that you can also <span class="hljs-keyword">change</span> the path by setting environment variables.<br><span class="hljs-keyword">e</span>.g.<br><br>Linux/Mac:<br>   export FFMPEG_BINARY=path/<span class="hljs-keyword">to</span>/ffmpeg<br><br>Windows:<br>   <span class="hljs-keyword">set</span> FFMPEG_BINARY=path\<span class="hljs-keyword">to</span>\ffmpeg<br><br>Instructions<br>--------------<br><br>FFMPEG_BINARY<br>    Normally you can leave this one <span class="hljs-keyword">to</span> its default (<span class="hljs-string">&#x27;ffmpeg-imageio&#x27;</span>) at which<br>    case image-io will download the <span class="hljs-keyword">right</span> ffmpeg binary (at <span class="hljs-keyword">first</span> use) <span class="hljs-built_in">and</span> then<br>    always use that binary.<br>    The second option <span class="hljs-keyword">is</span> <span class="hljs-string">&#x27;auto-detect&#x27;</span>, in this case ffmpeg will <span class="hljs-keyword">be</span> whatever<br>    binary <span class="hljs-keyword">is</span> found <span class="hljs-keyword">on</span> the computer generally <span class="hljs-string">&#x27;ffmpeg&#x27;</span> (<span class="hljs-keyword">on</span> linux) <span class="hljs-built_in">or</span> <span class="hljs-string">&#x27;ffmpeg.exe&#x27;</span><br>    (<span class="hljs-keyword">on</span> windows).<br>    Third option: If you want <span class="hljs-keyword">to</span> use <span class="hljs-keyword">a</span> binary at <span class="hljs-keyword">a</span> special location <span class="hljs-keyword">on</span> you disk,<br>    enter it like that:<br><br>    FFMPEG_BINARY = r<span class="hljs-string">&quot;path/to/ffmpeg&quot;</span> # <span class="hljs-keyword">on</span> linux<br>    FFMPEG_BINARY = r<span class="hljs-string">&quot;path\to\ffmpeg.exe&quot;</span> # <span class="hljs-keyword">on</span> windows<br><br>    Warning: the <span class="hljs-string">&#x27;r&#x27;</span> before the path <span class="hljs-keyword">is</span> important, especially <span class="hljs-keyword">on</span> Windows.<br><br><br>IMAGEMAGICK_BINARY<br>    For linux users, <span class="hljs-string">&#x27;convert&#x27;</span> should <span class="hljs-keyword">be</span> fine.<br>    For Windows users, you must specify the path <span class="hljs-keyword">to</span> the ImageMagick<br>    <span class="hljs-string">&#x27;magick&#x27;</span> binary. For instance:<br><br>    IMAGEMAGICK_BINARY = r<span class="hljs-string">&quot;C:\Program Files\ImageMagick-6.8.8-Q16\magick.exe&quot;</span><br><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">&quot;</span><br><br>import os<br><br>FFMPEG_BINARY = os.getenv(<span class="hljs-string">&#x27;FFMPEG_BINARY&#x27;</span>, <span class="hljs-string">&#x27;ffmpeg-imageio&#x27;</span>)<br>IMAGEMAGICK_BINARY = os.getenv(<span class="hljs-string">&#x27;IMAGEMAGICK_BINARY&#x27;</span>, <span class="hljs-string">&#x27;auto-detect&#x27;</span>)<br>IMAGEMAGICK_BINARY = <span class="hljs-string">&quot;D:\\MySoftware\\VideoCut\\ImageMagick-7.1.0-Q16-HDRI\\convert.exe&quot;</span><br></code></pre></td></tr></table></figure><p>视频文件的读取</p><p>剪辑处理视频，首先需要读取到视频文件，主要有<code>VideoFileClip</code>、<code>clips_array</code>、<code>CompositeVideoClips</code>这三种方法</p><h1 id="Anaconda常用命令小结"><a href="#Anaconda常用命令小结" class="headerlink" title="Anaconda常用命令小结"></a>Anaconda常用命令小结</h1><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/wo-shi-lao-qi"><img src="https://pic3.zhimg.com/v2-e12f5d64d5fe50a52950bb9e7fc58f2a_xs.jpg?source=172ae18b" srcset="/img/loading.gif" lazyload alt="菜鸡日志"></a></p><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/wo-shi-lao-qi">菜鸡日志</a></p><p>沉迷学习</p><p>29 人赞同了该文章</p><p>简介</p><p>入门机器学习、深度学习，有个神器不得不了解下，最好熟练有它。这就是Anaconda</p><p>Anaconda是一个开源的Python发行版本，其包含了conda、Python等180多个科学包及其依赖项. 用它来管理、开发等，及其方便，里面集成了相当多的有用的吧，比如：numpy、pandas等。</p><p>还有个神器也在里面，jupyter notebook，这个用来调试代码等非常方便。现在就简单介绍一些anaconda常用的命令，方便大家早些上手。</p><p>首先，官网文档地址贴上：</p><p><a href="https://link.zhihu.com/?target=https://conda.io/docs/user-guide/index.html">https://conda.io/docs/user-guide/index.html</a></p><p>更详细的教程可直接查询官网~</p><p>Anaconda安装配置</p><p>安装过程在这里就略掉不展开了，在TensorFlow环境配置那有详细讲过，可以翻阅。</p><p>再贴个其他博客的地址，供参考（Windows版）</p><p><a href="https://link.zhihu.com/?target=https://blog.csdn.net/wz947324/article/details/80205181">https://blog.csdn.net/wz947324/article/details/80205181</a></p><p>安装好记得检查下环境变量，配置好环境变量</p><p>conda管理相关命令</p><p>conda自身相关</p><p>查看当前conda工具版本号</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda --version<br></code></pre></td></tr></table></figure><p><img src="https://pic4.zhimg.com/80/v2-75ac44cc5d04b4c8dee0b5a7509e5523_720w.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p>查看包括版本的更多信息</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda info<br></code></pre></td></tr></table></figure><p><img src="https://pic1.zhimg.com/80/v2-af840a14126f8f918b100c8251fca5a4_720w.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p>更新conda至最新版本</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda update conda<br></code></pre></td></tr></table></figure><p>查看conda帮助信息</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda -h<br></code></pre></td></tr></table></figure><p><img src="https://pic2.zhimg.com/80/v2-49449f2a50551c100a35f76b1b62957d_720w.jpg" srcset="/img/loading.gif" lazyload alt="img">关注公众号“学习与成长资源库”获取更多最新资料</p><p>环境管理相关</p><p>查看conda环境管理命令帮助信息</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda create --help<br></code></pre></td></tr></table></figure><p>创建出来的虚拟环境所在的位置为conda路径下的env&#x2F;文件下,,默认创建和当前python版本一致的环境.</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda create --name envname<br></code></pre></td></tr></table></figure><p>创建新环境时指定python版本为3.6，环境名称为python36</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda create --name python36 python=3.6<br></code></pre></td></tr></table></figure><p>切换到环境名为python36的环境（默认是base环境），切换后可通过python -V查看是否切换成功</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda activate python36<br></code></pre></td></tr></table></figure><p>返回前一个python环境</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda deactivate<br></code></pre></td></tr></table></figure><p>显示已创建的环境，会列出所有的环境名和对应路径</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda info -e<br></code></pre></td></tr></table></figure><p>删除虚拟环境</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda remove --name envname --all<br></code></pre></td></tr></table></figure><p>指定python版本,以及多个包</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda create -n envname python=3.4 scipy=0.15.0 astroib numpy<br></code></pre></td></tr></table></figure><p>查看当前环境安装的包</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">conda list   ##获取当前环境中已安装的包<br>conda list -n python36   ##获取指定环境中已安装的包<br></code></pre></td></tr></table></figure><p>克隆一个环境</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text"># clone_env 代指克隆得到的新环境的名称<br># envname 代指被克隆的环境的名称<br>conda create --name clone_env --clone envname<br><br>#查看conda环境信息<br>conda info --envs<br></code></pre></td></tr></table></figure><p>构建相同的conda环境(不通过克隆的方法)</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs text"># 查看包信息<br>conda list --explicit<br><br># 导出包信息到当前目录, spec-file.txt为导出文件名称,可以自行修改名称<br>conda list --explicit &gt; spec-file.txt<br><br># 使用包信息文件建立和之前相同的环境<br>conda create --name newenv --file spec-file.txt<br><br># 使用包信息文件向一个已经存在的环境中安装指定包<br>conda install --name newenv --file spec-file.txt<br></code></pre></td></tr></table></figure><p>查找包</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">#模糊查找，即模糊匹配，只要含py字符串的包名就能匹配到<br>conda search py   <br><br>##查找包，--full-name表示精确查找，即完全匹配名为python的包<br>conda search --full-name python<br></code></pre></td></tr></table></figure><p>安装更新删除包</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs text">##在当前环境中安装包<br>conda install scrapy  <br><br>##在指定环境中安装包<br>conda install -n python36 scrapy<br><br>##在当前环境中更新包  <br>conda update scrapy   <br><br>##在指定环境中更新包<br>conda update -n python36 scrapy  <br><br>##更新当前环境所有包<br>conda update --all   <br><br>##在当前环境中删除包<br>conda remove scrapy   <br><br>##在指定环境中删除包<br>conda remove -n python2 scrapy<br></code></pre></td></tr></table></figure><p>Python管理</p><p>查找可以安装的python</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text"># 查找所有名称包含python的包<br>conda search python<br><br># 查找全名为python的包<br>conda search --full-name python<br></code></pre></td></tr></table></figure><p>安装不同版本的Python</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs text">#在不影响当前版本的情况下,新建环境并安装不同版本的python<br>#新建一个Python版本为3.6 名称为 py36 的环境<br><br>conda create -n py36 python=3.6 anaconda<br><br>#注:将py36替换为您要创建的环境的名称。 anaconda是元数据包，带这个会把base的基础包一起安装，不带的话新环境只包含python3.6相关的包。 python = 3.6是您要在此新环境中安装的软件包和版本。 这可以是任何包，例如numpy = 1.7，或多个包。<br>#然后激活想要使用的环境即可<br>conda activate py36<br>#更新Python<br># 普通的更新python<br>conda update python<br><br># 将python更新到另外一个版本/安装指定版本的python<br>conda install python=3.6<br></code></pre></td></tr></table></figure><hr><p>分享环境</p><p>如果你想把你当前的环境配置与别人分享，这样ta可以快速建立一个与你一模一样的环境（同一个版本的python及各种包）来共同开发&#x2F;进行新的实验。一个分享环境的快速方法就是给ta一个你的环境的.yml文件。</p><p>首先通过activate target_env要分享的环境target_env，然后输入下面的命令会在当前工作目录下生成一个environment.yml文件</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda env export &gt; environment.yml<br></code></pre></td></tr></table></figure><p>小伙伴拿到environment.yml文件后，将该文件放在工作目录下，可以通过以下命令从该文件创建环境</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">conda env create -f environment.yml<br></code></pre></td></tr></table></figure><p>参考文档</p><p><a href="https://link.zhihu.com/?target=https://conda.io/docs/user-guide/index.html">https://conda.io/docs/user-guide/index.html</a></p><p><a href="https://link.zhihu.com/?target=https://blog.csdn.net/wz947324/article/details/80229560">https://blog.csdn.net/wz947324/article/details/80229560</a></p><p><a href="https://link.zhihu.com/?target=https://blog.csdn.net/menc15/article/details/71477949">https://blog.csdn.net/menc15/article/details/71477949</a></p><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><p><a target="_blank" rel="noopener" href="https://docs.conda.io/projects/conda/en/latest/index.html">Conda官方文档</a></p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs cmd">:: 获取版本号<br>conda --version<br>conda -V<br><br>:: 获取帮助<br>conda --<span class="hljs-built_in">help</span><br>conda -h<br><br>:: 查看某个子命令的帮助<br>conda config --<span class="hljs-built_in">help</span><br>conda update --<span class="hljs-built_in">help</span><br>conda remove --<span class="hljs-built_in">help</span><br>conda install --<span class="hljs-built_in">help</span><br><br>:: 查看环境管理的全部命令<br>conda env -h<br><br>:: 创建Python版本的环境<br>conda create --name your_env_name python=<span class="hljs-number">3</span>.<span class="hljs-number">7</span><br>conda create --name python38Video python=<span class="hljs-number">3</span>.<span class="hljs-number">8</span><br>conda create --name p28 python=<span class="hljs-number">2</span>.<span class="hljs-number">8</span> -y<br>conda create --name p30 python=<span class="hljs-number">3</span>.<span class="hljs-number">0</span> -y<br>conda create --name p35 python=<span class="hljs-number">3</span>.<span class="hljs-number">5</span> -y<br>conda create --name p36 python=<span class="hljs-number">3</span>.<span class="hljs-number">6</span> -y<br>conda create --name p37 python=<span class="hljs-number">3</span>.<span class="hljs-number">7</span> -y<br>conda create --name p38 python=<span class="hljs-number">3</span>.<span class="hljs-number">8</span> -y<br><br>:: 确定Python版本：<br>activate envname<br>python -V<br><br>:: 创建包含某些包的环境<br>conda create --name your_env_name numpy scipy<br><br>:: 创建指定Python版本下包含某些包的环境<br>conda create --name your_env_name python=<span class="hljs-number">3</span>.<span class="hljs-number">8</span> numpy scipy<br>conda create -n your_env_name3.<span class="hljs-number">6</span> python=<span class="hljs-number">3</span>.<span class="hljs-number">6</span> numpy scipy<br>conda create -n ksDjango3.<span class="hljs-number">8</span> python=<span class="hljs-number">3</span>.<span class="hljs-number">8</span><br><br>:: 列出当前所有环境<br>conda info --envs<br>conda env list<br><br>:: 激活某个环境<br>activate your_env_name<br>activate python38Video<br><br>:: 关闭某个环境<br>conda deactivate <br><br><br></code></pre></td></tr></table></figure><h4 id="克隆某个环境"><a href="#克隆某个环境" class="headerlink" title=":: 克隆某个环境"></a>:: 克隆某个环境</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cmd"># clone_env 代指克隆得到的新环境的名称<br># envname 代指被克隆的环境的名称<br>conda create --name clone_env --clone envname<br><br>#查看conda环境信息<br>conda info --envs<br>conda create -n HelloPython38 --clone TestPythonHello<br>conda create -n base20211023Python38 --clone base<br></code></pre></td></tr></table></figure><h5 id="构建相同的conda环境-不通过克隆的方法"><a href="#构建相同的conda环境-不通过克隆的方法" class="headerlink" title="构建相同的conda环境(不通过克隆的方法)"></a>构建相同的conda环境(不通过克隆的方法)</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看包信息</span><br>conda list --explicit<br><br><span class="hljs-comment"># 导出包信息到当前目录, spec-file.txt为导出文件名称,可以自行修改名称</span><br>conda list --explicit &gt; 2021年11月16日·星期2·4·09·54·15conda-p38-file.txt<br><br><span class="hljs-comment"># 使用包信息文件建立和之前相同的环境</span><br>conda create --name newenv --file spec-file.txt<br>conda create -n p38Video -conda-base-env-spec-file.txt<br><br><br>conda list --explicit &gt; 2021年10月23日·星期6·23·12·15conda-base-env-spec-file.txt<br><br><span class="hljs-comment"># 使用包信息文件向一个已经存在的环境中安装指定包</span><br>conda install --name newenv --file spec-file.txt<br></code></pre></td></tr></table></figure><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cmd">:不可以如此<br>应该先创建环境，然后倒入<br>conda create --name p38Proxy python=<span class="hljs-number">3</span>.<span class="hljs-number">8</span><br>conda install --name p35 --file spec-file.txt<br></code></pre></td></tr></table></figure><p><img src="/" srcset="/img/loading.gif" lazyload alt="image-20211116052025305"></p><h4 id="查找包"><a href="#查找包" class="headerlink" title="查找包"></a>查找包</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#模糊查找，即模糊匹配，只要含py字符串的包名就能匹配到</span><br>conda search py   <br><br><span class="hljs-comment">##查找包，--full-name表示精确查找，即完全匹配名为python的包</span><br>conda search --full-name pythona<br><br>:: 列出当前激活环境的所有包<br>conda list<br><br>:: 列出一个非激活环境的所有包<br>conda list --name your_env_name<br>conda list -n HelloPython38<br></code></pre></td></tr></table></figure><h4 id="查找可以安装的python"><a href="#查找可以安装的python" class="headerlink" title="查找可以安装的python"></a>查找可以安装的python</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查找所有名称包含python的包</span><br>conda search python<br><br><span class="hljs-comment"># 查找全名为python的包</span><br>conda search --full-name python<br><br><br><br></code></pre></td></tr></table></figure><h5 id="安装不同版本的Python"><a href="#安装不同版本的Python" class="headerlink" title="安装不同版本的Python"></a>安装不同版本的Python</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#在不影响当前版本的情况下,新建环境并安装不同版本的python</span><br><span class="hljs-comment">#新建一个Python版本为3.6 名称为 py36 的环境</span><br><br>conda create -n py36 python=3.6 anaconda<br>conda create --name p38Proxy python=3.8 -y<br><br><span class="hljs-comment">#注:将py36替换为您要创建的环境的名称。 anaconda是元数据包，带这个会把base的基础包一起安装，不带的话新环境只包含python3.6相关的包。 python = 3.6是您要在此新环境中安装的软件包和版本。 这可以是任何包，例如numpy = 1.7，或多个包。</span><br><span class="hljs-comment">#然后激活想要使用的环境即可</span><br>conda activate py36<br><span class="hljs-comment">#更新Python</span><br><span class="hljs-comment"># 普通的更新python</span><br>conda update python<br><br><span class="hljs-comment"># 将python更新到另外一个版本/安装指定版本的python</span><br>conda install python=3.6<br></code></pre></td></tr></table></figure><h4 id="安装包"><a href="#安装包" class="headerlink" title="安装包"></a>安装包</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">##在当前环境中安装包</span><br>conda install scrapy  <br><br><span class="hljs-comment">##在指定环境中安装包</span><br>conda install -n python36 scrapy<br><br>:: 为指定环境安装某个包<br>conda install -n env_name package_name<br>conda install -n TestPythonHello moviepy<br>cmd中运行<br>activate p38 &amp;&amp; pip install pyexecjs<br>记得关闭代理<br>activate p38Proxy &amp;&amp; pip install -r requirements.txt<br>activate p38 &amp;&amp; pip install -r  requirements.txt<br>activate p38 &amp;&amp; pip install -r  G:\Demo_Git\哔哩哔哩\上传\biliup\requirements.txt<br><br>activate p38 &amp;&amp; conda install --name p38 --file  requirements.txt  -y <br>activate p38 &amp;&amp; conda install --name p38 tensorflow  -y <br><br>pip install -r requirements.txt <br><span class="hljs-comment">## </span><br>conda install --<span class="hljs-built_in">yes</span> --file requirements.txt<br><br>conda install --name ksDjango3.8 autopep8 -y<br>conda install --name ksDjango3.8 --file requirements.txt  -y <br><br><br>activate HelloPython38<br>conda deactivate<br>conda uninstall moviepy<br><br>通道<br>conda config --add channels conda-forge<br>conda install  django<br>conda install -c conda-forge moviepy<br>conda install -c conda-forge ruia<br>conda install pytorch torchvision torchaudio cudatoolkit=11.0 -c pytorch<br></code></pre></td></tr></table></figure><h4 id="naconda-安装在线-x2F-离线-whl或者-tar-gz-包的一些方法"><a href="#naconda-安装在线-x2F-离线-whl或者-tar-gz-包的一些方法" class="headerlink" title="naconda 安装在线&#x2F;离线(.whl或者.tar.gz)包的一些方法"></a>naconda 安装在线&#x2F;离线(.whl或者.tar.gz)包的一些方法</h4><h5 id="在线包"><a href="#在线包" class="headerlink" title="在线包"></a>在线包</h5><p>对于命令行窗口安装，有两种终端窗口<br>1、“win”+R，输入”cmd“，如下<br><img src="https://pianshen.com/images/358/3064b99c7a8e0cf1c3804da99e200616.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>2、右键开始菜单，选择“Windows Powershell(I)”<br><img src="https://pianshen.com/images/12/230a3c00800d10930bae5575315b289c.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>个人建议可以用后面这个，命令更多。</p><p>将命令行的所在文件目录cd&#x2F;d到有conda或者pip的文件夹下，进行<br>conda install “文件名”<br>pip install “文件名”–&gt; conda 环境中也可以使用哦</p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211112185205415.png" srcset="/img/loading.gif" lazyload alt="image-20211112185205415"></p><h5 id="离线安装·请关闭代理–-gt-可以直接在cmd中进行"><a href="#离线安装·请关闭代理–-gt-可以直接在cmd中进行" class="headerlink" title="离线安装·请关闭代理–&gt; 可以直接在cmd中进行"></a>离线安装·<strong>请关闭代理</strong>–&gt; 可以直接在cmd中进行</h5><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211113051536343.png" srcset="/img/loading.gif" lazyload alt="image-20211113051536343"></p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmd"><span class="hljs-number">1</span>、安装.whl文件--&gt; **请关闭代理**<br>在Anaconda文件目录下打开Anaconda Powershell Prompt<br>输入pip install “路径\文件名”<br></code></pre></td></tr></table></figure><p>pip 指定某个路径安装包</p><p>场景：</p><p>有的时候我们安装了annconda环境，有很多的python环境，比如py36, py37, py27。此时，我们使用<code>pip</code>安装包的时候，经常可能安装在一个不知道的路径，或者不是我们期望安装的路径。</p><p>这就是本文要解决的问题了。</p><p>方法一</p><p>指定安装<code>numpy</code>包到固定文件夹下，比如这里“文件夹”是安装路径</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> -t 文件夹 numpy<br></code></pre></td></tr></table></figure><p>方法二</p><p>设置 pip 默认安装路径</p><p>找到 <code>site.py</code> 文件。（windows：可以通过自带的查找，或者使用 <code>everything</code>软件；Linux直接使用find命令即可）</p><p>我的目录：D:programAnacondaenvspy36Libsite.py</p><p>修改 <code>USER_SITE</code> 和 <code>USER_BASE</code> 两个字段的值(之前是null).</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment">#自定义依赖安装包的路径</span><br><span class="hljs-attr">USER_SITE</span> = null<br><span class="hljs-comment">#自定义的启用Python脚本的路径</span><br><span class="hljs-attr">USER_BASE</span> = null<br></code></pre></td></tr></table></figure><p>我这里修改为</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">USER_SITE</span> = <span class="hljs-string">&quot;D:\program\Anaconda\envs\py36\Lib\site-packages&quot;</span><br><span class="hljs-attr">USER_BASE</span> = <span class="hljs-string">&quot;D:\program\Anaconda\envs\py36\Scripts&quot;</span><br></code></pre></td></tr></table></figure><p>使用命令查看、验证</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">python -m site</span><br></code></pre></td></tr></table></figure><p>结果</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs taggerscript">sys.path = [<br>    &#x27;C:<span class="hljs-symbol">\\</span>Users<span class="hljs-symbol">\\</span>z2010&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>python36.zip&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>DLLs&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>lib&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>Lib<span class="hljs-symbol">\\</span>site-packages&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>Lib<span class="hljs-symbol">\\</span>site-packages<span class="hljs-symbol">\\</span>torchvision-0.2.1-py3.6.egg&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>Lib<span class="hljs-symbol">\\</span>site-packages<span class="hljs-symbol">\\</span>tqdm-4.28.1-py3.6.egg&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>Lib<span class="hljs-symbol">\\</span>site-packages<span class="hljs-symbol">\\</span>pyahocorasick-1.4.0-py3.6-win-amd64.egg&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>Lib<span class="hljs-symbol">\\</span>site-packages<span class="hljs-symbol">\\</span>win32&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>Lib<span class="hljs-symbol">\\</span>site-packages<span class="hljs-symbol">\\</span>win32<span class="hljs-symbol">\\</span>lib&#x27;,<br>    &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>Lib<span class="hljs-symbol">\\</span>site-packages<span class="hljs-symbol">\\</span>Pythonwin&#x27;,<br>]<br>USER_BASE: &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>Scripts&#x27; (exists)<br>USER_SITE: &#x27;D:<span class="hljs-symbol">\\</span>program<span class="hljs-symbol">\\</span>Anaconda<span class="hljs-symbol">\\</span>envs<span class="hljs-symbol">\\</span>py36<span class="hljs-symbol">\\</span>Lib<span class="hljs-symbol">\\</span>site-packages&#x27; (exists)<br>ENABLE_USER_SITE: True<br></code></pre></td></tr></table></figure><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cmd"><span class="hljs-number">2</span>、安装.tar.gz文件<br><br>（<span class="hljs-number">1</span>）将解压后的文件直接放在…/Anacoanda/Lib/site-packages目录下，删除版本号哦<br>注：需要将不带版本号的子文件放在目录下<br>（<span class="hljs-number">2</span>）在Anaconda文件目录下打开Anaconda Powershell Prompt·<br>输入：<br>python setup.py install<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211112183210140.png" srcset="/img/loading.gif" lazyload alt="image-20211112183210140"></p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cmd">离线安装-方法<span class="hljs-number">2</span><br>下载安装包:复制网址https://pypi.tuna.tsinghua.edu.cn/packages/<span class="hljs-number">42</span>/<span class="hljs-number">02</span>/<span class="hljs-number">7</span>b2fb0b81266aa3243dd8f392d48db1a206cc9a1856a14228e75c515616e/opencv-contrib-python-<span class="hljs-number">4</span>.<span class="hljs-number">5</span>.<span class="hljs-number">1</span>.<span class="hljs-number">48</span>.tar.gz到浏览器下载安装包<br>解压安装包:tar -zxvf opencv-contrib-python-<span class="hljs-number">4</span>.<span class="hljs-number">5</span>.<span class="hljs-number">1</span>.<span class="hljs-number">48</span>.tar.gz<br><span class="hljs-built_in">cd</span> opencv-contrib-python-<span class="hljs-number">4</span>.<span class="hljs-number">5</span>.<span class="hljs-number">1</span>.<span class="hljs-number">48</span><br>python setup.py build<br>提示错误:ModuleNotFoundError: No module named ‘skbuild’<br>解决:pip install scikit-build<br>提示错误:<br>解决:编译OpenCV 以及 openc_contrib 提示缺少boostdesc_bgm.i文件出错的解决<br>python setup.py install<br></code></pre></td></tr></table></figure><p><img src="https://pianshen.com/images/721/b9e6a58aa17d8801db9a1956f2f9e349.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p><p>配置环境变量了，cmd中也是可以操作</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd"><span class="hljs-number">1</span>、安装.whl文件--&gt; **请关闭代理**<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211111222403911.png" srcset="/img/loading.gif" lazyload alt="image-20211111222403911"></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/image-20211111221853167.png" srcset="/img/loading.gif" lazyload alt="image-20211111221853167"></p><h4 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">##在当前环境中更新包  </span><br>conda update scrapy   <br><br><span class="hljs-comment">##在指定环境中更新包</span><br>conda update -n python36 scrapy  <br><br><span class="hljs-comment">##更新当前环境所有包</span><br>conda update --all  <br></code></pre></td></tr></table></figure><h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>:: 删除某个环境<br>conda remove -n your_env_name(虚拟环境名称) --all， 即可删除。<br><span class="hljs-comment">##在当前环境中删除包</span><br>conda remove scrapy   <br><br><span class="hljs-comment">##在指定环境中删除包</span><br>conda remove -n python2 scrapy<br>conda remove -n python38Video --all<br>conda clean -p      //删除没有用的包<br>conda clean -t      //tar打包<br>conda clean -y --all //删除所有的下载的安装包及cache<br></code></pre></td></tr></table></figure><h4 id="分享环境"><a href="#分享环境" class="headerlink" title="分享环境"></a>分享环境</h4><p>如果你想把你当前的环境分享给朋友，让对方也可以快速拥有一个和你相同的环境（相同的版本和包），那么就给TA一个当前环境的<code>.yml</code>文件。</p><p>首先通过<code>activate target_env</code>要分享的环境<code>target_env</code>，然后输入以下命令，生成一个<code>.yml</code>文件</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">conda env export &gt; share_env.yml<br></code></pre></td></tr></table></figure><p>对方拿到后，放在指定目录下，然后通过命令创建该环境</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">conda env create -f share_env.yml<br></code></pre></td></tr></table></figure><p>如果你够厉害的话，这个文件完全可以手写，里面详细记录了每个包的名字和对应的版本号</p><h3 id="问题1：新建环境可解决"><a href="#问题1：新建环境可解决" class="headerlink" title="问题1：新建环境可解决"></a>问题1：新建环境可解决</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">发生异常: ImportError       (note: full exception trace is shown but execution is paused at: &lt;module&gt;)<br><br><br>IMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!<br><br>Importing the numpy C-extensions failed. This error can happen <span class="hljs-keyword">for</span><br>many reasons, often due to issues with your setup or how NumPy was<br>installed.<br><br>We have compiled some common reasons and troubleshooting tips at:<br><br>    https://numpy.org/devdocs/user/troubleshooting-importerror.html<br><br>Please note and check the following:<br><br>  * The Python version is: Python3.8 from <span class="hljs-string">&quot;D:\Java\Python\Anaconda3\envs\HelloPython38\python.exe&quot;</span><br>  * The NumPy version is: <span class="hljs-string">&quot;1.20.1&quot;</span><br><br>and make sure that they are the versions you expect.<br>Please carefully study the documentation linked above <span class="hljs-keyword">for</span> further <span class="hljs-built_in">help</span>.<br><br>Original error was: DLL load failed <span class="hljs-keyword">while</span> importing _multiarray_umath: 找不到指定的模块。<br><br>During handling of the above exception, another exception occurred:<br><br>  File <span class="hljs-string">&quot;H:\douyinVideo\视频拼接.py&quot;</span>, line 2, <span class="hljs-keyword">in</span> &lt;module&gt; (Current frame)<br>    from moviepy.editor import VideoFileClip,concatenate_videoclips<br></code></pre></td></tr></table></figure><h3 id="requirements-txt使用"><a href="#requirements-txt使用" class="headerlink" title="requirements.txt使用"></a>requirements.txt使用</h3><p>许多Python项目中都包含了requirements.txt文件，该文件记录了当前程序的所有依赖包及其精确版本号。</p><ol><li><strong>生成requirement.txt文件</strong></li></ol><blockquote><p>pip freeze &gt; requirements.txt</p></blockquote><p><strong>安装requirement.txt文件依赖</strong></p><blockquote><p>pip install -r requirements.txt</p></blockquote><ol><li>除了使用pip命令来生成及安装requirement.txt文件以外，也可以使用<strong>conda命令来安装</strong>。</li></ol><blockquote><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmd">## conda install --yes --file requirements.txt<br><br>conda install --name ksDjango3.<span class="hljs-number">8</span> autopep8 -y<br>conda install --name p38 --file requirements.txt  -y <br><br></code></pre></td></tr></table></figure></blockquote><p>但是这里存在一个问题，如果requirements.txt中的包不可用，则会抛出“无包错误”。<br>使用下面这个命令可以解决这个问题</p><blockquote><p>$ while read requirement; do conda install –yes $requirement; done &lt; requirements.txt</p></blockquote><p>如果想要在conda命令无效时使用pip命令来代替，那么使用如下命令：</p><blockquote><p>$ while read requirement; do conda install –yes $requirement || pip install $requirement; done &lt; requirements.txt</p></blockquote><ol><li>也可以这样子操作</li></ol><p><strong>导出到.yml文件</strong></p><blockquote><p>conda env export &gt; freeze.yml</p></blockquote><p><strong>直接创建conda环境</strong></p><blockquote><p>conda env create -f freeze.yml</p></blockquote><p>Reference：<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/35802939/install-only-available-packages-using-conda-install-yes-file-requirements-t">Install only available packages using “conda install –yes –file requirements.txt” without error</a></p><p><img src="C:/Users/HelloWorld/AppData/Roaming/Typora/typora-user-images/image-20211020161426340.png" srcset="/img/loading.gif" lazyload alt="image-20211020161426340"></p><h3 id="添加已安装的应用"><a href="#添加已安装的应用" class="headerlink" title="添加已安装的应用"></a>添加已安装的应用</h3><p>如果已经安装Pycharm Community和Vscode（这个会自动识别）；可以把Pycharm社区版手动添加到Anaconda Navigator里面</p><p>File -&gt; Preference -&gt; PyCharm CE path:”D:\Program Files\JetBrains\PyCharm Community Edition 2020.3.2”</p><p>MiniConda</p><p>Miniconda一个Conda的免费最小安装程序，它是Anaconda的小型启动程序版本，仅包含Python、Conda；最小的依赖包和少量的其他软件，属于精简版Conda；</p><h3 id="MiniConda下载地址-x2F-官方文档"><a href="#MiniConda下载地址-x2F-官方文档" class="headerlink" title="MiniConda下载地址&#x2F;官方文档"></a><a target="_blank" rel="noopener" href="https://docs.conda.io/en/latest/miniconda.html">MiniConda下载地址&#x2F;官方文档</a></h3><p>选择建议</p><p>如果选择Anaconda，则：</p><ul><li>是Conda或Python新手；</li><li>完全集成的环境安装大量软件包</li><li>多余的磁盘空间（占用大约3G）和节省安装插件或配置的时间；</li><li>不想单独安装每个所用的包或解决包依赖关系。</li></ul><h2 id="自动导入"><a href="#自动导入" class="headerlink" title="自动导入"></a>自动导入</h2><p>装一下这个插件，在 TS 和 TSX 模块中可用。<br><img src="https://img-blog.csdnimg.cn/3df240aad870487f9a8ac127a3df6b2f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQ4Nzc4Mg==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="请添加图片描述"><br>例如在这边导出一个 <code>compose</code> 函数：<br><img src="https://img-blog.csdnimg.cn/2086cad42d144b8aa0ac13b34f3b23ef.png" srcset="/img/loading.gif" lazyload alt="请添加图片描述"><br>在另一个模块中输入 <code>compose</code> 然后按回车：<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110251532711.png" srcset="/img/loading.gif" lazyload alt="请添加图片描述"><br>即可自动导入：<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/202110251532102.png" srcset="/img/loading.gif" lazyload alt="请添加图片描述"></p><h1 id="python-pip-安装-requirements-txt-报错"><a href="#python-pip-安装-requirements-txt-报错" class="headerlink" title="python pip 安装 requirements.txt 报错"></a><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000040128988">python pip 安装 requirements.txt 报错</a></h1><p><a target="_blank" rel="noopener" href="https://segmentfault.com/u/ponponon"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/2132139767-5c000091a1baa_huge128" srcset="/img/loading.gif" lazyload alt="img"><strong>ponponon</strong></a>发布于 6 月 6 日</p><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000040128988/en">English</a></p><h1 id="错误描述"><a href="#错误描述" class="headerlink" title="错误描述"></a>错误描述</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install requirements.txt <br>Defaulting to user installation because normal site-packages is not writeable<br>ERROR: Could not find a version that satisfies the requirement requirements.txt (from versions: none)<br>ERROR: No matching distribution found <span class="hljs-keyword">for</span> requirements.txt<br>vagrant@vagrant:/vagrant$ sudo pip install requirements.txt <br></code></pre></td></tr></table></figure><h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>少了 <code>-r</code> 参数，换成如下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install -r requirements.txt <br></code></pre></td></tr></table></figure><p><a target="_blank" rel="noopener" href="https://segmentfault.com/t/python"><img src="https://avatar-static.segmentfault.com/252/177/2521771040-54cb53b372821_small" srcset="/img/loading.gif" lazyload alt="img">python</a></p><p>阅读 1.3k发布于 6 月 6 日</p><p>copy</p><h1 id="001‘pkgs-dirs‘·spyder-x2F-conda安装包报错："><a href="#001‘pkgs-dirs‘·spyder-x2F-conda安装包报错：" class="headerlink" title="001		‘pkgs_dirs‘·		spyder&#x2F;conda安装包报错："></a>001 ‘pkgs_dirs‘· spyder&#x2F;conda安装包报错：</h1><h2 id="conda-info-could-not-be-constructed-KeyError-‘pkgs-dirs‘"><a href="#conda-info-could-not-be-constructed-KeyError-‘pkgs-dirs‘" class="headerlink" title="conda info could not be constructed. KeyError: ‘pkgs_dirs‘"></a>conda info could not be constructed. KeyError: ‘pkgs_dirs‘</h2><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/a699acab572a4dc192a7dea3e1a021ad.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>打开powershell，输入conda info一通报错。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs stata">(base) PS C:\Users\Administrator&gt; conda info<br><br># &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class="hljs-keyword">ERROR</span> <span class="hljs-keyword">REPORT</span> &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;<br><br>    Traceback (most recent call last):<br>      <span class="hljs-keyword">File</span> <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\exceptions.py&quot;</span>, <span class="hljs-keyword">line</span> 1082, <span class="hljs-keyword">in</span> __call__<br>        <span class="hljs-keyword">return</span> func(*<span class="hljs-keyword">args</span>, **kwargs)<br>      <span class="hljs-keyword">File</span> <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\main.py&quot;</span>, <span class="hljs-keyword">line</span> 87, <span class="hljs-keyword">in</span> _main<br>        exit_code = do_call(<span class="hljs-keyword">args</span>, p)<br>      <span class="hljs-keyword">File</span> <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\conda_argparse.py&quot;</span>, <span class="hljs-keyword">line</span> 84, <span class="hljs-keyword">in</span> do_call<br>        <span class="hljs-keyword">return</span> getattr(module, func_name)(<span class="hljs-keyword">args</span>, parser)<br>      <span class="hljs-keyword">File</span> <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\main_info.py&quot;</span>, <span class="hljs-keyword">line</span> 317, <span class="hljs-keyword">in</span> execute<br>        info_dict = get_info_dict(<span class="hljs-keyword">args</span>.system)<br>      <span class="hljs-keyword">File</span> <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\main_info.py&quot;</span>, <span class="hljs-keyword">line</span> 163, <span class="hljs-keyword">in</span> get_info_dict<br>        pkgs_dirs=context.pkgs_dirs,<br>      <span class="hljs-keyword">File</span> <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\base\context.py&quot;</span>, <span class="hljs-keyword">line</span> 530, <span class="hljs-keyword">in</span> pkgs_dirs<br>        fixed_dirs += user_data_dir(APP_NAME, APP_NAME),<br>      <span class="hljs-keyword">File</span> <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, <span class="hljs-keyword">line</span> 67, <span class="hljs-keyword">in</span> user_data_dir<br>        path = os.path.join(_get_win_folder(<span class="hljs-keyword">const</span>), appauthor, appname)<br>      <span class="hljs-keyword">File</span> <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, <span class="hljs-keyword">line</span> 284, <span class="hljs-keyword">in</span> _get_win_folder_with_pywin32<br>        from win32com.<span class="hljs-keyword">shell</span> import shellcon, <span class="hljs-keyword">shell</span><br>    ImportError: DLL load failed <span class="hljs-keyword">while</span> importing <span class="hljs-keyword">shell</span>: 找不到指定的程序。<br><br>`$ C:\ProgramData\anaconda3\Scripts\conda-script.py info`<br><br><br><span class="hljs-keyword">An</span> unexpected <span class="hljs-keyword">error</span> has occurred. Conda has prepared the above <span class="hljs-keyword">report</span>.<br><br><span class="hljs-keyword">If</span> submitted, this <span class="hljs-keyword">report</span> will be used <span class="hljs-keyword">by</span> core maintainers to improve<br>future releases of conda.<br>Would you like conda to send this <span class="hljs-keyword">report</span> to the core maintainers?<br><br>[y/<span class="hljs-keyword">N</span>]: <span class="hljs-keyword">n</span><br><br><span class="hljs-keyword">No</span> <span class="hljs-keyword">report</span> sent. To permanently opt-<span class="hljs-keyword">out</span>, <span class="hljs-keyword">use</span><br><br>    $ conda config --<span class="hljs-keyword">set</span> report_errors false<br>12345678910111213141516171819202122232425262728293031323334353637<br></code></pre></td></tr></table></figure><p>安装任意包同样报错。。。。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><code class="hljs vim">(base) PS C:\Users\Administrator&gt; conda install pybindll<br>Collecting package metadata (current_repodata.json): failed<br>WARNING conda.exception<span class="hljs-variable">s:print_unexpected_error_report</span>(<span class="hljs-number">1216</span>): KeyError(<span class="hljs-string">&#x27;pkgs_dirs&#x27;</span>)<br>Traceback (most recent <span class="hljs-keyword">call</span> <span class="hljs-keyword">last</span>):<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\exceptions.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">1082</span>, in __call__<br>    <span class="hljs-keyword">return</span> func(*<span class="hljs-keyword">args</span>, **kwargs)<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\main.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">87</span>, in _main<br>    exit_code = do_call(<span class="hljs-keyword">args</span>, <span class="hljs-keyword">p</span>)<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\conda_argparse.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">84</span>, in do_call<br>    <span class="hljs-keyword">return</span> getattr(module, func_name)(<span class="hljs-keyword">args</span>, parser)<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\main_install.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">20</span>, in <span class="hljs-keyword">execute</span><br>    install(<span class="hljs-keyword">args</span>, parser, <span class="hljs-string">&#x27;install&#x27;</span>)<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\install.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">260</span>, in install<br>    unlink_link_transaction = solver.solve_for_transaction(<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">152</span>, in solve_for_transaction<br>    unlink_precs, link_precs = self.solve_for_diff(update_modifier, deps_modifier,<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">195</span>, in solve_for_diff<br>    final_precs = self.solve_final_state(update_modifier, deps_modifier, prune, ignore_pinned,<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">300</span>, in solve_final_state<br>    ssc = self._collect_all_metadata(ssc)<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\common\io.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">88</span>, in decorated<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">f</span>(*<span class="hljs-keyword">args</span>, **kwds)<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">463</span>, in _collect_all_metadata<br>    <span class="hljs-built_in">index</span>, r = self._prepare(prepared_specs)<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">1058</span>, in _prepare<br>    reduced_index = get_reduced_index(self.prefix, self.channels,<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\index.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">288</span>, in get_reduced_index<br>    new_records = SubdirData.query_all(spec, channels=channels, subdirs=subdirs,<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\subdir_data.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">118</span>, in query_all<br>    create_cache_dir()<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\subdir_data.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">876</span>, in create_cache_dir<br>    cache_dir = <span class="hljs-keyword">join</span>(PackageCacheData.first_writable().pkgs_dir, <span class="hljs-string">&#x27;cache&#x27;</span>)<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\package_cache_data.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">151</span>, in first_writable<br>    pkgs_dirs = context.pkgs_dirs<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\base\context.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">530</span>, in pkgs_dirs<br>    fixed_dirs += user_data_dir(APP_NAME, APP_NAME),<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">67</span>, in user_data_dir<br>    path = os.path.<span class="hljs-keyword">join</span>(_get_win_folder(const), appauthor, appname)<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">284</span>, in _get_win_folder_with_pywin32<br>    from win32com.<span class="hljs-keyword">shell</span> import shellcon, <span class="hljs-keyword">shell</span><br>ImportError: DLL load failed <span class="hljs-keyword">while</span> importing <span class="hljs-keyword">shell</span>: 找不到指定的程序。<br><br>During handling of the above exception, another exception occurred:<br><br>Traceback (most recent <span class="hljs-keyword">call</span> <span class="hljs-keyword">last</span>):<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\exceptions.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">1214</span>, in print_unexpected_error_report<br>    message_builder.<span class="hljs-keyword">append</span>(get_main_info_str(error_report[<span class="hljs-string">&#x27;conda_info&#x27;</span>]))<br>  File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\main_info.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">237</span>, in get_main_info_str<br>    info_dict[<span class="hljs-string">&#x27;_&#x27;</span> + key] = (<span class="hljs-string">&#x27;\n&#x27;</span> + <span class="hljs-number">26</span> * <span class="hljs-string">&#x27; &#x27;</span>).<span class="hljs-keyword">join</span>(info_dict[key])<br>KeyError: <span class="hljs-string">&#x27;pkgs_dirs&#x27;</span><br><br># &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ERROR REPORT &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;<br><br>    Traceback (most recent <span class="hljs-keyword">call</span> <span class="hljs-keyword">last</span>):<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\exceptions.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">1082</span>, in __call__<br>        <span class="hljs-keyword">return</span> func(*<span class="hljs-keyword">args</span>, **kwargs)<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\main.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">87</span>, in _main<br>        exit_code = do_call(<span class="hljs-keyword">args</span>, <span class="hljs-keyword">p</span>)<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\conda_argparse.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">84</span>, in do_call<br>        <span class="hljs-keyword">return</span> getattr(module, func_name)(<span class="hljs-keyword">args</span>, parser)<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\main_install.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">20</span>, in <span class="hljs-keyword">execute</span><br>        install(<span class="hljs-keyword">args</span>, parser, <span class="hljs-string">&#x27;install&#x27;</span>)<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\cli\install.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">260</span>, in install<br>        unlink_link_transaction = solver.solve_for_transaction(<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">152</span>, in solve_for_transaction<br>        unlink_precs, link_precs = self.solve_for_diff(update_modifier, deps_modifier,<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">195</span>, in solve_for_diff<br>        final_precs = self.solve_final_state(update_modifier, deps_modifier, prune, ignore_pinned,<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">300</span>, in solve_final_state<br>        ssc = self._collect_all_metadata(ssc)<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\common\io.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">88</span>, in decorated<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">f</span>(*<span class="hljs-keyword">args</span>, **kwds)<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">463</span>, in _collect_all_metadata<br>        <span class="hljs-built_in">index</span>, r = self._prepare(prepared_specs)<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\solve.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">1058</span>, in _prepare<br>        reduced_index = get_reduced_index(self.prefix, self.channels,<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\index.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">288</span>, in get_reduced_index<br>        new_records = SubdirData.query_all(spec, channels=channels, subdirs=subdirs,<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\subdir_data.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">118</span>, in query_all<br>        create_cache_dir()<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\subdir_data.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">876</span>, in create_cache_dir<br>        cache_dir = <span class="hljs-keyword">join</span>(PackageCacheData.first_writable().pkgs_dir, <span class="hljs-string">&#x27;cache&#x27;</span>)<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\core\package_cache_data.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">151</span>, in first_writable<br>        pkgs_dirs = context.pkgs_dirs<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\base\context.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">530</span>, in pkgs_dirs<br>        fixed_dirs += user_data_dir(APP_NAME, APP_NAME),<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">67</span>, in user_data_dir<br>        path = os.path.<span class="hljs-keyword">join</span>(_get_win_folder(const), appauthor, appname)<br>      File <span class="hljs-string">&quot;C:\ProgramData\anaconda3\lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">284</span>, in _get_win_folder_with_pywin32<br>        from win32com.<span class="hljs-keyword">shell</span> import shellcon, <span class="hljs-keyword">shell</span><br>    ImportError: DLL load failed <span class="hljs-keyword">while</span> importing <span class="hljs-keyword">shell</span>: 找不到指定的程序。<br><br>`$ C:\ProgramData\anaconda3\Scripts\conda-script.<span class="hljs-keyword">py</span> install pybindll`<br><br>  environment variables:<br>conda info could not <span class="hljs-keyword">be</span> constructed.<br>KeyError(<span class="hljs-string">&#x27;pkgs_dirs&#x27;</span>)<br><br>An unexpected error <span class="hljs-built_in">has</span> occurred. Conda <span class="hljs-built_in">has</span> prepared the above report.<br><br>If submitted, this report will <span class="hljs-keyword">be</span> used by core maintainers <span class="hljs-keyword">to</span> improve<br>future releases of conda.<br>Would you like conda <span class="hljs-keyword">to</span> send this report <span class="hljs-keyword">to</span> the core maintainers?<br><br>[<span class="hljs-keyword">y</span>/<span class="hljs-keyword">N</span>]: n<br><br>No report sent. To permanently <span class="hljs-keyword">opt</span>-out, use<br><br>    $ conda config --<span class="hljs-keyword">set</span> report_errors false<br><br><span class="hljs-number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110</span><br></code></pre></td></tr></table></figure><p>尝试了很多网上的方法都不行，环境变量也没问题，最后conda重新安装还是不行，最终找到的办法如下：</p><h1 id="解决办法："><a href="#解决办法：" class="headerlink" title="解决办法："></a><strong>解决办法：</strong></h1><p>找到<code>C:\Users\&#123;用户名&#125;\AppData\Roaming\Python\Python&#123;version&#125;\site-packages</code>这个路径，删除<code>site-packages</code>这个文件夹，conda报错便消失。</p><p>输入<code>conda info</code>验证：<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/5024f897dc9c43439976d389dcfc9aa8.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>没有问题，说明问题解决。</p><h1 id="问题分析："><a href="#问题分析：" class="headerlink" title="问题分析："></a>问题分析：</h1><p>conda安装后，从上面可以看到，<code>conda install</code>自动下载的脚本和安装包是在<code>C:\ProgramData\anaconda3\pkgs; C:\Users\Administrator\.conda\pkgs; C:\Users\Administrator\AppData\Local\conda\conda\pkgs</code></p><p>而pip安装各种包的默认安装地址是<code>C:\Users\&#123;用户名&#125;\AppData\Roaming\Python\Python&#123;version&#125;\site-packages； C:\Users\&#123;用户名&#125;\AppData\Roaming\Python\Python&#123;version&#125;\scripts</code>；这里可以通过<code>python -m site</code>命令查看：<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/e504fbcd6fed4d19bbb750dd7962e58b.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>其中USER_BASE和USER_SITE就是python默认通过pip自动下载的脚本和依赖安装包的基础路径。（我这里doesn’t exist是因为我已经删掉这个文件夹了）<br>然后使用命令<code>python -m site -help</code>，可以看到<br><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/e57d77f92858456293125c856b0b4985.png" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>说明这个路径配置是在anaconda3\lib\site.py这个文件中。可以对这个进行修改换成自己脚本和包的安装路径。<br>可以再次使用<code>python -m site</code>来查看是否替换成功</p><p>PS： 多说一句，看conda官方issue中提到，尽量不要使用pip和conda混合安装，因为两种安装方法的二进制编译存在差异，暂时还不清楚和这个有没有关系，但pip和conda最好是常常只用一种方式。</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><h1 id="python中四种获取文件后缀名的方法"><a href="#python中四种获取文件后缀名的方法" class="headerlink" title="python中四种获取文件后缀名的方法"></a>python中四种获取文件后缀名的方法</h1><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/python-xue-xi-zhe"><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-d9b31c9ce987226e33777c85e97150ff_l.jpg" srcset="/img/loading.gif" lazyload alt="Python 学习者"></a></p><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/python-xue-xi-zhe">Python 学习者</a></p><p>3 人赞同了该文章</p><p>获取文件的后缀名有好几种方法：</p><p><strong>第一种：splittext()方法</strong></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-dc76a33681e156bda58c686653936911_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>第二种：endswith()方法</strong></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-f870b1ec0707e76b216d707708dd348c_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>第三种：判断后缀名是否在字符串中（这种会存在误判，若是.pyx后缀，一样会打印True，前面两种不会）</strong></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-cd35ac47d2cc72b88e597e9f1595b638_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>第四种：用split方法切割，但是吧这种只是拿到了py没有点，所以再加上点也是可以的</strong></p><p><img src="https://cdn.jsdelivr.net/gh/MuyanGit/pic_url@master/img/v2-220f4781e7debf18338a1baa3ffe462a_720w.webp" srcset="/img/loading.gif" lazyload alt="img"></p><p>转自：<a href="https://link.zhihu.com/?target=https://blog.csdn.net/sinat_38682860/article/details/115351782">python中四种获取文件后缀名的方法-侵删</a></p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%8A%80%E6%9C%AF/" class="category-chain-item">技术</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Anaconda/">#Anaconda</a></div></div><div class="license-box my-3"><div class="license-title"><div>Anaconda + VSCode 配置python环境</div><div>http://example.com/2021/10/20/Anaconda-VSCode-配置python环境/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>MuyanGit</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2021年10月20日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2021/10/20/%E7%A6%81%E6%AD%A2%E8%BD%AF%E4%BB%B6%E8%81%94%E7%BD%91%EF%BC%8C%E7%A6%81%E6%AD%A2%E6%96%87%E4%BB%B6%E5%A4%B9%E8%AE%BF%E9%97%AE%E7%BD%91%E7%BB%9C/" title=" 禁止软件联网，禁止文件夹访问网络    "><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">禁止软件联网，禁止文件夹访问网络 </span><span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2021/10/20/moviepy%E5%9C%A8win%E4%B8%8A%E6%89%BE%E4%B8%8D%E5%88%B0ImageMagick/" title=" moviepy在win上找不到ImageMagick    "><span class="hidden-mobile">moviepy在win上找不到ImageMagick </span><span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",function(){Fluid.utils.createScript("https://lib.baomitu.com/valine/1.4.17/Valine.min.js",function(){var i=Object.assign({appId:"wrsI8VLOqU4aU1Bf7ax2ybPp-MdYXbMMI",appKey:"AEijWlUoG3pMbyJKxexAmJtN",path:"window.location.pathname",placeholder:null,avatar:"retro",meta:["nick","mail","link"],requiredFields:[],pageSize:10,lang:"zh-CN",highlight:!1,recordIP:!1,serverURLs:"",emojiCDN:null,emojiMaps:null,enableQQ:!1},{el:"#valine",path:window.location.pathname});new Valine(i),Fluid.utils.waitElementVisible("#valine .vcontent",()=>{var i="#valine .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)})})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t){var e=Fluid.plugins.typing,t=t.getElementById("subtitle");t&&e&&e(t.getAttribute("data-typed-text"))}((window,document))</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-t}),0<o.find(".toc-list-item").length&&o.css("visibility","visible"))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var o,n=[];for(o of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))n.push(".markdown-body > "+o.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(n.join(", "))})</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script defer src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>